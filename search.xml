<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>react-router v5 å‡çº§ v6</title>
      <link href="/2024/06/19/react-router-v6/"/>
      <url>/2024/06/19/react-router-v6/</url>
      
        <content type="html"><![CDATA[<h1 id="react-router-v5-å‡çº§-v6"><a href="#react-router-v5-å‡çº§-v6" class="headerlink" title="react-router v5 å‡çº§ v6"></a>react-router v5 å‡çº§ v6</h1><p>â›„ï¼šæœ€è¿‘åœ¨ç»™é¡¹ç›®ä» react-router v5 å‡çº§åˆ° v6ï¼Œå‘ç° v6 æ˜¯ä¸€æ¬¡é‡å¤§æ›´æ–°ï¼Œæœ‰å¾ˆå¤šçš„ç ´åæ€§å˜æ›´ï¼Œæˆ‘è¿™é‡Œæ€»ç»“äº†ä¸€äº›å¸¸è§çš„ API æ›¿æ¢æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ã€‚</p><blockquote><p>å®˜æ–¹å‡çº§æ–‡æ¡£ï¼š<a href="https://reactrouter.com/en/main/upgrading/v5">https://reactrouter.com/en/main/upgrading/v5</a></p></blockquote><p><strong>å‡çº§ react-router ä¸»è¦æœ‰ä»¥ä¸‹æ”¶ç›Š</strong>ï¼š</p><ul><li><p>react-router åŒ…ä½“ç§¯å‡å°ï¼Œ20kb -&gt; 8kbã€‚</p></li><li><p>æ›´å°æˆæœ¬çš„ä½¿ç”¨ Error Boundariesï¼Œå¯åœ¨é…ç½®å¼è·¯ç”±ä¸­ä½¿ç”¨é…ç½®çš„æ–¹å¼åœ¨ä»»æ„å­è·¯ç”±æ¥å…¥ Error Boundariesã€‚é˜²æ­¢é¡µé¢ç™½å±ï¼Œé™ä½ç™½å±ç‡ã€‚</p></li><li><p>é…ç½®åŒ–è·¯ç”±ï¼Œè·¯ç”±ç¼–å†™å½¢å¼æ›´åŠ ç®€æ´ï¼Œä½¿ç”¨é…ç½®çš„æ–¹å¼ä¸€é”®ç”Ÿæˆè·¯ç”±ã€‚</p></li><li><p>æ›´å¤šçš„ hooks æ›¿ä»£åŸå…ˆçš„ propsã€‚</p></li><li><p><a href="https://remix.run/">æ­é… Remix å¯ä»¥æœ‰æ›´å¤šçš„ç‰¹æ€§</a>ï¼š</p><ul><li>å¹¶è¡Œæ‡’åŠ è½½ï¼Œåœ¨æ·±å±‚è·¯ç”±åµŒå¥—ä¸­ï¼Œreact-router v6 ä¼šå¹¶è¡Œè¯·æ±‚æ‰€æœ‰å­è·¯ç”±çš„èµ„æºï¼Œè€Œä¸æ˜¯åƒ v5 ä¸€æ ·ä¸€çº§ä¸€çº§è¯·æ±‚ã€‚æé«˜åŠ è½½é€Ÿåº¦ï¼Œè·¯ç”±å±‚çº§è¶Šæ·±æ•ˆæœè¶Šæ˜æ˜¾ã€‚ å‡çº§æ­¥éª¤</li></ul></li></ul><h2 id="å‡çº§æ­¥éª¤"><a href="#å‡çº§æ­¥éª¤" class="headerlink" title="å‡çº§æ­¥éª¤"></a>å‡çº§æ­¥éª¤</h2><ul><li>æ‰§è¡Œå‘½ä»¤ <code>npm uninstall @types/react-router</code>ï¼Œv6 ç‰ˆæœ¬ä½¿ç”¨ ts é‡æ„ï¼Œæ— éœ€ ts ç±»å‹åŒ…ã€‚</li><li>æ‰§è¡Œå‘½ä»¤ <code>npm update react-router@6 react-router-dom@6</code>ï¼Œå‡çº§ react-router ç‰ˆæœ¬ã€‚</li><li>æ›´æ¢ APIï¼Œå¯ç›´æ¥è¿è¡Œé¡¹ç›®æŸ¥çœ‹æŠ¥é”™ï¼Œä¾æ®æŠ¥é”™ä½ç½®ä¸€æ­¥æ­¥æ›¿æ¢ã€‚ä¸‹æ–‡åˆ—å‡ºäº†å¯¹åº” API çš„å˜æ›´åŠæ›¿æ¢æ–¹å¼ï¼Œå¤§å®¶ç›´æ¥å¯¹ç…§è‡ªå·±é¡¹ç›®ä¸­æ—§çš„ API åœ¨æ–‡ä¸­æœç´¢å³å¯ğŸ˜€ã€‚</li></ul><blockquote><p>@types&#x2F;react-router-dom å‡çº§ä¸ºç›¸åŒæ­¥éª¤ã€‚</p></blockquote><h2 id="API-å˜æ›´"><a href="#API-å˜æ›´" class="headerlink" title="API å˜æ›´"></a>API å˜æ›´</h2><h3 id="useHistory-ä½¿ç”¨-useNavigate-ä»£æ›¿"><a href="#useHistory-ä½¿ç”¨-useNavigate-ä»£æ›¿" class="headerlink" title="useHistory ä½¿ç”¨ useNavigate ä»£æ›¿"></a>useHistory ä½¿ç”¨ useNavigate ä»£æ›¿</h3><ul><li>v6 ä¸­ useHistory è¢«ç§»é™¤ï¼Œä¸å†æ”¯æŒè·å– histoy å¯¹è±¡ï¼Œæ‰€æœ‰ history å¯¹è±¡ä¸Šçš„å±æ€§åŠæ–¹æ³•éƒ½éœ€è¦æ›¿æ¢ã€‚</li><li>å¸¸ç”¨çš„è·³è½¬æ–¹æ³•éœ€è¦ä½¿ç”¨ useNavigate æ›¿æ¢ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> history = <span class="title function_">useHistory</span>();</span><br><span class="line">  </span><br><span class="line">history.<span class="title function_">push</span>(<span class="string">&#x27;/tns&#x27;</span>, data);</span><br><span class="line">history.<span class="title function_">replace</span>(<span class="string">&#x27;/tns&#x27;</span>);</span><br><span class="line">history.<span class="title function_">goBack</span>();</span><br><span class="line">history.<span class="title function_">goForward</span>();</span><br><span class="line">history.<span class="title function_">go</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; useNavigate &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();</span><br><span class="line">  </span><br><span class="line"><span class="title function_">navigate</span>(<span class="string">&#x27;/tns&#x27;</span>, &#123; <span class="attr">state</span>: data &#125;);</span><br><span class="line"><span class="title function_">navigate</span>(<span class="string">&#x27;/tns&#x27;</span>, &#123; <span class="attr">replace</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="title function_">navigate</span>(-<span class="number">1</span>);</span><br><span class="line"><span class="title function_">navigate</span>(<span class="number">1</span>);</span><br><span class="line"><span class="title function_">navigate</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="history-location-ä½¿ç”¨-useLocation-ä»£æ›¿"><a href="#history-location-ä½¿ç”¨-useLocation-ä»£æ›¿" class="headerlink" title="history.location ä½¿ç”¨ useLocation ä»£æ›¿"></a>history.location ä½¿ç”¨ useLocation ä»£æ›¿</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> history = <span class="title function_">useHistory</span>();</span><br><span class="line"><span class="keyword">const</span> location = history.<span class="property">location</span>;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; useLocation &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> location = <span class="title function_">useLocation</span>();</span><br></pre></td></tr></table></figure><h3 id="history-listen-ä½¿ç”¨-useEffect-ç›‘å¬-location-ä»£æ›¿"><a href="#history-listen-ä½¿ç”¨-useEffect-ç›‘å¬-location-ä»£æ›¿" class="headerlink" title="history.listen ä½¿ç”¨ useEffect ç›‘å¬ location ä»£æ›¿"></a>history.listen ä½¿ç”¨ useEffect ç›‘å¬ location ä»£æ›¿</h3><ul><li>history.listen ä¸­å¸¸ç”¨ä¸¤ä¸ªå‚æ•° location ä¸ actionï¼Œåˆ†åˆ«å¯ä»¥ä½¿ç”¨ useLocation ä¸ useNavigationType è·å–ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> history = <span class="title function_">useHistory</span>();</span><br><span class="line">history.<span class="title function_">listen</span>(<span class="function">(<span class="params">location, action</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; useLocation, useNavigationType &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> location = <span class="title function_">useLocation</span>();</span><br><span class="line"><span class="keyword">const</span> navigationType = <span class="title function_">useNavigationType</span>();</span><br><span class="line">  </span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;, [location, navigationType])</span><br></pre></td></tr></table></figure><h3 id="history-blocker-ä½¿ç”¨-useBlocker-ä»£æ›¿"><a href="#history-blocker-ä½¿ç”¨-useBlocker-ä»£æ›¿" class="headerlink" title="history.blocker ä½¿ç”¨ useBlocker ä»£æ›¿"></a>history.blocker ä½¿ç”¨ useBlocker ä»£æ›¿</h3><ul><li>history.blocker ç»Ÿä¸€ä½¿ç”¨ useBlocker æ›¿æ¢ï¼ŒuseBlocker ç›‘å¬å‡½æ•°ä¸­ï¼Œè¿”å› true é˜»æ­¢è·³è½¬ï¼Œè¿”å› false ä¸é˜»æ­¢è·³è½¬ã€‚</li><li>history.block ä¸­ç”¨åˆ°çš„ location ä¸ action å‚æ•°ä½¿ç”¨ nextLocation historyAction æ›¿æ¢ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> history = <span class="title function_">useHistory</span>();</span><br><span class="line">history.<span class="title function_">block</span>(<span class="function">(<span class="params">location , action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; useBlocker &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="title function_">useBlocker</span>(<span class="function">(<span class="params">&#123; nextLocation, historyAction &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (xxx) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// è¿”å› true é˜»æ­¢å½“å‰è·³è½¬</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// è¿”å› false ä¸è¿›è¡Œé˜»æ­¢è·³è½¬</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="withRouter"><a href="#withRouter" class="headerlink" title="withRouter"></a>withRouter</h3><ul><li>withRouter åœ¨ v6 ä¸­ç§»é™¤ã€‚withRouter ä¸»è¦æ˜¯å‘ç»„ä»¶ä¸­æ³¨å…¥ historyã€locationã€match è¿™ä¸‰ä¸ª propsï¼Œéœ€è¦è§‚å¯Ÿè¢«è§‚å¯Ÿçš„ç»„ä»¶æ˜¯å¦ç”¨åˆ°äº†è¿™ä¸‰ä¸ª propsï¼Œå¦‚æœç”¨åˆ°éœ€è¦ä½¿ç”¨æ–°çš„ hooksï¼Œåˆ†åˆ«ä½¿ç”¨ useNavigateã€useLocationã€useMatch ä»£æ›¿ï¼Œæœ€ååˆ é™¤ withRouter å³å¯ã€‚</li></ul><h3 id="Switch-æ›¿æ¢ä¸º-Routes"><a href="#Switch-æ›¿æ¢ä¸º-Routes" class="headerlink" title="Switch æ›¿æ¢ä¸º Routes"></a>Switch æ›¿æ¢ä¸º Routes</h3><ul><li>v6 ä¸­ Switch è¢«ç§»é™¤ï¼Œç›´æ¥æ›¿æ¢ä¸º Routes å³å¯ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Route</span>, <span class="title class_">Switch</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;xxx&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">XXX</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">Switch</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Route</span>, <span class="title class_">Routes</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;xxx&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">XXX</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">Routes</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Redirect-æ›¿æ¢ä¸º-Navigate"><a href="#Redirect-æ›¿æ¢ä¸º-Navigate" class="headerlink" title="Redirect æ›¿æ¢ä¸º Navigate"></a>Redirect æ›¿æ¢ä¸º Navigate</h3><ul><li>Redirect v6 ä¸­è¢«ç§»é™¤ï¼Œä½¿ç”¨ Navigate ä¼ å…¥ to ä¸ºé‡å®šå‘çš„åœ°å€è¿›è¡Œè·³è½¬ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line">&lt;<span class="title class_">Redirect</span> <span class="keyword">from</span>=&#123;routePath&#125; to=&#123;redirectPath&#125; exact /&gt;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&#123;redirectPath&#125;</span> /&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Route-ç»„ä»¶å˜æ›´"><a href="#Route-ç»„ä»¶å˜æ›´" class="headerlink" title="Route ç»„ä»¶å˜æ›´"></a>Route ç»„ä»¶å˜æ›´</h3><ul><li>strict è¢«åˆ é™¤ï¼Œpath æœ«å°¾çš„ â€˜&#x2F;â€˜ é»˜è®¤è¢«å¿½ç•¥ã€‚</li><li>exact è¢«åˆ é™¤ï¼Œæ·±åº¦åŒ¹é…åœ¨ path æœ«å°¾åŠ  â€˜&#x2F;*â€™ å¼€å¯ã€‚</li><li>sensitive å¤§å°å†™æ•æ„Ÿæ›¿æ¢ä¸º caseSensitiveã€‚</li><li>children ä¸­ä¸å†éœ€è¦å†…å®¹ï¼Œæ›¿æ¢ä¸º element ç”¨äºä¼ é€’å­è·¯ç”±ç»„ä»¶ã€‚</li><li>pathï¼šreact-router v6 ä¸­è·¯å¾„æ˜¯ç›¸å¯¹çš„ï¼Œpath å£°æ˜æ—¶æ— éœ€åœ¨èµ·å§‹å¤„å†™ â€˜&#x2F;â€˜ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line">&lt;<span class="title class_">Route</span></span><br><span class="line"> key=&#123;routePath&#125;</span><br><span class="line"> path=&#123;routePath&#125;</span><br><span class="line"> sensitive=&#123;sensitive&#125; <span class="comment">// å¤§å°å†™æ˜¯å¦æ•æ„Ÿæ›¿æ¢ä¸º caseSensitive</span></span><br><span class="line"> strict=&#123;strict&#125; <span class="comment">// strict è¢«åˆ é™¤äº† æœ«å°¾çš„&#x27;/&#x27;ä¼šè¢«å¿½ç•¥</span></span><br><span class="line"> exact=&#123;exact&#125; <span class="comment">// exact è¢«åˆ é™¤äº† éœ€è¦è¿›è¡Œæ·±åº¦åŒ¹é…åœ¨æœ«å°¾åŠ * path/*</span></span><br><span class="line">&gt;</span><br><span class="line"> &#123;children&#125;</span><br><span class="line">&lt;/<span class="title class_">Route</span>&gt;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Route</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"> <span class="attr">key</span>=<span class="string">&#123;routePath&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"> <span class="attr">path</span>=<span class="string">&#123;routePath&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"> <span class="attr">caseSensitive</span>=<span class="string">&#123;caseSensitive&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"> <span class="attr">element</span>=<span class="string">&#123;children&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">/&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="RouteObject-é…ç½®å¼è·¯ç”±"><a href="#RouteObject-é…ç½®å¼è·¯ç”±" class="headerlink" title="RouteObject é…ç½®å¼è·¯ç”±"></a>RouteObject é…ç½®å¼è·¯ç”±</h3><ul><li>v5 ç‰ˆæœ¬ä»…èƒ½ä½¿ç”¨ jsx è¿›è¡Œè·¯ç”±çš„ç¼–å†™ï¼Œåœ¨ v6 ç‰ˆæœ¬ä¸­å¯ä»¥å‡çº§ä¸ºé…ç½®å¼è·¯ç”±ã€‚</li><li>çˆ¶çº§è·¯ç”±ä¸­éœ€è¦åœ¨å†…éƒ¨ä½¿ç”¨ <code>&lt;Outlet /&gt;</code> ç»„ä»¶ï¼Œç”¨äºæŒ‚è½½å­è·¯ç”±çš„å…¥å£ã€‚</li><li>è·¯ç”±é…ç½®å˜æ›´ä¸ Route ä¸€è‡´ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouteObject</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">routeConfig</span>: <span class="title class_">RouteObject</span>[] = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="title class_">Component</span>: <span class="variable constant_">XXX</span>, <span class="comment">// è¯¥è·¯ç”±ä¸‹æŒ‚è½½çš„ç»„ä»¶</span></span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;xxx&#x27;</span>,</span><br><span class="line">                <span class="title class_">ErrorBoundary</span>: <span class="variable constant_">XXX</span>, <span class="comment">// å¼‚å¸¸æ•è·ç»„ä»¶</span></span><br><span class="line">                <span class="attr">children</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">path</span>: <span class="string">&#x27;xxx/*&#x27;</span>,</span><br><span class="line">                          <span class="comment">// æ‡’åŠ è½½ï¼Œéœ€è¦æ–‡ä»¶ä¸­å¯¼å‡º Component å‘½åçš„ç»„ä»¶</span></span><br><span class="line">                        <span class="attr">lazy</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;xxx&#x27;</span>),</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">                <span class="title class_">Component</span>: <span class="title class_">NotFound</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line">  </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> routeConfig;</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ createBrowserRouter ä¸ RouterProvider æ¶ˆè´¹é…ç½®å¼è·¯ç”±</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  createBrowserRouter,</span><br><span class="line">  <span class="title class_">RouterProvider</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> routeConfig <span class="keyword">from</span> <span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Root</span>, &#123; rootLoader &#125; <span class="keyword">from</span> <span class="string">&quot;./routes/root&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Team</span>, &#123; teamLoader &#125; <span class="keyword">from</span> <span class="string">&quot;./routes/team&quot;</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createBrowserRouter</span>(routeConfig);</span><br><span class="line">  </span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>)).<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">RouterProvider</span> <span class="attr">router</span>=<span class="string">&#123;router&#125;</span> /&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="useRouteMatch-ä½¿ç”¨-useMatch-useMatchs-ä»£æ›¿"><a href="#useRouteMatch-ä½¿ç”¨-useMatch-useMatchs-ä»£æ›¿" class="headerlink" title="useRouteMatch ä½¿ç”¨ useMatch useMatchs ä»£æ›¿"></a>useRouteMatch ä½¿ç”¨ useMatch useMatchs ä»£æ›¿</h3><ul><li>useRouteMatch è¢«ç§»é™¤ï¼Œå¯ä½¿ç”¨ useMatch useMatchs ä»£æ›¿ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; useRouteMatch &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="comment">// è·å–åˆ°å½“å‰çš„è·¯ç”±åŒ¹é…çš„ match å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> match = <span class="title function_">useRouteMatch</span>();</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; useMatch, useMatches &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line"><span class="comment">// å•ç‹¬è·å– match å¯¹è±¡éœ€è¦ä¼ å…¥ path</span></span><br><span class="line"><span class="keyword">const</span> match = <span class="title function_">useMatch</span>(<span class="string">&#x27;/example&#x27;</span>);</span><br><span class="line"><span class="comment">// è·å–ä»æ ¹è·¯ç”±åˆ°å½“å‰è·¯ç”±çš„å…¨éƒ¨ matches å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> matches = <span class="title function_">useMatches</span>();</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-useSearchParams-è·å–è·¯ç”±å‚æ•°"><a href="#ä½¿ç”¨-useSearchParams-è·å–è·¯ç”±å‚æ•°" class="headerlink" title="ä½¿ç”¨ useSearchParams è·å–è·¯ç”±å‚æ•°"></a>ä½¿ç”¨ useSearchParams è·å–è·¯ç”±å‚æ•°</h3><ul><li>v6 ä¸­æ–°å¢ hooks ç”¨äºè·å–&#x2F;è®¾ç½® url ä¸Šçš„ query å‚æ•°</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useSearchParams &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router&#x27;</span>;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// searchParams è·å–å‚æ•°</span></span><br><span class="line"><span class="comment">// setSearchParams å˜æ›´å‚æ•°</span></span><br><span class="line"><span class="keyword">const</span> [searchParams, setSearchParams] = <span class="title function_">useSearchParams</span>();</span><br><span class="line">  </span><br><span class="line"><span class="comment">// è·å–å‚æ•° id</span></span><br><span class="line"><span class="keyword">const</span> id = searchParams.<span class="title function_">get</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">  </span><br><span class="line"><span class="comment">// ä¼ å…¥ setSearchParams å˜æ›´ searchParams</span></span><br><span class="line"><span class="title function_">setSearchParams</span>(setSearchParams);</span><br></pre></td></tr></table></figure><h3 id="Link-ç»„ä»¶å˜æ›´"><a href="#Link-ç»„ä»¶å˜æ›´" class="headerlink" title="Link ç»„ä»¶å˜æ›´"></a>Link ç»„ä»¶å˜æ›´</h3><ul><li>Link ç»„ä»¶å°† to ä¼ å‚æ‹†å‡ºï¼Œä¸” path æ”¯æŒç›¸å¯¹è·¯å¾„çš„ä¼ é€’ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#123;&#123;</span> <span class="attr">pathname:</span> &quot;/<span class="attr">home</span>&quot;, <span class="attr">state:</span> <span class="attr">state</span> &#125;&#125; /&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span> <span class="attr">state</span>=<span class="string">&#123;state&#125;</span> /&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// æ”¯æŒç›¸å¯¹ path çš„å½¢å¼</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;..&quot;</span>&gt;</span>All Users<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;.&quot;</span>&gt;</span>User Profile<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;../mj&quot;</span>&gt;</span>MJ<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="NavLink-ç»„ä»¶å˜æ›´"><a href="#NavLink-ç»„ä»¶å˜æ›´" class="headerlink" title="NavLink ç»„ä»¶å˜æ›´"></a>NavLink ç»„ä»¶å˜æ›´</h3><ul><li>åŸå…ˆçš„ exact å‚æ•°æ›¿æ¢ä¸º endã€‚</li><li>activeClassName ä¸ activeStyle è¢«åˆ é™¤ï¼Œå¯ä»¥å‘ NavLinke className ä¸ style ä¼ é€’å‡½æ•°ä»£æ›¿ã€‚</li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v5</span></span><br><span class="line">&lt;<span class="title class_">NavLink</span></span><br><span class="line">  to=<span class="string">&quot;/messages&quot;</span></span><br><span class="line">  style=&#123;&#123; <span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span> &#125;&#125;</span><br><span class="line">  activeStyle=&#123;&#123; <span class="attr">color</span>: <span class="string">&#x27;green&#x27;</span> &#125;&#125;</span><br><span class="line">  className=<span class="string">&quot;nav-link&quot;</span></span><br><span class="line">  activeClassName=<span class="string">&quot;activated&quot;</span></span><br><span class="line">&gt;</span><br><span class="line">  <span class="title class_">Messages</span></span><br><span class="line">&lt;/<span class="title class_">NavLink</span>&gt;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// v6</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">NavLink</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">to</span>=<span class="string">&quot;/messages&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">style</span>=<span class="string">&#123;(&#123;</span> <span class="attr">isActive</span> &#125;) =&gt;</span> (&#123; color: isActive ? &#x27;green&#x27; : &#x27;blue&#x27; &#125;)&#125;</span></span><br><span class="line"><span class="language-xml">  className=&#123;(&#123; isActive &#125;) =&gt; &#x27;nav-link&#x27; + (isActive ? &#x27;activated&#x27; : &#x27;&#x27;)&#125;</span></span><br><span class="line"><span class="language-xml">&gt;</span></span><br><span class="line"><span class="language-xml">  Messages</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ä»¥ä¸Šå°±æ˜¯ <code>react-router</code> v5 å‡çº§ v6 æ—¶å¸¸è§çš„ API æ›¿æ¢æ–¹å¼äº†ï¼Œå¦‚æœä½ æœ‰ä¸€äº›ä¸ç†è§£çš„åœ°æ–¹å¯ä»¥ç§¯æè¯„è®ºğŸ˜€ã€‚</p><blockquote><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯è®°å¾—å¸®æˆ‘ç‚¹ä¸ªèµ ğŸ‘ã€‚</p><p>æ–‡ç« å†…å®¹æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡å‡ºï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ â›„ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react-router </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Dockeré€Ÿæˆã€‘å‰ç«¯æœ€å¥½çš„DockeræŒ‡åŒ—</title>
      <link href="/2024/04/07/deploy/docker/"/>
      <url>/2024/04/07/deploy/docker/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€Dockeré€Ÿæˆã€‘å‰ç«¯æœ€å¥½çš„DockeræŒ‡åŒ—"><a href="#ã€Dockeré€Ÿæˆã€‘å‰ç«¯æœ€å¥½çš„DockeræŒ‡åŒ—" class="headerlink" title="ã€Dockeré€Ÿæˆã€‘å‰ç«¯æœ€å¥½çš„DockeræŒ‡åŒ—"></a>ã€Dockeré€Ÿæˆã€‘å‰ç«¯æœ€å¥½çš„DockeræŒ‡åŒ—</h1><blockquote><p>Hello å¤§å®¶å¥½å•Šï¼Œæˆ‘æ˜¯é›ªäººâ›„</p><p>ä¹‹å‰å®ä¹ çš„æ—¶å€™å‘ç°é¡¹ç›®æ˜¯ç”¨ Docker éƒ¨ç½²çš„ï¼Œç„¶å Mentor è®©æˆ‘é€Ÿæˆä¸€ä¸‹ã€‚</p><p>ç«é€Ÿè¡¥ä¹ ä¸€æ³¢ğŸ”¥ï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶ï¼Œæ•™å¤§å®¶å¦‚ä½•å¿«é€Ÿä½¿ç”¨ Docker éƒ¨ç½²å‰ç«¯é¡¹ç›®ã€‚</p><p>åœ¨è¿™é‡Œç»™å¤§å®¶æ¨èä¸€ä¸ªè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1MR4y1Q738/?spm_id_from=333.337.search-card.all.click&vd_source=f180962fb6ac13c58e2bc143f0318c2a">ğŸ³Dockeræ¦‚å¿µï¼Œå·¥ä½œæµå’Œå®è·µ</a>ã€‚</p><p>å¾ˆå–œæ¬¢æŠ€æœ¯è›‹è€å¸ˆè¿™ä¸ªUPä¸»ï¼Œè®²çš„å†…å®¹éƒ½ç”ŸåŠ¨æœ‰è¶£ï¼Œå®‰åˆ©ä¸€æ³¢ã€‚</p></blockquote><h2 id="ç¯å¢ƒå®‰è£…"><a href="#ç¯å¢ƒå®‰è£…" class="headerlink" title="ç¯å¢ƒå®‰è£…"></a>ç¯å¢ƒå®‰è£…</h2><ul><li>ç›´æ¥å‰å¾€å®˜ç½‘é€‰æ‹©å¯¹åº”æ“ä½œç³»ç»Ÿä¸‹è½½å®‰è£…å³å¯ï¼š<a href="https://www.docker.com/">Dokcerå®˜ç½‘</a>ã€‚</li><li>Windows ç‰ˆæœ¬çš„ Docker Desktop ä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡å¹¶ä¸”åŒ…å« GUI å¼å‚»ç“œæ“ä½œï¼Œéå¸¸å¥½ç”¨ã€‚</li></ul><h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/docker/docker-quick/image-20230520201220688.png" alt="image-20230520201220688"></p><p>DockerğŸ³ æ˜¯ä¸€ç§å®¹å™¨æŠ€æœ¯ï¼Œ<strong>åªéš”ç¦»åº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶ç¯å¢ƒä½†å®¹å™¨ä¹‹é—´å¯ä»¥å…±äº«åŒä¸€ä¸ªæ“ä½œç³»ç»Ÿ</strong>ï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªæ›´è½»é‡çº§çš„ <em>è™šæ‹Ÿæœº</em> å¹¶ä¸”ä½¿ç”¨çš„æ˜¯æœ¬æœºçš„æ“ä½œç³»ç»Ÿã€‚</p><p>ä»å®˜ç½‘ Copy äº†ä¸€äº› Docker çš„ç”¨é€”å’Œä¼˜ç‚¹ã€‚</p><p><strong>æ„å»º</strong>ï¼š</p><ul><li>åˆ©ç”¨ Docker æ˜ åƒåœ¨ Windows å’Œ Mac ä¸Šé«˜æ•ˆå¼€å‘è‡ªå·±ç‹¬ç‰¹çš„åº”ç”¨ç¨‹åºï¼Œä»è€Œåœ¨ç¼–ç æ–¹é¢æŠ¢å å…ˆæœºã€‚ ä½¿ç”¨ Docker Compose åˆ›å»ºå¤šå®¹å™¨åº”ç”¨ç¨‹åºã€‚</li><li>åœ¨æ•´ä¸ªå¼€å‘ç®¡é“ä¸­ä¸æ‚¨å–œæ¬¢çš„å·¥å…·é›†æˆ - Dockerå¯ä¸æ‚¨ä½¿ç”¨çš„æ‰€æœ‰å¼€å‘å·¥å…·é…åˆä½¿ç”¨ï¼ŒåŒ…æ‹¬VS Codeï¼ŒCircleCIå’ŒGitHubã€‚</li><li>å°†åº”ç”¨ç¨‹åºæ‰“åŒ…ä¸ºå¯ç§»æ¤å®¹å™¨æ˜ åƒï¼Œä»¥ä¾¿åœ¨ä»æœ¬åœ° Kubernetes åˆ° AWS ECSã€Azure ACIã€Google GKE ç­‰çš„ä»»ä½•ç¯å¢ƒä¸­ä¸€è‡´åœ°è¿è¡Œã€‚</li></ul><p><strong>å…±äº«</strong>ï¼š</p><ul><li>åˆ©ç”¨ Docker å¯ä¿¡å†…å®¹ï¼ŒåŒ…æ‹¬ Docker å®˜æ–¹æ˜ åƒå’Œæ¥è‡ª Docker Hub å­˜å‚¨åº“çš„ Docker éªŒè¯å‘å¸ƒè€…çš„æ˜ åƒã€‚</li><li>é€šè¿‡ä¸å›¢é˜Ÿæˆå‘˜å’Œå…¶ä»–å¼€å‘äººå‘˜åä½œä»¥åŠè½»æ¾åœ°å°†æ˜ åƒå‘å¸ƒåˆ° Docker Hub æ¥è¿›è¡Œåˆ›æ–°ã€‚</li><li>ä½¿ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ä¸ªæ€§åŒ–å¼€å‘äººå‘˜å¯¹æ˜ åƒçš„è®¿é—®ï¼Œå¹¶ä½¿ç”¨ Docker Hub å®¡æ ¸æ—¥å¿—æ·±å…¥äº†è§£æ´»åŠ¨å†å²è®°å½•ã€‚</li></ul><p><strong>è¿è¡Œ</strong>ï¼š</p><ul><li>è½»æ¾äº¤ä»˜å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶è®©å®ƒä»¬åœ¨æ‚¨çš„æ‰€æœ‰ç¯å¢ƒä¸­ä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œï¼ŒåŒ…æ‹¬è®¾è®¡ã€æµ‹è¯•ã€æš‚å­˜å’Œç”Ÿäº§ - æ¡Œé¢æˆ–äº‘åŸç”Ÿã€‚</li><li>ä½¿ç”¨ä¸åŒçš„è¯­è¨€åœ¨å•ç‹¬çš„å®¹å™¨ä¸­ç‹¬ç«‹éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚é™ä½è¯­è¨€ã€åº“æˆ–æ¡†æ¶ä¹‹é—´å‘ç”Ÿå†²çªçš„é£é™©ã€‚</li><li>åˆ©ç”¨ Docker Compose CLI çš„ç®€å•æ€§åŠ å¿«å¼€å‘é€Ÿåº¦ï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤ï¼Œå³å¯ä½¿ç”¨ AWS ECS å’Œ Azure ACI åœ¨æœ¬åœ°å’Œäº‘ä¸Šå¯åŠ¨åº”ç”¨ç¨‹åºã€‚</li></ul><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>è¦æƒ³å­¦ä¼š Docker æˆ‘ä»¬åªéœ€è¦äº†è§£ä»¥ä¸‹å‡ ç‚¹æ¦‚å¿µå³å¯ã€‚</p><ul><li>Dockerfile</li><li>Imageï¼ˆé•œåƒï¼‰</li><li>Containerï¼ˆå®¹å™¨ï¼‰</li></ul><p>Dockerfile ç›¸å½“äºæˆ‘ä»¬åˆ¶ä½œé•œåƒçš„ â€˜è¯´æ˜ä¹¦â€™ï¼ŒDocker ä¼šæ ¹æ®æˆ‘ä»¬ç¼–å†™å¥½çš„ â€˜è¯´æ˜ä¹¦â€™ å»åˆ¶ä½œé•œåƒï¼Œæ¯”å¦‚æˆ‘ä»¬é…ç½®äº†å®‰è£… nginx ç„¶åè¿è¡Œ XXX å‘½åé‚£ä¹ˆ Docker ä¼šè‡ªåŠ¨æ‰§è¡Œè¿™äº›å‘½ä»¤å¹¶æ„å»ºä¸€ä¸ªé•œåƒï¼Œç„¶åæˆ‘ä»¬å¯å·²å°†è¿™ä¸ªé•œåƒè¿è¡Œï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨å°±ç›¸å½“äºä¸€ä¸ªå°å‹çš„ â€˜è™šæ‹Ÿæœºâ€™ï¼Œé‡Œé¢åŒ…å«äº†æˆ‘ä»¬æå‰é…ç½®å¥½çš„åº”ç”¨ç¨‹åºï¼Œå¹¶è¿è¡Œäº†ç›¸å…³çš„æŒ‡ä»¤ã€‚</p><p><strong>å¤§è‡´æµç¨‹å¦‚ä¸‹</strong>ï¼š</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/docker/docker-quick/image-20230520204038320.png" alt="image-20230520204038320"></p><blockquote><p>è¿™é‡Œçš„ â€˜è™šæ‹Ÿæœºâ€™ â€˜è¯´æ˜ä¹¦â€™ éƒ½æ˜¯ä¸å¤ªæ°å½“çš„æ¯”å–»ï¼Œå¹¶ä¸æ˜¯å®˜æ–¹æ¦‚å¿µã€‚</p></blockquote><h2 id="Dockerå®æ“"><a href="#Dockerå®æ“" class="headerlink" title="Dockerå®æ“"></a>Dockerå®æ“</h2><p>äº†è§£äº†åŸºæœ¬æ¦‚å¿µä¹‹åå°±å¯ä»¥ä½¿ç”¨å•¦ã€‚æ¥ä¸‹æ¥å¸¦é¢†å¤§å®¶ä½¿ç”¨ Docker é…ç½® Nginx å»éƒ¨ç½²å‰ç«¯é¡¹ç›®ã€‚</p><p>æˆ‘ä»¬ Clone ä¸€ä¸ª Vue çš„è„šæ‰‹æ¶å½“ä½œç¤ºä¾‹ï¼Œè¿™ä¸ªæ˜¯æˆ‘å†™çš„ä¸€ä¸ª Vite+TS+Vue3 å¿«é€Ÿå¼€å‘è„šæ‰‹æ¶ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹ğŸ‘€<a href="https://github.com/LonelySnowman/sv3-template">LonelySnowman&#x2F;sv3-template</a>ï¼Œæˆ–è€…å¤§å®¶ç›´æ¥ä½¿ç”¨è‡ªå·±çš„å…¶ä»–é¡¹ç›®ä¹ŸOKï¼Œæ­¥éª¤æ˜¯ä¸€è‡´çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:LonelySnowman/sv3-template.git</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> sv3-template</span><br><span class="line"></span><br><span class="line">pnpm install <span class="comment"># å®‰è£…ä¾èµ–</span></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-Dockerfile"><a href="#åˆ›å»º-Dockerfile" class="headerlink" title="åˆ›å»º Dockerfile"></a>åˆ›å»º Dockerfile</h3><p>æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª Dockerfile æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥å°±äº¤å¤§å®¶å¦‚ä½•ç¼–å†™ã€‚</p><h4 id="ä½¿ç”¨è§„åˆ™"><a href="#ä½¿ç”¨è§„åˆ™" class="headerlink" title="ä½¿ç”¨è§„åˆ™"></a>ä½¿ç”¨è§„åˆ™</h4><p>Dockerfile çš„ç¼–å†™éœ€è¦éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p><ul><li>æ¯æ¡ä¿ç•™å­—æŒ‡ä»¤éƒ½å¿…é¡»ä¸ºå¤§å†™å­—æ¯ä¸”åé¢è¦è·Ÿéšè‡³å°‘ä¸€ä¸ªå‚æ•°</li><li>æŒ‡ä»¤é¡ºåºæ‰§è¡Œï¼Œéµå¾ªä»ä¸Šåˆ°ä¸‹åŸåˆ™</li><li><code>#</code> è¡¨ç¤ºæ³¨é‡Š</li><li>æ¯æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶å¯¹é•œåƒè¿›è¡Œæäº¤</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/docker/docker-quick/image-20230521175419641.png" alt="image-20230521175419641"></p><h4 id="ä¿ç•™å­—"><a href="#ä¿ç•™å­—" class="headerlink" title="ä¿ç•™å­—"></a>ä¿ç•™å­—</h4><p>Dockerfileä¸­å¸¸ç”¨çš„ä¿ç•™å­—æœ‰ä»¥ä¸‹å‡ ä¸ªï¼Œæ›´å¤šè¯·å‰å¾€å®˜ç½‘æŸ¥é˜…ï¼š</p><ul><li><strong>FROM</strong>ï¼šæŒ‡å®šåŸºç¡€é•œåƒ</li><li><strong>RUN</strong>ï¼šå®¹å™¨æ„å»ºæ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤</li><li><strong>EXPOSE</strong>ï¼šå½“å‰å®¹å™¨å¯¹å¤–æš´éœ²çš„ç«¯å£å·</li><li><strong>WORKDIR</strong>ï¼šæŒ‡å®šåœ¨åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»å½•è¿›æ¥çš„å·¥ä½œç›®å½•</li><li><strong>ADD</strong>ï¼šå°†å®¿ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒï¼ŒADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹tarå‹ç¼©åŒ…</li><li><strong>CMD</strong>ï¼šæŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå‚æ•°ä¸ºæ•°ç»„æ ¼å¼ <code>CMD [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot; ...]</code></li></ul><h4 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="headerlink" title="åŸºç¡€é…ç½®"></a>åŸºç¡€é…ç½®</h4><p>åœ¨äº†è§£ä¸€äº›åŸºç¡€é…ç½®è§„åˆ™åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸‹åˆ—å†…å®¹å»é…ç½® Dockerfile</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šåŸºç¡€é•œåƒä¸ºæœ€æ–°ç‰ˆ nginx</span></span><br><span class="line"><span class="keyword">FROM</span> nginx:latest</span><br><span class="line"><span class="comment"># å°†é¡¹ç›®ä¸‹çš„ ./configs æ–‡ä»¶å¤¹æ”¾ç½®åœ¨é•œåƒä¸­çš„ /home/nginx/configs æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> ./configs /home/nginx/configs</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> ./dist /dist</span></span><br><span class="line"><span class="comment"># è¿è¡Œ nginx</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;/home/nginx/configs/nginx.conf&quot;</span>]</span></span><br><span class="line"><span class="comment"># é•œåƒå¯¹å¤–æš´éœ² 3000 ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">9527</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ–°å»ºä¸€ä¸ª nginx é…ç½®æ–‡ä»¶</p><p><strong>&#x2F;configs&#x2F;nginx.conf</strong></p><p>è¿™é‡Œå°±åªé…ç½®ä¸€ä¸ªæœ€åŸºç¡€çš„ï¼Œæ›´å¤šå†…å®¹è¯·æŸ¥é˜… nginx å®˜æ–¹æ–‡æ¡£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">user  root;</span><br><span class="line">worker_processes  auto;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       /etc/nginx/mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line">    server &#123;</span><br><span class="line">listen 9527;</span><br><span class="line">server_name localhost;</span><br><span class="line">location / &#123;</span><br><span class="line">root /dist;</span><br><span class="line">index index.html;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬çš„ â€˜è¯´æ˜ä¹¦â€™ å°±å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±è¦è®© docker æ ¹æ®å®ƒå»æ„å»ºé•œåƒã€‚</p><h3 id="é•œåƒæ„å»º"><a href="#é•œåƒæ„å»º" class="headerlink" title="é•œåƒæ„å»º"></a>é•œåƒæ„å»º</h3><h4 id="æ‰“åŒ…é¡¹ç›®"><a href="#æ‰“åŒ…é¡¹ç›®" class="headerlink" title="æ‰“åŒ…é¡¹ç›®"></a>æ‰“åŒ…é¡¹ç›®</h4><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„é¡¹ç›®æ‰“åŒ…ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨çš„æˆ‘åˆšåˆšä»‹ç»çš„é¡¹ç›®éœ€è¦æ›´æ”¹ä¸€å¤„é…ç½® <code>.env.production</code>ï¼Œè¡¨ç¤ºç”Ÿäº§ç¯å¢ƒå¼€å¯ mockã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VITE_APP_USE_MOCK = true</span><br></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œ <code>pnpm run build</code> å³å¯ğŸ˜€ã€‚</p><p>å…¶ä»–é¡¹ç›®ä½¿ç”¨å¯¹åº”æ‰“åŒ…æŒ‡ä»¤å°±OKäº†ã€‚</p><h4 id="æ„å»ºé•œåƒ"><a href="#æ„å»ºé•œåƒ" class="headerlink" title="æ„å»ºé•œåƒ"></a>æ„å»ºé•œåƒ</h4><p>åªè¦æœ‰äº† Dockerfile å°±éå¸¸ç®€å•äº†ï¼Œæˆ‘ä»¬éœ€è¦æŒæ¡ä¸€äº›æŒ‡ä»¤å°±å¯ä»¥é©¾é©­é•œåƒğŸ˜€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºé•œåƒ</span></span><br><span class="line"><span class="comment"># -t åè¡¨ç¤ºæŒ‡å®šé•œåƒåç§° sv3 é•œåƒæ ‡ç­¾ v1</span></span><br><span class="line"><span class="comment"># . è¡¨ç¤ºæŒ‡å®š Dockerfile æ‰€åœ¨ç›®å½•</span></span><br><span class="line">docker build -t sv3:v1 .</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é•œåƒå•¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker images -a <span class="comment"># æŸ¥è¯¢æœ¬åœ°å…¨éƒ¨é•œåƒ</span></span><br><span class="line">docker images sv3 <span class="comment"># æŸ¥çœ‹åä¸º sv3 çš„é•œåƒ</span></span><br></pre></td></tr></table></figure><p><strong>æŸ¥è¯¢å‡ºçš„ä¿¡æ¯å¦‚ä¸‹</strong>ï¼š</p><table><thead><tr><th>REPOSITORY</th><th>TAG</th><th>IMAGE ID</th><th>CREATED</th><th>SIZE</th></tr></thead><tbody><tr><td>sv3</td><td>v1</td><td>6bd00cc358df</td><td>About a minute ago</td><td>143MB</td></tr></tbody></table><p>å¦‚æœæƒ³è¦åˆ é™¤é•œåƒçš„è¯ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi <span class="built_in">id</span>/name <span class="comment"># æ ¹æ®é•œåƒ id æˆ– name åˆ é™¤é•œåƒ</span></span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h3><p>æ„å»ºå¥½é•œåƒä¹‹åæˆ‘ä»¬å°±éœ€è¦è®©ä»–æˆä¸ºå®¹å™¨ï¼Œè¦æƒ³æˆåŠŸè¿è¡Œèµ·æ¥ï¼Œè¿˜éœ€è¦æŒæ¡å‡ ä¸ªæŒ‡ä»¤ğŸ‘¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œå®¹å™¨</span></span><br><span class="line"><span class="comment"># --name æŒ‡å®šå®¹å™¨åç§°ä¸º sv3</span></span><br><span class="line"><span class="comment"># -p æŒ‡å®šå¤–éƒ¨ç«¯ 9527 äºå®¹å™¨å†… 9527ç«¯å£è¿æ¥</span></span><br><span class="line"><span class="comment"># -v ä»£è¡¨ç»‘å®šå· ä¹Ÿå°±æ˜¯æœ¬åœ°çš„ dist æ–‡ä»¶å¦‚æœå˜æ›´ å®¹å™¨å†…çš„ distæ–‡ä»¶ä¹Ÿä¼šåšå‡ºç›¸åº”æ”¹å˜</span></span><br><span class="line"><span class="comment"># æ³¨æ„ -v ä¸¤ä¾§å‡éœ€è¦ä½¿ç”¨ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment"># -d è¡¨ç¤ºåœ¨åå°è¿è¡Œ</span></span><br><span class="line"><span class="comment"># æœ€åçš„ sv3:v1 è¡¨ç¤ºä½¿ç”¨æŒ‡å®šçš„é•œåƒ</span></span><br><span class="line">docker run --name sv3 -p 9527:9527 -v D:/sv3-template/dist:/dist -d sv3:v1</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€äº›å…¶ä»–çš„å¸¸ç”¨æŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢å®¹å™¨</span></span><br><span class="line">docker ps -a <span class="comment"># æŸ¥è¯¢å…¨éƒ¨å®¹å™¨</span></span><br><span class="line">docker ps -a | grep xxx <span class="comment"># ç­›é€‰æŸ¥è¯¢å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œå®¹å™¨</span></span><br><span class="line">docker start xxx</span><br><span class="line"><span class="comment"># æš‚åœå®¹å™¨</span></span><br><span class="line">docker stop xxx</span><br><span class="line"><span class="comment"># é‡å¯å®¹å™¨</span></span><br><span class="line">docker restart xxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> </span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‰“å¼€ <a href="http://localhost:9527/">http://localhost:9527</a> å»æŸ¥çœ‹æˆ‘ä»¬éƒ¨ç½²å¥½çš„é¡¹ç›®å•¦ğŸ˜€ã€‚</p><p>å› ä¸ºé…ç½®äº† â€˜å·â€™ çš„ç¼˜æ•…ï¼Œæˆ‘ä»¬é‡æ–°æ‰“åŒ…ï¼Œå¯¹åº”çš„ Docker å®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥ä¿®æ”¹ dist æˆ–è€…ä¿®æ”¹ä»£ç å†é‡æ–°æ‰“åŒ…è¯•è¯•çœ‹âœŒã€‚</p><blockquote><p>â›„ä»¥ä¸Šå°±æ˜¯ Docker æœ€åŸºæœ¬çš„ä½¿ç”¨æ–¹å¼å•¦</p><p>âœ¨æ›´å¤šå†…å®¹è¯·å‰å¾€å®˜ç½‘æŸ¥é˜…ï¼š<a href="https://docs.docker.com/get-started/">Overview | Docker Documentation</a></p><p>ğŸ‘å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€WbpackåŸç†ã€‘åŸºç¡€æµç¨‹è§£æï¼Œå®ç° mini-webpack</title>
      <link href="/2024/04/07/webpack/BasicProcessAnalysis/"/>
      <url>/2024/04/07/webpack/BasicProcessAnalysis/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€WbpackåŸç†ã€‘åŸºç¡€æµç¨‹è§£æï¼Œå®ç°-mini-webpack"><a href="#ã€WbpackåŸç†ã€‘åŸºç¡€æµç¨‹è§£æï¼Œå®ç°-mini-webpack" class="headerlink" title="ã€WbpackåŸç†ã€‘åŸºç¡€æµç¨‹è§£æï¼Œå®ç° mini-webpack"></a>ã€WbpackåŸç†ã€‘åŸºç¡€æµç¨‹è§£æï¼Œå®ç° mini-webpack</h1><p>â›„ï¼šwebpack å¯¹å‰ç«¯åŒå­¦æ¥è¯´å¹¶ä¸é™Œç”Ÿï¼Œå®ƒæ˜¯æˆ‘ä»¬å­¦ä¹ å‰ç«¯å·¥ç¨‹åŒ–çš„ç¬¬ä¸€ç«™ï¼Œåœ¨æœ€å¼€å§‹çš„ <code>vue-cli</code> ä¸­æˆ‘ä»¬å°±å¯ä»¥å‘ç°å®ƒçš„èº«å½±ã€‚æˆ‘ä»¬çš„ <code>vue/react</code> é¡¹ç›®æ˜¯å¦‚ä½•æ‰“åŒ…æˆ <code>js</code> æ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å‘¢ï¼Ÿæœ¬ç³»åˆ—æ–‡ç« å°†ä¼šå¸®åŠ©ä½ ç”±æµ…å…¥æ·±ç†è§£ <code>webpack</code> åŸç†ï¼Œäº†è§£å…¶ä¸­çš„ <code>loader/plugin</code> æœºåˆ¶ï¼Œç†Ÿæ‚‰ <code>webpack</code> æ‰“åŒ…æµç¨‹ã€‚å®ç°ç®€æ˜“ <code>webpack</code> æ ¸å¿ƒä»£ç ï¼Œ<code>run-loader</code> æ¨¡å—ï¼Œç¤ºä¾‹ <code>loader</code> ä¸ <code>plugin</code>ã€‚Tipï¼šåœ¨é˜…è¯»æœ¬æ–‡å‰éœ€è¦äº†è§£ä¸€äº› <code>webpack</code> çš„åŸºç¡€æ¦‚å¿µåŠå¸¸ç”¨é…ç½®ã€‚</p><p>æœ¬è´¨ä¸Šï¼Œ<strong>webpack</strong> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„ <em>é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</em>ã€‚å½“ <code>webpack</code> å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨ä»ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£ç‚¹æ„å»ºä¸€ä¸ª**ä¾èµ–å›¾(dependency graph)**ï¼Œç„¶åå°†ä½ é¡¹ç›®ä¸­æ‰€éœ€çš„æ¯ä¸€ä¸ªæ¨¡å—ç»„åˆæˆä¸€ä¸ªæˆ–å¤šä¸ª <em>bundles</em>ï¼Œå®ƒä»¬å‡ä¸ºé™æ€èµ„æºï¼Œç”¨äºå±•ç¤ºä½ çš„å†…å®¹ã€‚</p><p>æœ¬ç³»åˆ—å…¨éƒ¨ä»£ç ä¸æ–‡ç« ä¼šåœ¨ <a href="https://github.com/LonelySnowman/mini-webpack">LonelySnowman&#x2F;mini-webpack</a> åŒæ­¥ï¼Œå¦‚æœèƒ½å¸®åˆ°ä½ çš„è¯è¯·å¸®æˆ‘ç‚¹ä¸ª star å§ ğŸ˜€ã€‚</p><h2 id="åŸºç¡€æµç¨‹è§£æ"><a href="#åŸºç¡€æµç¨‹è§£æ" class="headerlink" title="åŸºç¡€æµç¨‹è§£æ"></a>åŸºç¡€æµç¨‹è§£æ</h2><p>webpack æ‰“åŒ…æµç¨‹å¯å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å››éƒ¨åˆ†ã€‚</p><ol><li>åˆå§‹åŒ–å‡†å¤‡ï¼š<ul><li><code>webpack</code> ä¼šè¯»å– <code>webpack.config.js</code> æ–‡ä»¶ä¸­çš„å‚æ•°ï¼Œå¹¶å°† <code>shell</code> å‘½ä»¤ä¸­çš„å‚æ•°åˆå¹¶å½¢æˆæœ€ç»ˆå‚æ•°ã€‚</li><li>ç„¶å <code>webpack</code> æ ¹æ®æœ€ç»ˆå‚æ•°åˆå§‹åŒ– <code>compiler</code> å¯¹è±¡ï¼Œæ³¨å†Œé…ç½®ä¸­çš„æ’ä»¶ï¼Œæ‰§è¡Œ <code>compiler.run()</code> å¼€å§‹ç¼–è¯‘ã€‚</li></ul></li><li>æ¨¡å—ç¼–è¯‘ï¼š<ul><li>ä»æ‰“åŒ…å…¥å£å¼€å§‹ï¼Œè°ƒç”¨åŒ¹é…æ–‡ä»¶çš„ <code>loader</code> å¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå¹¶åˆ†ææ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œé€’å½’å¯¹æ¨¡å—è¿›è¡Œç¼–è¯‘ã€‚</li></ul></li><li>æ¨¡å—ç”Ÿæˆï¼š<ul><li>æ¨¡å—é€’å½’ç¼–è¯‘ç»“æŸåï¼Œå¾—åˆ°æ¨¡å—ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»ã€‚</li></ul></li><li>è¾“å‡ºæ–‡ä»¶ï¼š<ul><li>æ ¹æ®æ¨¡å—é—´çš„ä¾èµ–å…³ç³»åŠé…ç½®æ–‡ä»¶ï¼Œå°†å¤„ç†åçš„æ¨¡å—è¾“å‡ºåˆ° <code>output</code> çš„ç›®å½•ä¸‹ã€‚</li></ul></li></ol><blockquote><p>compiler å¯¹è±¡è®°å½•ç€æ„å»ºè¿‡ç¨‹ä¸­ webpack ç¯å¢ƒä¸é…ç½®ä¿¡æ¯ï¼Œæ•´ä¸ª webpack ä»å¼€å§‹åˆ°ç»“æŸçš„ç”Ÿå‘½å‘¨æœŸã€‚</p></blockquote><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><p>é¦–å…ˆæ­å»ºä¸€ä¸‹æˆ‘ä»¬é¡¹ç›®ç»“æ„çš„åŸºç¡€ç›®å½•ï¼Œè®²è§£è¿‡ç¨‹ä¸­ä¼šç»™å‡ºå…·ä½“ä»£ç ï¼Œä½¿ç”¨ pnpm-workspace æ„å»ºä¸€ä¸ª monorepo ä»“åº“ï¼Œé™¤ <code>mini-webpack</code>  ä»£ç å¤–ï¼Œåç»­è¿˜ä¼šå¸¦å¤§å®¶å®ç°å…¶ä»– <code>webpack</code> ç›¸å…³çŸ¥è¯†æ¨¡å—ã€‚</p><p>ä¹Ÿå¯ä»¥ç›´æ¥å» <a href="https://github.com/LonelySnowman/mini-webpack">LonelySnowman&#x2F;mini-webpack</a>  å…‹éš†æœ¬ç³»åˆ—ç›¸å…³ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">packages</span><br><span class="line">â”œâ”€core <span class="comment">// mini-webpack æ ¸å¿ƒä»£ç </span></span><br><span class="line">â”‚  â”‚  compilation.<span class="property">js</span> <span class="comment">// compilation å¯¹è±¡å®ç°</span></span><br><span class="line">â”‚  â”‚  compiler.<span class="property">js</span> <span class="comment">// compiler å¯¹è±¡å®ç°</span></span><br><span class="line">â”‚  â”‚  index.<span class="property">js</span> <span class="comment">// ç¼–è¯‘æ‰§è¡Œä¸»æ–‡ä»¶</span></span><br><span class="line">â”‚  â”‚  webpack.<span class="property">js</span> <span class="comment">// webpack åˆå§‹åŒ–ç›¸å…³ä»£ç </span></span><br><span class="line">â”‚  â””â”€util</span><br><span class="line">â”‚    index.<span class="property">js</span> <span class="comment">// å·¥å…·å‡½æ•°</span></span><br><span class="line">â”œâ”€example <span class="comment">// è¢«ç¼–è¯‘çš„æ¡ˆä¾‹ä»£ç </span></span><br><span class="line">â”‚  â”‚ webpack.<span class="property">config</span>.<span class="property">js</span></span><br><span class="line">â”‚  â””â”€src</span><br><span class="line">â”‚    entry1.<span class="property">js</span></span><br><span class="line">â”‚    entry2.<span class="property">js</span></span><br><span class="line">â”‚    <span class="variable language_">module</span>.<span class="property">js</span></span><br><span class="line">â”œâ”€loaders <span class="comment">// ç®€æ˜“ loader demo</span></span><br><span class="line">â”‚ loader-<span class="number">1.</span>js</span><br><span class="line">â”‚ loader-<span class="number">2.</span>js</span><br><span class="line">â””â”€plugins <span class="comment">// ç®€æ˜“ plugin demo</span></span><br><span class="line">  plugin-<span class="number">1.</span>js</span><br><span class="line">  plugin-<span class="number">2.</span>js</span><br><span class="line">  plugin-test.<span class="property">js</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pnpm-workspace.yaml</span></span><br><span class="line"><span class="attr">packages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;packages/*&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="æ–°å»ºæ‰“åŒ…æ¡ˆä¾‹"><a href="#æ–°å»ºæ‰“åŒ…æ¡ˆä¾‹" class="headerlink" title="æ–°å»ºæ‰“åŒ…æ¡ˆä¾‹"></a>æ–°å»ºæ‰“åŒ…æ¡ˆä¾‹</h2><p>åœ¨å¼€å§‹ç¼–å†™ <code>mini-webpack</code> æ ¸å¿ƒä»£ç å‰ï¼Œæˆ‘ä»¬å…ˆç¼–å†™ä¸€ä¸ªç”¨äºæˆ‘ä»¬ç¼–å†™å®Œæˆåçš„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>æ–°å»ºä¸€ä¸ª <code>webpack</code> é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/example/webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Plugin1</span> = <span class="built_in">require</span>(<span class="string">&#x27;../plugins/plugin-1&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Plugin2</span> = <span class="built_in">require</span>(<span class="string">&#x27;../plugins/plugin-2&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">main</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./src/entry1.js&#x27;</span>),</span><br><span class="line">    <span class="attr">second</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./src/entry2.js&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">context</span>: process.<span class="title function_">cwd</span>(),</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./build&#x27;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="keyword">new</span> <span class="title class_">Plugin1</span>(), <span class="keyword">new</span> <span class="title class_">Plugin2</span>()],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.ts&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../loaders/loader-1.js&#x27;</span>),</span><br><span class="line">          path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../loaders/loader-2.js&#x27;</span>),</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸‹æˆ‘ä»¬éœ€è¦æ‰“åŒ…ç”¨çš„æ–‡ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/example/src/entry1.js</span></span><br><span class="line"><span class="keyword">const</span> depModule = <span class="built_in">require</span>(<span class="string">&#x27;./module&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(depModule, <span class="string">&#x27;Entry 1 dep&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;This is entry 1 !&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// packages/example/src/entry2.js</span></span><br><span class="line"><span class="keyword">const</span> depModule = <span class="built_in">require</span>(<span class="string">&#x27;./module&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(depModule, <span class="string">&#x27;Entry 2 dep&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;This is entry 2 !&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// packages/example/src/module.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;This is module&#x27;</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  name,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ–°å»ºæˆ‘ä»¬ç”¨åˆ°çš„ <code>plugin</code> ä¸ <code>loader</code>ï¼Œå¦‚æœä½ å¯¹è¿™ä¸¤ä¸ªçš„å®ç°åŸç†éƒ½ä¸å¤ªäº†è§£ä¹Ÿä¸è¦æ‹…å¿ƒï¼Œåç»­æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ï¼Œè¿™é‡Œåªç¼–å†™äº†ä¸€äº›ç®€å•çš„å°æ¡ˆä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/plugins/plugin-1.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Plugin1</span> &#123;</span><br><span class="line">  <span class="title function_">apply</span>(<span class="params">compiler</span>) &#123;</span><br><span class="line">    compiler.<span class="property">hooks</span>.<span class="property">run</span>.<span class="title function_">tap</span>(<span class="string">&#x27;Plugin1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Plugin1 Start&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Plugin1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// packages/plugins/plugin-2.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Plugin2</span> &#123;</span><br><span class="line">  <span class="title function_">apply</span>(<span class="params">compiler</span>) &#123;</span><br><span class="line">    compiler.<span class="property">hooks</span>.<span class="property">done</span>.<span class="title function_">tap</span>(<span class="string">&#x27;Plugin2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Plugin2 Done&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Plugin2</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/loaders/loader-1.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loader</span>(<span class="params">source</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;loader1: normal&#x27;</span>, source);</span><br><span class="line">  <span class="keyword">return</span> source + <span class="string">&#x27;\n// loader1&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loader.<span class="property">pitch</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;loader1 pitch&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = loader;</span><br><span class="line"></span><br><span class="line"><span class="comment">// packages/loaders/loader-2.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loader</span>(<span class="params">source</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;loader2: normal&#x27;</span>, source);</span><br><span class="line">  <span class="keyword">return</span> source + <span class="string">&#x27;\n// loader2&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loader.<span class="property">pitch</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;loader2 pitch&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = loader;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åˆå§‹åŒ–å‡†å¤‡é˜¶æ®µ"><a href="#åˆå§‹åŒ–å‡†å¤‡é˜¶æ®µ" class="headerlink" title="åˆå§‹åŒ–å‡†å¤‡é˜¶æ®µ"></a>åˆå§‹åŒ–å‡†å¤‡é˜¶æ®µ</h2><h3 id="webpack-cli-è¿è¡Œå…¥å£"><a href="#webpack-cli-è¿è¡Œå…¥å£" class="headerlink" title="webpack cli è¿è¡Œå…¥å£"></a><code>webpack cli</code> è¿è¡Œå…¥å£</h3><p>æ‰“åŒ…æ‰“åŒ…æ—¶ <code>webpack</code> ä¼šè¯»å– <code>webpack.config.js</code> çš„é…ç½®å¹¶ä¸ <code>shell</code> ä¸­çš„å‚æ•°åˆå¹¶ï¼Œç”Ÿæˆ <code>compiler</code> å¯¹è±¡å¹¶è°ƒç”¨ <code>compiler.run()</code> æ–¹æ³•è¿›è¡Œæ‰“åŒ…ã€‚</p><p>æˆ‘ä»¬æ–°å»º <code>index.js</code> ä½œä¸º <code>webpack</code> è¿è¡Œçš„å…¥å£ã€‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/index.js</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ webpack(config) åˆå§‹åŒ– compiler å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;./webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;../example/webpack.config&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack() æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª compiler å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> compiler = <span class="title function_">webpack</span>(config);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ run æ–¹æ³•è¿›è¡Œæ‰“åŒ…</span></span><br><span class="line">compiler.<span class="title function_">run</span>(<span class="function">(<span class="params">err, stats</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err, <span class="string">&#x27;err&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ–°å»º <code>webpack.js</code> å»è¯»å–å‚æ•°å¹¶è¿”å› <code>compiler</code> å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/webpack.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Compiler</span> = <span class="built_in">require</span>(<span class="string">&#x27;./compiler&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">webpack</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–å‚æ•°æ ¹æ®é…ç½®æ–‡ä»¶å’Œ shell å‚æ•°å¾—åˆ°åˆå¹¶åçš„å‚æ•°</span></span><br><span class="line">  <span class="keyword">const</span> mergedOptions = <span class="title function_">mergeOptions</span>(options);</span><br><span class="line">  <span class="comment">// åˆ›å»ºcompilerå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> compiler = <span class="keyword">new</span> <span class="title class_">Compiler</span>(mergedOptions)</span><br><span class="line">  <span class="keyword">return</span> compiler</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = webpack;</span><br></pre></td></tr></table></figure><p>è¡¥å…… <code>mergeOptions</code> æ–¹æ³•ã€‚</p><ul><li>åœ¨è¿è¡Œ <code>webpack</code> å‘½ä»¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>--mode=production</code> å»è¦†ç›– <code>webpack.config.js</code> çš„å‚æ•°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/webpack.js</span></span><br><span class="line"><span class="comment">// webpack --mode=production</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mergeOptions</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> shellOptions = process.<span class="property">argv</span>.<span class="title function_">slice</span>(<span class="number">2</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">option, argv</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ® = åˆ†å‰²</span></span><br><span class="line">    <span class="keyword">const</span> [key, value] = argv.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (key &amp;&amp; value) &#123;</span><br><span class="line">      <span class="comment">// å»é™¤ key å‰é¢çš„ --</span></span><br><span class="line">      <span class="keyword">const</span> parseKey = key.<span class="title function_">slice</span>(<span class="number">2</span>)</span><br><span class="line">      option[parseKey] = value</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> option;</span><br><span class="line">  &#125;, &#123;&#125;)</span><br><span class="line">  <span class="comment">// ç”¨ shellOptions è¦†ç›–é…ç½®æ–‡ä»¶çš„ options</span></span><br><span class="line">  <span class="keyword">return</span> &#123; ...options, ...shellOptions &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®ç°-compiler-å¯¹è±¡"><a href="#å®ç°-compiler-å¯¹è±¡" class="headerlink" title="å®ç° compiler å¯¹è±¡"></a>å®ç° compiler å¯¹è±¡</h3><p>æ–°å»º <code>compiler.js</code> æ–‡ä»¶ï¼Œå®ç° <code>compiler</code> å¯¹è±¡æ ¸å¿ƒé€»è¾‘ã€‚</p><p>compiler å¯¹è±¡è®°å½•ç€æ„å»ºè¿‡ç¨‹ä¸­ webpack ç¯å¢ƒä¸é…ç½®ä¿¡æ¯ï¼Œæ•´ä¸ª webpack ä»å¼€å§‹åˆ°ç»“æŸçš„ç”Ÿå‘½å‘¨æœŸã€‚æˆ‘ä»¬éœ€è¦å®ç° <code>plugin</code> æ’ä»¶æœºåˆ¶ä¸ <code>loader</code> æœºåˆ¶ã€‚ä¸‹é¢æ˜¯ <code>compiler</code> å¯¹è±¡çš„åŸºç¡€éª¨æ¶ã€‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compiler.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compiler</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">options</span> = options;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å®ç° run æ–¹æ³•å¼€å§‹ç¼–è¯‘</span></span><br><span class="line">  <span class="title function_">run</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Compiler</span></span><br></pre></td></tr></table></figure><h3 id="å®ç°åŸºç¡€æ’ä»¶é’©å­"><a href="#å®ç°åŸºç¡€æ’ä»¶é’©å­" class="headerlink" title="å®ç°åŸºç¡€æ’ä»¶é’©å­"></a>å®ç°åŸºç¡€æ’ä»¶é’©å­</h3><p>æ’ä»¶æ˜¯ webpack ç”Ÿæ€çš„å…³é”®éƒ¨åˆ†ï¼Œ å®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§å¼ºæœ‰åŠ›çš„æ–¹å¼æ¥ç›´æ¥è§¦åŠ webpack çš„ç¼–è¯‘è¿‡ç¨‹(compilation process)ã€‚ æ’ä»¶èƒ½å¤Ÿ <a href="https://www.webpackjs.com/api/compiler-hooks/#hooks">hook</a> åˆ°æ¯ä¸€ä¸ªç¼–è¯‘(compilation)ä¸­å‘å‡ºçš„å…³é”®äº‹ä»¶ä¸­ã€‚ åœ¨ç¼–è¯‘çš„æ¯ä¸ªé˜¶æ®µä¸­ï¼Œæ’ä»¶éƒ½æ‹¥æœ‰å¯¹ <code>compiler</code> å¯¹è±¡çš„å®Œå…¨è®¿é—®èƒ½åŠ›ï¼Œ å¹¶ä¸”åœ¨åˆé€‚çš„æ—¶æœºï¼Œè¿˜å¯ä»¥è®¿é—®å½“å‰çš„ <code>compilation</code> å¯¹è±¡ã€‚</p><p>compilation å¯¹è±¡è®°å½•ç¼–è¯‘æ¨¡å—çš„ä¿¡æ¯ï¼Œåªè¦é¡¹ç›®æ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œcompilation å°±ä¼šè¢«é‡æ–°åˆ›å»ºã€‚</p><p><code>webpack</code> æ’ä»¶å¯ä»¥ç®€å•ç†è§£ä¸ºå¯ä»¥åœ¨ <code>wepack</code> æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­è§¦å‘çš„é’©å­ï¼Œç±»ä¼¼ä¸ <code>vue</code> ä¸­çš„ <code>created</code>ï¼Œ<code>mounted</code> ç­‰ç”Ÿå‘½å‘¨æœŸã€‚</p><blockquote><p>è¿™é‡Œç®€å•è®²è§£ä¸€ä¸‹ï¼Œåç»­æœ‰å•ç‹¬çš„ç« èŠ‚è¯¦ç»†è®²è§£ plugin</p></blockquote><p>æˆ‘ä»¬å®ç°ä¸€ä¸ªç®€æ˜“çš„ <code>webpack</code> æ’ä»¶ï¼Œ<code>packages/plugins/plugin-test.js</code>ï¼Œæ’ä»¶å°±æ˜¯ä¸€ä¸ª <code>javascript</code> ç±»ï¼Œéœ€è¦å®ç° <code>apply</code> æ–¹æ³•ä¾› <code>webpack</code> è°ƒç”¨ï¼Œ<code>webpack</code> ä¼šåœ¨ <code>compiler</code> åŠ <code>compilation</code> å¯¹è±¡ä¸Šé¢„è®¾ä¸€ç³»åˆ—é’©å­ä¾›æˆ‘ä»¬è°ƒç”¨ã€‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªæ’ä»¶çš„ä½œç”¨å°±æ˜¯åœ¨ webpack å¼€å§‹ç¼–è¯‘å‰è¾“å‡º PluginTest Start</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PluginTest</span> &#123;</span><br><span class="line">    <span class="comment">// webpack ä¼šè°ƒç”¨ apply å‡½æ•°å¹¶ä¼ å…¥ compiler å¯¹è±¡</span></span><br><span class="line">    <span class="title function_">apply</span>(<span class="params">compiler</span>) &#123;</span><br><span class="line">        <span class="comment">// åœ¨ compiler å¯¹è±¡ä¸Šçš„ run hooks ä¸‹æ³¨å†ŒåŒæ­¥é’©å­</span></span><br><span class="line">        compiler.<span class="property">hooks</span>.<span class="property">run</span>.<span class="title function_">tap</span>(<span class="string">&#x27;Plugin Test&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;PluginTest Start&#x27;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">PluginTest</span>;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ <code>compiler</code> å®ç°ä¸€äº›åŸºæœ¬çš„é’©å­ï¼Œ<code>webpack</code> çš„æ’ä»¶å€ŸåŠ© <code>tapable</code> è¿™ä¸ªåº“å»å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>new SyncHook()</code> å»åˆå§‹åŒ–ä¸€ä¸ªé’©å­å¯¹è±¡ï¼Œæ”¾åœ¨ <code>compiler.hooks</code> ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">SyncHook</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;tapable&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compiler</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="comment">// åˆ›å»º plugin hooks</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">hooks</span> = &#123;</span><br><span class="line">      <span class="comment">// å¼€å§‹ç¼–è¯‘æ—¶çš„é’©å­</span></span><br><span class="line">      <span class="attr">run</span>: <span class="keyword">new</span> <span class="title class_">SyncHook</span>(), <span class="comment">// new AsyncSeriesHook([&quot;compiler&quot;])</span></span><br><span class="line">      <span class="comment">// è¾“å‡º asset åˆ° output ç›®å½•ä¹‹å‰æ‰§è¡Œçš„é’©å­</span></span><br><span class="line">      <span class="attr">emit</span>: <span class="keyword">new</span> <span class="title class_">SyncHook</span>(), <span class="comment">// new AsyncSeriesHook([&quot;compilation&quot;])</span></span><br><span class="line">      <span class="comment">// åœ¨ compilation å…¨éƒ¨å®Œæˆç¼–è¯‘æ‰§è¡Œçš„é’©å­</span></span><br><span class="line">      <span class="attr">done</span>: <span class="keyword">new</span> <span class="title class_">SyncHook</span>(), <span class="comment">// new AsyncSeriesHook([&quot;stats&quot;])</span></span><br><span class="line">      <span class="attr">compilation</span>: <span class="keyword">new</span> <span class="title class_">SyncHook</span>([<span class="string">&quot;compilation&quot;</span>, <span class="string">&quot;params&quot;</span>]),</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">run</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">      <span class="comment">// è°ƒç”¨ run æ–¹æ³•æ—¶è§¦å‘ hooks.run çš„é’©å­å›è°ƒ</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">hooks</span>.<span class="property">run</span>.<span class="title function_">call</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åˆå§‹åŒ– <code>compiler</code> å¯¹è±¡æ—¶æˆ‘ä»¬è¿˜éœ€è¦å»æ‰§è¡Œæ’ä»¶å®ä¾‹ä¸­çš„ <code>apply</code> æ–¹æ³•ï¼Œç”¨äºæ³¨å†Œæ’ä»¶ä¸­çš„é’©å­ã€‚</p><p>æ·»åŠ  <code>loadPlugin</code> æ–¹æ³•åçš„å®Œæ•´ <code>webpack.js</code> å¦‚ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/webpack.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Compiler</span> = <span class="built_in">require</span>(<span class="string">&#x27;./compiler&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">webpack</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆå¹¶å‚æ•° å¾—åˆ°åˆå¹¶åçš„å‚æ•° mergedOptions</span></span><br><span class="line">  <span class="keyword">const</span> mergedOptions = <span class="title function_">mergeOptions</span>(options);</span><br><span class="line">  <span class="comment">// åˆ›å»ºcompilerå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> compiler = <span class="keyword">new</span> <span class="title class_">Compiler</span>(mergedOptions)</span><br><span class="line">  <span class="comment">// åŠ è½½æ’ä»¶</span></span><br><span class="line">  <span class="title function_">loadPlugin</span>(options.<span class="property">plugins</span>, compiler);</span><br><span class="line">  <span class="keyword">return</span> compiler</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶å‚æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mergeOptions</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> shellOptions = process.<span class="property">argv</span>.<span class="title function_">slice</span>(<span class="number">2</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">option, argv</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ® = åˆ†å‰²</span></span><br><span class="line">    <span class="keyword">const</span> [key, value] = argv.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (key &amp;&amp; value) &#123;</span><br><span class="line">      <span class="comment">// å»é™¤ key å‰é¢çš„ --</span></span><br><span class="line">      <span class="keyword">const</span> parseKey = key.<span class="title function_">slice</span>(<span class="number">2</span>)</span><br><span class="line">      option[parseKey] = value</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> option;</span><br><span class="line">  &#125;, &#123;&#125;)</span><br><span class="line">  <span class="keyword">return</span> &#123; ...options, ...shellOptions &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½æ’ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadPlugin</span>(<span class="params">plugins, compiler</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (plugins &amp;&amp; <span class="title class_">Array</span>.<span class="title function_">isArray</span>(plugins)) &#123;</span><br><span class="line">    plugins.<span class="title function_">forEach</span>(<span class="function">(<span class="params">plugin</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// webpack æ’ä»¶éƒ½æ˜¯ä¸€ä¸ªç±» éœ€è¦æœ‰ apply æ–¹æ³•</span></span><br><span class="line">      plugin.<span class="title function_">apply</span>(compiler);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = webpack;</span><br></pre></td></tr></table></figure><p><code>webpack</code> æ’ä»¶æœ¬è´¨ä¸Šå°±æ˜¯é€šè¿‡å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ï¼Œåœ¨ <code>compiler.hooks</code> ä¸Šç›‘å¬äº‹ä»¶ï¼Œé€šè¿‡  <code>compiler.hooks.xxx.tap</code> å»è®¢é˜…äº‹ä»¶ï¼Œç”¨ <code>compiler.hooks.xxx.call</code> å»è§¦å‘äº‹ä»¶ï¼Œè§¦å‘æ–¹æ³•åœ¨åç»­ä¼šé€æ­¥æ·»åŠ ã€‚</p><blockquote><p>è‡³æ­¤å·²å®ç°äº†åˆå§‹åŒ–å‡†å¤‡é˜¶æ®µçš„å†…å®¹ï¼Œæˆ‘ä»¬å®ç°äº† webpack é…ç½®çš„è¯»å–åŠåˆå§‹åŒ–åˆå¹¶ï¼Œæ³¨å†Œ webpack æ’ä»¶å¹¶è°ƒç”¨ compiler.run() æ–¹æ³•å¼€å§‹ç¼–è¯‘ã€‚</p></blockquote><h2 id="æ¨¡å—ç¼–è¯‘é˜¶æ®µ"><a href="#æ¨¡å—ç¼–è¯‘é˜¶æ®µ" class="headerlink" title="æ¨¡å—ç¼–è¯‘é˜¶æ®µ"></a>æ¨¡å—ç¼–è¯‘é˜¶æ®µ</h2><h3 id="å¯»æ‰¾ç¼–è¯‘å…¥å£-entry"><a href="#å¯»æ‰¾ç¼–è¯‘å…¥å£-entry" class="headerlink" title="å¯»æ‰¾ç¼–è¯‘å…¥å£ entry"></a>å¯»æ‰¾ç¼–è¯‘å…¥å£ <code>entry</code></h3><p>æ‰“åŒ…å‰æˆ‘ä»¬éœ€è¦æ ¹æ®åˆå¹¶åçš„é…ç½®æ‰¾åˆ°æ‰“åŒ…å…¥å£æ–‡ä»¶ï¼Œå¯¹ <code>entry</code> æ–‡ä»¶è¿›è¡Œç¼–è¯‘å¤„ç†ã€‚å…¥å£é…ç½®å¯ä»¥ä¸ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ä¸ºå¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²é…ç½®å½¢å¼</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;entry.js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²å½¢å¼æœ€ç»ˆä¹Ÿä¼šè¢«è½¬ä¸ºå¯¹è±¡é…ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">entry</span>: &#123;</span><br><span class="line">         <span class="attr">main</span>: <span class="string">&#x27;entry.js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡é…ç½®å½¢å¼</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">entry</span>: &#123;</span><br><span class="line">   <span class="string">&#x27;entry1&#x27;</span>: <span class="string">&#x27;./entry1.js&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;entry2&#x27;</span>: <span class="string">&#x27;./entry2.js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ <code>compiler.js</code> ä¸­å®ç° <code>getEntry</code> å¯»æ‰¾æ‰“åŒ…å…¥å£çš„æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compiler.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; toUnixPath &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./util&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compiler</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// è¯»å–é…ç½®ä¸­çš„ æ ¹ç›®å½• è·¯å¾„é»˜è®¤å€¼ä¸º process.cwd()</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">rootPath</span> = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">context</span> || <span class="title function_">toUnixPath</span>(process.<span class="title function_">cwd</span>())</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// runæ–¹æ³•å¯åŠ¨ç¼–è¯‘</span></span><br><span class="line">  <span class="comment">// åŒæ—¶runæ–¹æ³•æ¥å—å¤–éƒ¨ä¼ é€’çš„callback</span></span><br><span class="line">  <span class="title function_">run</span>(<span class="params">callback</span>) &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">const</span> entry = <span class="variable language_">this</span>.<span class="title function_">getEntry</span>();</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å…¥å£æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">  <span class="title function_">getEntry</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> entry = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">const</span> &#123; <span class="attr">entry</span>: optionsEntry &#125; = <span class="variable language_">this</span>.<span class="property">options</span></span><br><span class="line">    <span class="comment">// string è½¬ä¸ºå« main çš„å¯¹è±¡ (æ”¯æŒ webpack entry é…ç½®ä¼ å…¥å­—ç¬¦ä¸²çš„æƒ…å†µ)</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> optionsEntry === <span class="string">&#x27;string&#x27;</span>) entry[<span class="string">&#x27;main&#x27;</span>] = optionsEntry</span><br><span class="line">    <span class="keyword">else</span> entry = optionsEntry</span><br><span class="line">    <span class="comment">// å°† entry å˜æˆç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">keys</span>(entry).<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> value = entry[key]</span><br><span class="line">      <span class="keyword">if</span> (!path.<span class="title function_">isAbsolute</span>(value)) &#123;</span><br><span class="line">        <span class="comment">// è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„çš„åŒæ—¶ç»Ÿä¸€è·¯å¾„åˆ†éš”ç¬¦ä¸º /</span></span><br><span class="line">        entry[key] = <span class="title function_">toUnixPath</span>(path.<span class="title function_">join</span>(<span class="variable language_">this</span>.<span class="property">rootPath</span>, value))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> entry</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Compiler</span></span><br></pre></td></tr></table></figure><p>è¡¥å……ä¸€ä¸‹ç”¨åˆ°çš„å·¥å…·å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/util/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»Ÿä¸€è·¯å¾„åˆ†éš”ç¬¦ä¸º /</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toUnixPath</span>(<span class="params">path</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">replace</span>(<span class="regexp">/\\/g</span>, <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  toUnixPath</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ­¥æˆ‘ä»¬é€šè¿‡è¯»å– <code>webpack</code> é…ç½®ä¸­çš„ <code>entry</code> è·å–æ‰“åŒ…å…¥å£æ–‡ä»¶è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„å¹¶ç»Ÿä¸€è·¯å¾„åˆ†åˆ†éš”ç¬¦ã€‚</p><h3 id="ä»å…¥å£æ–‡ä»¶å¼€å§‹ç¼–è¯‘"><a href="#ä»å…¥å£æ–‡ä»¶å¼€å§‹ç¼–è¯‘" class="headerlink" title="ä»å…¥å£æ–‡ä»¶å¼€å§‹ç¼–è¯‘"></a>ä»å…¥å£æ–‡ä»¶å¼€å§‹ç¼–è¯‘</h3><p>ğŸ¤” ç¼–è¯‘é˜¶æ®µæˆ‘ä»¬éœ€è¦å®Œæˆä»¥ä¸‹å†…å®¹ï¼š</p><ol><li>æ ¹æ®å…¥å£æ–‡ä»¶æ„å»º <code>compilation</code> å¯¹è±¡ï¼Œ<code>compilation</code> å¯¹è±¡ä¼šè´Ÿè´£æ¨¡å—ç¼–è¯‘è¿‡ç¨‹çš„å¤„ç†ã€‚</li><li>æ ¹æ®å…¥å£æ–‡ä»¶è·¯å¾„åˆ†æå…¥å£æ–‡ä»¶ï¼Œä½¿ç”¨ <code>loader</code> å¤„ç†åŒ¹é…çš„æ–‡ä»¶ã€‚</li><li>å°† <code>loader</code> å¤„ç†å®Œæˆçš„å…¥å£æ–‡ä»¶è¿›è¡Œç¼–è¯‘ã€‚</li><li>åˆ†æå…¥å£æ–‡ä»¶ä¾èµ–ï¼Œé‡å¤ä¸Šè¾¹ä¸¤ä¸ªæ­¥éª¤ç¼–è¯‘å¯¹åº”ä¾èµ–ã€‚</li><li>å¦‚æœåµŒå¥—æ–‡ä»¶å­˜åœ¨ä¾èµ–æ–‡ä»¶ï¼Œé€’å½’è°ƒç”¨ä¾èµ–æ¨¡å—è¿›è¡Œç¼–è¯‘ã€‚</li><li>é€’å½’ç¼–è¯‘å®Œæˆåï¼Œç»„è£…ä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„<code>chunk</code>ã€‚</li></ol><p>æ–°å»º <code>Compilation</code> ç±»è¿›è¡Œç¼–è¯‘æ¨¡å—çš„å¤„ç†ï¼Œä¿å­˜è¯¥æ¬¡ç¼–è¯‘è¿‡ç¨‹ä¸­çš„å…¥å£æ¨¡å—å¯¹è±¡ã€ä¾èµ–æ¨¡å—å¯¹è±¡ã€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compilation</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">compiler, params</span>) &#123;</span><br><span class="line">    <span class="comment">// è·å– compiler ä¸Šçš„ options</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">options</span> = compiler.<span class="property">options</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">rootPath</span> = compiler.<span class="property">rootPath</span>;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// ä¿å­˜æ‰€æœ‰å…¥å£æ¨¡å—å¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">entries</span> = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">    <span class="comment">// ä¿å­˜æ‰€æœ‰ä¾èµ–æ¨¡å—å¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">modules</span> = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">    <span class="comment">// æ‰€æœ‰çš„ä»£ç å—å¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">chunks</span> = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">    <span class="comment">// å­˜æ”¾æœ¬æ¬¡äº§å‡ºçš„æ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">assets</span> = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">    <span class="comment">// å­˜æ”¾æœ¬æ¬¡ç¼–è¯‘æ‰€æœ‰äº§å‡ºçš„æ–‡ä»¶å</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">files</span> = [];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®é…ç½®ä¸­çš„å…¥å£æ–‡ä»¶ï¼Œå¼€å§‹ä»å…¥å£æ–‡ä»¶å¼€å§‹è¿›è¡Œç¼–è¯‘ï¼Œå¹¶åˆ›å»ºå…¥å£æ–‡ä»¶å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compilation</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// A.ç¼–è¯‘å…¨éƒ¨å…¥å£æ¨¡å—</span></span><br><span class="line">  <span class="title function_">buildEntryModule</span>(<span class="params">entry</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">entries</span>(entry).<span class="title function_">forEach</span>(<span class="function">(<span class="params">[entryName, entryPath]</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å¯¹å…¥å£æ–‡ä»¶è¿›è¡Œç¼–è¯‘ è·å–å…¥å£æ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">      <span class="keyword">const</span> entryObj = <span class="variable language_">this</span>.<span class="title function_">buildModule</span>(entryName, entryPath);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">entries</span>.<span class="title function_">add</span>(entryObj);</span><br><span class="line">      <span class="comment">// æ ¹æ®å½“å‰å…¥å£æ–‡ä»¶å’Œæ¨¡å—çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸ºä¸€ä¸ªä¸ªåŒ…å«å½“å‰å…¥å£æ‰€æœ‰ä¾èµ–æ¨¡å—çš„chunk</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">buildUpChunk</span>(entryName, entryObj);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡å—ç¼–è¯‘"><a href="#æ¨¡å—ç¼–è¯‘" class="headerlink" title="æ¨¡å—ç¼–è¯‘"></a>æ¨¡å—ç¼–è¯‘</h3><p>åœ¨ç¼–å†™æ¨¡å—ç¼–è¯‘çš„æ–¹æ³•å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä½¿ç”¨åŸç‰ˆçš„ <code>webpack</code> å¯¹æˆ‘ä»¬çš„æ¡ˆä¾‹è¿›è¡Œæ‰“åŒ…ï¼Œçœ‹ä¸€ä¸‹æ‰“åŒ…åçš„ç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ webpack æ›¿æ¢æˆ‘ä»¬çš„ mini-webpack</span></span><br><span class="line"><span class="comment">// const webpack = require(&#x27;./webpack&#x27;);</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;../example/webpack.config&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> compiler = <span class="title function_">webpack</span>(config);</span><br><span class="line">compiler.<span class="title function_">run</span>(<span class="function">(<span class="params">err, stats</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err, <span class="string">&#x27;err&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æ ¹ç›®å½•æ‰§è¡Œ <code>node .\packages\core\index.js</code> è¿›è¡Œæ‰“åŒ…ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¾æ®æˆ‘ä»¬çš„ <code>entry</code> æ‰“åŒ…å‡ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ¥è‡ª <code>entry1</code> ä¸ <code>entry2</code> ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ <code>packages/example/build/main.js</code> æ–‡ä»¶ã€‚ä¸‹é¢çš„ä»£ç æ˜¯å‰”é™¤äº†æ³¨é‡Šåçš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// entry ä¸­å¼•å…¥çš„æ¨¡å—è¢«å­˜å…¥äº†ä¸€ä¸ª __webpack_modules__ å¯¹è±¡</span></span><br><span class="line">  <span class="comment">// key ä¸ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">  <span class="comment">// value ä¸ºä¸€ä¸ªå‡½æ•°ç›´æ¥æ‰§è¡Œ module ä¸­çš„ä»£ç </span></span><br><span class="line">  <span class="keyword">var</span> __webpack_modules__ = (&#123;</span><br><span class="line">  <span class="string">&quot;./packages/example/src/module.js&quot;</span>:</span><br><span class="line">      (<span class="function">(<span class="params"><span class="variable language_">module</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="string">&#x27;This is module&#x27;</span>;</span><br><span class="line">  <span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    name,</span><br><span class="line">  &#125;;</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">var</span> __webpack_module_cache__ = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è‡ªè¡Œå°è£…ä¸€ä¸ª __webpack_require__ æ–¹æ³•æ‰§è¡Œ module ä¸­çš„ä»£ç </span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">__webpack_require__</span>(<span class="params">moduleId</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> cachedModule = __webpack_module_cache__[moduleId];</span><br><span class="line">    <span class="keyword">if</span> (cachedModule !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cachedModule.<span class="property">exports</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> <span class="variable language_">module</span> = __webpack_module_cache__[moduleId] = &#123;</span><br><span class="line">        <span class="attr">exports</span>: &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    __webpack_modules__[moduleId](<span class="variable language_">module</span>, <span class="variable language_">module</span>.<span class="property">exports</span>, __webpack_require__);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">module</span>.<span class="property">exports</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> __webpack_exports__ = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä»£ç ä¸­çš„ require å‡è¢«æ›¿æ¢ä¸º __webpack_require__</span></span><br><span class="line">    <span class="keyword">const</span> depModule = <span class="title function_">__webpack_require__</span>( <span class="string">&quot;./packages/example/src/module.js&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(depModule, <span class="string">&#x27;Entry 1 dep&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;This is entry 1 !&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// loader2</span></span><br><span class="line">    <span class="comment">// loader1</span></span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>ğŸ¤” è¿™æ ·ä¸€çœ‹åŸç†å…¶å®å¾ˆç®€å•ï¼Œ<code>webpack</code> æœ€ç»ˆæ‰“åŒ…å‡ºçš„æ–‡ä»¶æ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œä¾æ¬¡è¯»å– <code>entry</code> ä¸­å¼•ç”¨çš„æ–‡ä»¶å…¨éƒ¨ç¼–è¯‘åœ¨ <code>__webpack_modules__</code> ä¸­çš„ä¸€ä¸ªå¯¹è±¡ ï¼Œkey ä¸ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„(ä½œä¸ºä¸€ä¸ªæ¨¡å—çš„å”¯ä¸€ id)ï¼Œvalue ä¸ºä¸€ä¸ªå‡½æ•°ç›´æ¥æ‰§è¡Œ module ä¸­çš„ä»£ç ã€‚ç„¶åå†å°è£…ä¸€ä¸ª  <code>__webpack_require__</code> æ–¹æ³•ä» <code>__webpack_modules__</code> è·å– <code>module</code> ä»£ç å¹¶æ‰§è¡Œã€‚å¹¶å°†ä»£ç ä¸­çš„ <code>require</code> å…¨éƒ¨æ›¿æ¢ä¸º  <code>__webpack_require__</code>ã€‚</p><p>é‚£ä¹ˆå†ç¼–è¯‘æ¨¡å—çš„æ–¹æ³•ä¸»è¦è¿›è¡Œä¸¤æ­¥æ“ä½œï¼Œè·å–ä»£ç æ–‡ä»¶çš„æºä»£ç å­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨ loader å¯¹ä»£ç è¿›è¡Œå¤„ç†ï¼Œå†å¯¹å¤„ç†åçš„ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œå°±æ˜¯å°†ä»£ç ä¸­çš„ require å…¨éƒ¨æ›¿æ¢ä¸º <code>__webpack_require__</code>ï¼Œæœ€åæˆ‘ä»¬è¾“å‡ºæ¨¡å—çš„æ—¶å€™å†å°† <code>module</code> ä¸­çš„ä»£ç æ‰“åŒ…è¿› <code>__webpack_modules__</code> å°±å¯ä»¥äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"><span class="title function_">buildModule</span>(<span class="params">moduleName, modulePath</span>) &#123;</span><br><span class="line">    <span class="comment">// 1.è¯»å–æ–‡ä»¶åŸå§‹ä»£ç </span></span><br><span class="line">    <span class="keyword">const</span> originSourceCode = fs.<span class="title function_">readFileSync</span>(modulePath, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="comment">// originSourceCode ä¸ moduleCode</span></span><br><span class="line">    <span class="comment">// è®°å½•å½“å‰å¤„ç†æ¨¡å—çš„ æºä»£ç  ä¸ ç¼–è¯‘åä»£ç </span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">originSourceCode</span> = originSourceCode</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">moduleCode</span> = originSourceCode;</span><br><span class="line">    <span class="comment">// 2.è°ƒç”¨ loader è¿›è¡Œå¤„ç†</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œå…ˆç”¨ä¸€ä¸ªç®€å•çš„æ–¹æ³•è¿›è¡Œå¤„ç†</span></span><br><span class="line">    <span class="comment">// æºç ä¸­å°è£…äº†ä¸€ä¸ª loader-runner æ¨¡å—è¿›è¡Œå¤„ç†</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">handleLoader</span>(modulePath);</span><br><span class="line">    <span class="comment">// 3.è°ƒç”¨ webpack è¿›è¡Œæ¨¡å—ç¼–è¯‘è·å¾—æœ€ç»ˆçš„moduleå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// å¤„ç† require å¼•ç”¨é—®é¢˜</span></span><br><span class="line">    <span class="keyword">const</span> <span class="variable language_">module</span> = <span class="variable language_">this</span>.<span class="title function_">handleWebpackCompiler</span>(moduleName, modulePath);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">module</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç”¨ <code>loader</code> å¤„ç†è¯»å–çš„æºæ–‡ä»¶å†…å®¹ã€‚<code>loader</code> æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶æ–‡ä»¶æºä»£ç å¹¶å¯ä»¥åœ¨ <code>this</code> ä¸­è°ƒç”¨ <code>webpack</code> ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿”å› <code>loader</code> å¤„ç†åçš„ä»£ç å†…å®¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"><span class="title function_">handleLoader</span>(<span class="params">modulePath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> matchLoaders = [];</span><br><span class="line">  <span class="comment">// 1. è·å–æ‰€æœ‰ä¼ å…¥çš„loaderè§„åˆ™</span></span><br><span class="line">  <span class="keyword">const</span> rules = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">module</span>.<span class="property">rules</span>;</span><br><span class="line">  <span class="comment">// è¯»å– loader è·¯å¾„</span></span><br><span class="line">  rules.<span class="title function_">forEach</span>(<span class="function">(<span class="params">loader</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> testRule = loader.<span class="property">test</span>;</span><br><span class="line">    <span class="keyword">if</span> (testRule.<span class="title function_">test</span>(modulePath)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> loader.<span class="property">use</span> === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        matchLoaders.<span class="title function_">push</span>(loader.<span class="property">use</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        matchLoaders.<span class="title function_">push</span>(...loader.<span class="property">use</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. å€’åºæ‰§è¡Œloaderä¼ å…¥æºä»£ç </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = matchLoaders.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">      <span class="comment">// require å¼•å…¥å¯¹åº” loader</span></span><br><span class="line">      <span class="keyword">const</span> loaderFn = <span class="built_in">require</span>(matchLoaders[i]);</span><br><span class="line">      <span class="comment">// ä½¿ç”¨ call ç»‘å®š this</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">moduleCode</span> = loaderFn.<span class="title function_">call</span>(<span class="variable language_">this</span>, <span class="variable language_">this</span>.<span class="property">moduleCode</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ¤” <code>loader</code> å¤„ç†å®Œæ¯•åæˆ‘ä»¬éœ€è¦è¿›è¡Œ <code>webpack</code> ç¼–è¯‘é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯éœ€è¦å°†æºä»£ç ä¸­çš„ <code>require</code> å…¨éƒ¨æ›¿æ¢ä¸º <code>__webpack_require__</code>ï¼Œå¹¶ç”Ÿæˆ <code>module</code> å¯¹è±¡ã€‚è¿™ä¸ªæ“ä½œå¯ä»¥åˆ©ç”¨ <code>bable</code> å°†ä»£ç è½¬åŒ–ä¸º <code>ast</code> è¯­æ³•æ ‘ï¼Œå¹¶ç›´æ¥æ“ä½œè¯­æ³•æ ‘ç”Ÿæˆæ–°çš„ä»£ç ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><p>å¹¶ä¸”åœ¨å¤„ç†è¿‡ç¨‹ä¸­æˆ‘ä»¬è¦è¿›è¡Œé€’å½’æ“ä½œï¼Œä¸€ä¸ªæ¨¡å—ä¾èµ–å…¶ä»–æ¨¡å—æ—¶ï¼Œä¹Ÿéœ€è¦å¯¹è¯¥æ¨¡å—çš„ä¾èµ–æ¨¡å—è¿›è¡Œç¼–è¯‘å¤„ç†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ç›¸å…³å·¥å…·åº“</span></span><br><span class="line"><span class="keyword">const</span> parser = <span class="built_in">require</span>(<span class="string">&#x27;@babel/parser&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> traverse = <span class="built_in">require</span>(<span class="string">&#x27;@babel/traverse&#x27;</span>).<span class="property">default</span>;</span><br><span class="line"><span class="keyword">const</span> generator = <span class="built_in">require</span>(<span class="string">&#x27;@babel/generator&#x27;</span>).<span class="property">default</span>;</span><br><span class="line"><span class="keyword">const</span> t = <span class="built_in">require</span>(<span class="string">&#x27;@babel/types&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"><span class="title function_">handleWebpackCompiler</span>(<span class="params">moduleName, modulePath</span>) &#123;</span><br><span class="line">  <span class="comment">// å°†å½“å‰æ¨¡å—ç›¸å¯¹äºé¡¹ç›®å¯åŠ¨æ ¹ç›®å½•è®¡ç®—å‡ºç›¸å¯¹è·¯å¾„ ä½œä¸ºæ¨¡å—ID</span></span><br><span class="line">  <span class="keyword">const</span> moduleId = <span class="title function_">toUnixPath</span>(<span class="string">&#x27;./&#x27;</span> + path.<span class="title function_">relative</span>(<span class="variable language_">this</span>.<span class="property">rootPath</span>, modulePath));</span><br><span class="line">  <span class="comment">// åˆ›å»ºæ¨¡å—å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> <span class="variable language_">module</span> = &#123;</span><br><span class="line">    <span class="attr">id</span>: moduleId,</span><br><span class="line">    <span class="attr">dependencies</span>: <span class="keyword">new</span> <span class="title class_">Set</span>(), <span class="comment">// è¯¥æ¨¡å—æ‰€ä¾èµ–æ¨¡å—ç»å¯¹è·¯å¾„åœ°å€</span></span><br><span class="line">    <span class="attr">name</span>: [moduleName], <span class="comment">// è¯¥æ¨¡å—æ‰€å±çš„å…¥å£æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">source</span>: <span class="variable language_">this</span>.<span class="property">originSourceCode</span> <span class="comment">// å½“å‰æ¨¡å—ä»£ç </span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è°ƒç”¨ babel åˆ†ææˆ‘ä»¬çš„ä»£ç </span></span><br><span class="line">  <span class="keyword">const</span> ast = parser.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">moduleCode</span>, &#123;</span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&#x27;module&#x27;</span>,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ©ç”¨ traverse æ–¹æ³•éå†è¯­æ³•æ ‘</span></span><br><span class="line">  <span class="title function_">traverse</span>(ast, &#123;</span><br><span class="line">    <span class="comment">// å½“é‡åˆ° require è¯­å¥æ—¶ä¼šè§¦å‘è¯¥å›è°ƒ</span></span><br><span class="line">    <span class="title class_">CallExpression</span>:<span class="function">(<span class="params">nodePath</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> node = nodePath.<span class="property">node</span>;</span><br><span class="line">      <span class="keyword">if</span> (node.<span class="property">callee</span>.<span class="property">name</span> === <span class="string">&#x27;require&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// è·å¾—æºä»£ç ä¸­å¼•å…¥æ¨¡å—ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="keyword">const</span> requirePath = node.<span class="property">arguments</span>[<span class="number">0</span>].<span class="property">value</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–åˆ° require å†…éƒ¨çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="comment">// tryExtensions å°±æ˜¯å¯¹è·¯å¾„è¿›è¡Œåç¼€çš„åŒ¹é…</span></span><br><span class="line">        <span class="keyword">const</span> moduleDirName = path.<span class="title function_">dirname</span>(modulePath);</span><br><span class="line">        <span class="keyword">const</span> absolutePath = <span class="title function_">tryExtensions</span>(</span><br><span class="line">          path.<span class="title function_">join</span>(moduleDirName, requirePath),</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">resolve</span>.<span class="property">extensions</span>,</span><br><span class="line">          requirePath,</span><br><span class="line">          moduleDirName</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»å¯¹è·¯å¾„è½¬åŒ–ä¸ºç›¸å¯¹ rootPath çš„ç›¸å¯¹è·¯å¾„ä½œä¸º moduleId</span></span><br><span class="line">        <span class="keyword">const</span> moduleId = <span class="title function_">toUnixPath</span>(<span class="string">&#x27;./&#x27;</span> + path.<span class="title function_">relative</span>(<span class="variable language_">this</span>.<span class="property">rootPath</span>, absolutePath));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°† require æ›¿æ¢ä¸º __webpack_require__</span></span><br><span class="line">        node.<span class="property">callee</span> = t.<span class="title function_">identifier</span>(<span class="string">&#x27;__webpack_require__&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿®æ”¹æºä»£ç ä¸­ require è¯­å¥å¼•å…¥çš„æ¨¡å—</span></span><br><span class="line">        <span class="comment">// å…¨éƒ¨ä¿®æ”¹å˜ä¸ºç›¸å¯¹äºè·Ÿè·¯å¾„ moduleId æ¥å¤„ç†</span></span><br><span class="line">        node.<span class="property">arguments</span> = [t.<span class="title function_">stringLiteral</span>(moduleId)];</span><br><span class="line">        <span class="comment">// å°†è¯¥æ¨¡å— require çš„æ¨¡å—å…¨éƒ¨æ·»åŠ è¿›ä¾èµ–ä¸­</span></span><br><span class="line">        <span class="variable language_">module</span>.<span class="property">dependencies</span>.<span class="title function_">add</span>(moduleId);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// éå†ç»“æŸæ ¹æ®ASTç”Ÿæˆæ–°çš„ä»£ç </span></span><br><span class="line">  <span class="keyword">const</span> &#123; code &#125; = <span class="title function_">generator</span>(ast);</span><br><span class="line">  <span class="comment">// ä¸ºå½“å‰æ¨¡å—æŒ‚è½½æ–°çš„ç”Ÿæˆçš„ä»£ç </span></span><br><span class="line">  <span class="variable language_">module</span>.<span class="property">_source</span> = code;</span><br><span class="line">  <span class="comment">// é€’å½’ä¾èµ–æ·±åº¦éå† å­˜åœ¨ä¾èµ–æ¨¡å—åˆ™åŠ å…¥</span></span><br><span class="line">  <span class="comment">// æ·»åŠ å‰é˜²æ­¢é‡å¤è§£æ</span></span><br><span class="line">  <span class="keyword">const</span> alreadyModules = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">this</span>.<span class="property">modules</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> i.<span class="property">id</span>);</span><br><span class="line">  <span class="variable language_">module</span>.<span class="property">dependencies</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">dependencyPath</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!alreadyModules.<span class="title function_">includes</span>(dependencyPath)) &#123;</span><br><span class="line">      <span class="keyword">const</span> depModule = <span class="variable language_">this</span>.<span class="title function_">buildModule</span>(moduleName, dependencyPath);</span><br><span class="line">      <span class="comment">// å°†ç¼–è¯‘åçš„ä»»ä½•ä¾èµ–æ¨¡å—å¯¹è±¡åŠ å…¥åˆ°moduleså¯¹è±¡ä¸­å»</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">modules</span>.<span class="title function_">add</span>(depModule);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å¦åˆ™ä¸éœ€è¦è§£æ ä»…æ·»åŠ å…¥å£æ–‡ä»¶</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">modules</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value.<span class="property">id</span> === dependencyPath) &#123;</span><br><span class="line">          value.<span class="property">name</span>.<span class="title function_">push</span>(moduleName);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å›å½“å‰æ¨¡å—å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">module</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¥å……ä¸€ä¸‹åŒ¹é…æ–‡ä»¶åç¼€çš„æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/util/index.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tryExtensions</span>(<span class="params"></span></span><br><span class="line"><span class="params">  modulePath,</span></span><br><span class="line"><span class="params">  extensions,</span></span><br><span class="line"><span class="params">  originModulePath,</span></span><br><span class="line"><span class="params">  moduleContext</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ç”¨æˆ·ä¼ å…¥åç¼€ä¼˜å…ˆç›´æ¥å¯»æ‰¾</span></span><br><span class="line">  extensions.<span class="title function_">unshift</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> extension <span class="keyword">of</span> extensions) &#123;</span><br><span class="line">    <span class="keyword">if</span> (fs.<span class="title function_">existsSync</span>(modulePath + extension)) &#123;</span><br><span class="line">      <span class="keyword">return</span> modulePath + extension;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æœªåŒ¹é…å¯¹åº”æ–‡ä»¶</span></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(</span><br><span class="line">    <span class="string">`No module, Error: Can&#x27;t resolve <span class="subst">$&#123;originModulePath&#125;</span> in  <span class="subst">$&#123;moduleContext&#125;</span>`</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ˜€ åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®Œæˆäº†æ¨¡å—ç¼–è¯‘é˜¶æ®µï¼Œæˆ‘ä»¬ä»æ‰“åŒ…å…¥å£å¼€å§‹ï¼Œä¾æ¬¡å¯¹å…¥å£æ–‡ä»¶ä»¥åŠå¼•ç”¨çš„ä¾èµ–æ¨¡å—è¿›è¡Œ <code>loader</code> å¤„ç†ä»¥åŠ <code>webpack</code> ç¼–è¯‘ï¼Œæ„å»ºå‡ºä¸€ä¸ª **ä¾èµ–å›¾(dependency graph)**ï¼Œä½¿ç”¨ <code>entries</code> ä¸ <code>modules</code> åˆ†åˆ«ä¿å­˜äº†å…¥å£å¯¹è±¡å’Œæ¨¡å—å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™äº›ä¿¡æ¯å»æ„å»ºæˆ‘ä»¬çš„ <code>chunks</code>ï¼Œæœ€åå°†æ‰“åŒ…åçš„æ¨¡å—è¾“å‡ºã€‚</p><h2 id="æ¨¡å—ç”Ÿæˆé˜¶æ®µ"><a href="#æ¨¡å—ç”Ÿæˆé˜¶æ®µ" class="headerlink" title="æ¨¡å—ç”Ÿæˆé˜¶æ®µ"></a>æ¨¡å—ç”Ÿæˆé˜¶æ®µ</h2><h3 id="ç»„è£…-chunk"><a href="#ç»„è£…-chunk" class="headerlink" title="ç»„è£… chunk"></a>ç»„è£… chunk</h3><p>ğŸ¤” è¿™ä¸€é˜¶æ®µæ¯”è¾ƒç®€å•ï¼Œä¸€ä¸ª <code>entry</code> ç”Ÿæˆä¸€ä¸ª <code>chunk</code> æ ¹æ®ç›¸å…³ <code>modules</code> ç”Ÿæˆå¯¹è±¡å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"><span class="title function_">buildUpChunk</span>(<span class="params">entryName, entryObj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> chunk = &#123;</span><br><span class="line">    <span class="attr">name</span>: entryName, <span class="comment">// æ¯ä¸€ä¸ªå…¥å£æ–‡ä»¶ä½œä¸ºä¸€ä¸ª chunk</span></span><br><span class="line">    <span class="attr">entryModule</span>: entryObj, <span class="comment">// ç¼–è¯‘åçš„ entry å¯¹è±¡</span></span><br><span class="line">    <span class="attr">modules</span>: <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">this</span>.<span class="property">modules</span>).<span class="title function_">filter</span>(<span class="function">(<span class="params">i</span>) =&gt;</span></span><br><span class="line">      i.<span class="property">name</span>.<span class="title function_">includes</span>(entryName)</span><br><span class="line">    ), <span class="comment">// åœ¨è¯¥ entry ä¸­å¼•å…¥çš„ module</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// å°† chunk æ·»åŠ åˆ° this.chunks ä¸­å»</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">chunks</span>.<span class="title function_">add</span>(chunk);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¡¥å……ä¸€ä¸‹åœ¨ <code>compiler</code> å¯¹è±¡ä¸­è°ƒç”¨ <code>compilation</code> è¿›è¡Œç¼–è¯‘çš„ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">run</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–å…¥å£é…ç½®å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> entry = <span class="variable language_">this</span>.<span class="title function_">getEntry</span>();</span><br><span class="line">  <span class="keyword">const</span> compilation = <span class="variable language_">this</span>.<span class="title function_">newCompilation</span>();</span><br><span class="line">  <span class="comment">// ç¼–è¯‘å…¥å£æ–‡ä»¶</span></span><br><span class="line">  compilation.<span class="title function_">buildEntryModule</span>(entry);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¥å……ä¸€ä¸‹æ„å»º <code>compilation</code> å¯¹è±¡çš„æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">newCompilation</span>(<span class="params">params</span>) &#123;</span><br><span class="line">  <span class="comment">// æºç è¿™é‡Œè¿˜ä¼šä¼ å…¥ normalModuleFactory ç­‰å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> compilation = <span class="keyword">new</span> <span class="title class_">Compilation</span>(<span class="variable language_">this</span>, &#123;&#125;)</span><br><span class="line">  <span class="comment">// è°ƒç”¨ compilation é˜¶æ®µè§¦å‘çš„é’©å­</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">hooks</span>.<span class="property">compilation</span>.<span class="title function_">call</span>(compilation, params);</span><br><span class="line">  <span class="keyword">return</span> compilation;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¾“å‡ºæ–‡ä»¶é˜¶æ®µ"><a href="#è¾“å‡ºæ–‡ä»¶é˜¶æ®µ" class="headerlink" title="è¾“å‡ºæ–‡ä»¶é˜¶æ®µ"></a>è¾“å‡ºæ–‡ä»¶é˜¶æ®µ</h2><p>æœ€åæˆ‘ä»¬éœ€è¦æ ¹æ®æˆ‘ä»¬ç”Ÿæˆçš„ <code>chunks</code> å»è¾“å‡ºæœ€ç»ˆç¼–è¯‘å®Œæˆçš„æ–‡ä»¶å³å¯ï¼Œåœ¨æ¨¡å—ç¼–è¯‘é˜¶æ®µä¸­å·²ç»è®²è§£äº† <code>webpack</code> æ‰“åŒ…çš„åŸç†ï¼Œæ˜¯åœ¨å†…éƒ¨å°è£…äº†ä¸€ä¸ª <code>__webpack_require__</code> æ–¹æ³•å»è°ƒç”¨ <code>__webpack_modules__</code> ä¸­çš„æ–¹æ³•ï¼Œéœ€è¦å˜æ›´çš„åœ°æ–¹åªæœ‰ <code>__webpack_modules__</code> å¯¹è±¡å’Œå¤„ç†åçš„æºä»£ç å†…å®¹ï¼Œè¿™äº›åœ¨ <code>entrys</code>ã€<code>modules</code> å’Œ <code>chunks</code> ä¸­æˆ‘ä»¬éƒ½å·²ç»ç”Ÿæˆå¥½äº†ï¼Œå…¶ä»–åœ°æ–¹ç›´æ¥ä½¿ç”¨åŸç‰ˆ <code>webpack</code> æ‰“åŒ…åçš„å†…å®¹å³å¯ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½ç”Ÿæˆæˆ‘ä»¬çš„ <code>assets</code> å¹¶è¾“å‡ºæ–‡ä»¶ã€‚</p><p>ç¼–å†™ä¸€ä¸ªæ ¹æ® <code>chunk</code> ä¿¡æ¯å»ç”Ÿæˆæœ€ç»ˆä»£ç çš„æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/util/index.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSourceCode</span>(<span class="params">chunk</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; name, entryModule, modules &#125; = chunk;</span><br><span class="line">  <span class="comment">// æ ¹æ® moduleId ä½œä¸º key</span></span><br><span class="line">  <span class="comment">// å¤„ç†åçš„ä»£ç å°è£…æˆä¸€ä¸ªæ–¹æ³•ä½œä¸º value</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">  (() =&gt; &#123;</span></span><br><span class="line"><span class="string">    var __webpack_modules__ = &#123;</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;modules</span></span></span><br><span class="line"><span class="subst"><span class="string">    .map((<span class="variable language_">module</span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">      <span class="keyword">return</span> <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">          &#x27;<span class="subst">$&#123;<span class="variable language_">module</span>.id&#125;</span>&#x27;: (module) =&gt; &#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">            <span class="subst">$&#123;<span class="variable language_">module</span>._source&#125;</span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">      &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">        `</span>;</span></span></span><br><span class="line"><span class="subst"><span class="string">    &#125;)</span></span></span><br><span class="line"><span class="subst"><span class="string">    .join(<span class="string">&#x27;,&#x27;</span>)&#125;</span></span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    // The module cache</span></span><br><span class="line"><span class="string">    var __webpack_module_cache__ = &#123;&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    // The require function</span></span><br><span class="line"><span class="string">    function __webpack_require__(moduleId) &#123;</span></span><br><span class="line"><span class="string">      // Check if module is in cache</span></span><br><span class="line"><span class="string">      var cachedModule = __webpack_module_cache__[moduleId];</span></span><br><span class="line"><span class="string">      if (cachedModule !== undefined) &#123;</span></span><br><span class="line"><span class="string">        return cachedModule.exports;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      // Create a new module (and put it into the cache)</span></span><br><span class="line"><span class="string">      var module = (__webpack_module_cache__[moduleId] = &#123;</span></span><br><span class="line"><span class="string">        // no module.id needed</span></span><br><span class="line"><span class="string">        // no module.loaded needed</span></span><br><span class="line"><span class="string">        exports: &#123;&#125;,</span></span><br><span class="line"><span class="string">      &#125;);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // Execute the module function</span></span><br><span class="line"><span class="string">      __webpack_modules__[moduleId](module, module.exports, __webpack_require__);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      // Return the exports of the module</span></span><br><span class="line"><span class="string">      return module.exports;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    var __webpack_exports__ = &#123;&#125;;</span></span><br><span class="line"><span class="string">    // This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.</span></span><br><span class="line"><span class="string">    (() =&gt; &#123;</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;entryModule._source&#125;</span></span></span><br><span class="line"><span class="string">    &#125;)();</span></span><br><span class="line"><span class="string">  &#125;)();</span></span><br><span class="line"><span class="string">  `</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬æ ¹æ® <code>chunks</code> ä¸­çš„ä¿¡æ¯ç›´æ¥è¾“å‡ºæ–‡ä»¶å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/core/compilation.js</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">emitAssets</span>(<span class="params">compilation</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> output = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">output</span>;</span><br><span class="line">  <span class="comment">// æ ¹æ® chunks ç”Ÿæˆ assets å†…å®¹</span></span><br><span class="line">  compilation.<span class="property">chunks</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> parseFileName = output.<span class="property">filename</span>.<span class="title function_">replace</span>(<span class="string">&#x27;[name]&#x27;</span>, chunk.<span class="property">name</span>);</span><br><span class="line">    compilation.<span class="property">assets</span>[parseFileName] = <span class="title function_">getSourceCode</span>(chunk);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è°ƒç”¨ Plugin emit é’©å­</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">hooks</span>.<span class="property">emit</span>.<span class="title function_">call</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç›®å½•ä¸å­˜åœ¨éœ€è¦å…ˆåˆ›å»ºç›®å½•</span></span><br><span class="line">  <span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(output.<span class="property">path</span>)) fs.<span class="title function_">mkdirSync</span>(output.<span class="property">path</span>);</span><br><span class="line">  <span class="comment">// files ä¸­ä¿å­˜æ‰€æœ‰çš„ç”Ÿæˆæ–‡ä»¶å</span></span><br><span class="line">  compilation.<span class="property">files</span> = <span class="title class_">Object</span>.<span class="title function_">keys</span>(<span class="variable language_">this</span>.<span class="property">assets</span>);</span><br><span class="line">  <span class="comment">// å°† assets ä¸­çš„å†…å®¹ç”Ÿæˆæ‰“åŒ…æ–‡ä»¶è¾“å‡º</span></span><br><span class="line">  compilation.<span class="property">files</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">fileName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> filePath = path.<span class="title function_">join</span>(output.<span class="property">path</span>, fileName);</span><br><span class="line">    fs.<span class="title function_">writeFileSync</span>(filePath, <span class="variable language_">this</span>.<span class="property">assets</span>[fileName]);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜éœ€è¦åœ¨ <code>compiler.run</code> å‡½æ•°ä¸­è°ƒç”¨ä¸€ä¸‹å¹¶è¡¥å……å›è°ƒé€»è¾‘ï¼Œè§¦å‘é’©å­ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">run</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="comment">// å¯¼å‡ºåˆ—è¡¨ä¹‹åå°†æ¯ä¸ª chunk è½¬åŒ–ç§°ä¸ºå•ç‹¬çš„æ–‡ä»¶</span></span><br><span class="line">  <span class="comment">// åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨ assets ä¸­</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">emitAssets</span>(compilation);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç»“æŸä¹‹åè§¦å‘é’©å­</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">hooks</span>.<span class="property">done</span>.<span class="title function_">call</span>();</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ compiler.run ç»“æŸåçš„å›è°ƒå¹¶è¿”å›ç¼–è¯‘ä¿¡æ¯</span></span><br><span class="line">  <span class="title function_">callback</span>(<span class="literal">null</span>, &#123;</span><br><span class="line">    <span class="attr">toJson</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">entries</span>: compilation.<span class="property">entries</span>,</span><br><span class="line">        <span class="attr">modules</span>: compilation.<span class="property">modules</span>,</span><br><span class="line">        <span class="attr">files</span>: compilation.<span class="property">files</span>,</span><br><span class="line">        <span class="attr">chunks</span>: compilation.<span class="property">chunks</span>,</span><br><span class="line">        <span class="attr">assets</span>: compilation.<span class="property">assets</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œæˆ‘ä»¬ç®€æ˜“ <code>webpack</code> çš„æ ¸å¿ƒé€»è¾‘å°±å…¨éƒ¨å®ç°äº† ğŸ˜€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ <code>node .\packages\core\index.js</code> ä¸‹æˆ‘ä»¬çš„ç¼–è¯‘å‘½ä»¤ã€‚å‘ç° <code>packages/example/build</code> ç›®å½•ä¸‹ç”Ÿæˆäº† <code>main.js</code> ä¸ <code>second.js</code> ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«å¯¹åº”ä¸¤ä¸ªå…¥å£æ‰“åŒ…å‡ºçš„ <code>chunk</code>ã€‚</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>æƒ³å†™åœ¨è‡ªå·±å®æ“ä¸€éåä½ å·²ç»å¯¹ <code>webpack</code> æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ï¼Œä¹‹åæˆ‘ä»¬è¿˜ä¼šæ·±æŒ– <code>loader</code> æœºåˆ¶å»å®ç° <code>loader-runner</code>ï¼Œç†è§£ <code>plugin</code> æœºåˆ¶å¹¶å®ç°ç®€æ˜“çš„ <code>tapable</code>ï¼Œå¹¶å®ç°ç®€æ˜“çš„ <code>loader</code> ä¸ <code>pluin</code> ï¼Œæœ€ç»ˆèƒ½é€šè¿‡ <code>index.html</code> è¿è¡Œæˆ‘ä»¬çš„ web é¡¹ç›®ã€‚</p><p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š</p><p><a href="https://juejin.cn/column/7031912597133721631">Webpack - 19ç»„æ¸…é£çš„ä¸“æ  - æ˜é‡‘ (juejin.cn)</a></p><p><strong>Githubåœ°å€</strong>ï¼š</p><p> <a href="https://github.com/LonelySnowman/mini-webpack">LonelySnowman&#x2F;mini-webpack</a></p><blockquote><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯è®°å¾—å¸®æˆ‘ç‚¹ä¸ªèµ ğŸ‘ã€‚</p><p>æ–‡ç« å†…å®¹æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡å‡ºï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ ğŸ˜€ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€é›ªäººæ—¥è®°ã€‘è®°ä¸€æ¬¡è§£å†³issueçš„è¸©å‘ ~</title>
      <link href="/2024/01/26/diary/2024-1-26/"/>
      <url>/2024/01/26/diary/2024-1-26/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€é›ªäººæ—¥è®°ã€‘è®°ä¸€æ¬¡è§£å†³issueçš„è¸©å‘"><a href="#ã€é›ªäººæ—¥è®°ã€‘è®°ä¸€æ¬¡è§£å†³issueçš„è¸©å‘" class="headerlink" title="ã€é›ªäººæ—¥è®°ã€‘è®°ä¸€æ¬¡è§£å†³issueçš„è¸©å‘ ~"></a>ã€é›ªäººæ—¥è®°ã€‘è®°ä¸€æ¬¡è§£å†³issueçš„è¸©å‘ ~</h1><p>å¤§å®¶å¥½å•Šï¼Œæˆ‘æ˜¯â›„ã€‚ä»Šå¤©ä¸‹åˆé‡åˆ°ä¸€ä¸ªå¾ˆå¤´ç–¼çš„é—®é¢˜ï¼Œä¸šåŠ¡ä¸Šè¦ç»™æ ‘å½¢ç»“æ„è¡¨æ ¼åŠ ä¸€ä¸ªé€»è¾‘ï¼Œé€‰æ‹©å­èŠ‚ç‚¹çš„æ—¶å€™è¦æ±‚çˆ¶çº§èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹åŠçˆ¶çº§èŠ‚ç‚¹ä¸å…è®¸é€‰ä¸­ï¼Œå¹¶ä¸”è¿˜è¦åœ¨ä¸å…è®¸é€‰ä¸­çš„é€‰æ‹©æ¡†ä¸ŠåŠ ä¸€ä¸ªHoverçš„æç¤ºæ–‡å­—ã€‚</p><p>ç„¶åæˆ‘å°±å¼€å§‹æŸ¥é˜…Semiçš„æ–‡æ¡£ï¼Œå‘ç°æ— æ³•é€‰ä¸­çš„APIæ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯è¦æƒ³æœ‰Hoveræ“ä½œçš„è¯éœ€è¦å»ä½¿ç”¨è‡ªå®šä¹‰çš„APIã€‚å†™åˆ°ä¸€åŠå‘ç°å¦‚æœæŠŠç­›é€‰æ¡†ä¸€æ éšè—ï¼Œä»–çš„resizeçš„æ“ä½œåˆ—è¿˜åœ¨ï¼Œç„¶åå°±å¼€å§‹ä¸€ä¸ªä¸ªè¿‡ç”¨åˆ°çš„APIï¼ŒæŸ¥äº†åŠå¤©ï¼Œå¥½åƒæ²¡æœ‰ç›¸å…³çš„APIå¯ä»¥æ“ä½œæˆæˆ‘è¿™ä¸ªæ ·å­ï¼Œåƒä¸‹é¢è¿™æ ·ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20240126011003328.png" alt="Bug"></p><p>ç®€å•æ’æŸ¥APIåï¼Œå‘ç°æ˜¯åŒæ—¶ä½¿ç”¨<code>rowSelection</code>å¹¶ä¸”åŠ å…¥<code>hidden</code>å±æ€§ï¼Œå¹¶ä¸”ä½¿ç”¨<code>resizable</code>å±æ€§æ‰ä¼šè§¦å‘ï¼Œä¸å¯å˜é•¿çš„è¡¨æ ¼åˆ—æ˜¯æ­£å¸¸çš„ã€‚æ‰€ä»¥è¿™ä¸ªæ˜¯ä¸€ä¸ªBugï¼Œç„¶åå°±æƒ³ç€è‡ªå·±å¤„ç†ä¸€ä¸‹ï¼Œæäº†PRåˆå¹¶åä¸šåŠ¡çš„é—®é¢˜å°±è§£å†³äº†ï¼Œ2024å¹´çš„ç¬¬ä¸€ä¸ªPRä¹Ÿå°±æœ‰å•¦ğŸ˜Šã€‚</p><p>ä¸‹ç­å›å®¶åæ­‡äº†ä¸€ä¸‹å°±å¼€å§‹å¤„ç†ï¼Œæˆ‘ç›´æ¥æ‰“å¼€<code>packages/semi-ui/table/index.tsx</code>ï¼Œç›´æ¥å®šä½åˆ°<code>render</code>å‡½æ•°å»çœ‹<code>DOM</code>ç»“æ„ï¼Œå‘ç°åˆšå¥½å—åˆ°<code>resizable</code>å±æ€§å½±å“åˆ†ä¸ºäº†ä¸¤ä¸ªè¡¨æ ¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å®šä½å»æŸ¥çœ‹<code>ResizableTable</code>ç»„ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">    // eslint-disable-next-line prefer-destructuring</span><br><span class="line">    const props = this.props;</span><br><span class="line">    const direction = this.props.direction ?? this.context.direction;</span><br><span class="line">    if (props.resizable) &#123;</span><br><span class="line">        // resizable æ¸²æŸ“å¯å˜é•¿è¡¨æ ¼</span><br><span class="line">        return &lt;ResizableTable &#123;...props&#125; ref=&#123;this.tableRef&#125; direction=&#123;direction&#125; /&gt;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // resizable æ¸²æŸ“å®šé•¿è¡¨æ ¼</span><br><span class="line">        return &lt;NormalTable&lt;RecordType&gt; &#123;...props&#125; ref=&#123;this.tableRef&#125; direction=&#123;direction&#125; /&gt;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå› ä¸ºæˆ‘ä»¬çš„BUGæ˜¯ç›´æ¥å¤šäº†ä¸€ä¸ªæ— æ³•åˆ é™¤çš„åˆ—ï¼Œæ‰€ä»¥æˆ‘çŒœæµ‹æ˜¯é™¤äº†æˆ‘ä»¬è‡ªå·±ä¼ å…¥çš„<code>columns</code>ï¼ŒTableå†…éƒ¨è¿˜ä¼šå¯¹æˆ‘ä»¬ä¼ å…¥çš„<code>columns</code>è¿›è¡Œæ‹“å±•ï¼Œæ‰èƒ½åœ¨æœ€åæ¸²æŸ“çš„æ—¶å€™ç»Ÿä¸€ä½¿ç”¨ä¸€ä¸ª<code>columns</code>æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä»<code>columns</code>å…¥æ‰‹ï¼ŒåŒæ ·å…ˆå»çœ‹çœ‹<code>DOM</code>ç»“æ„å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return &lt;Table &#123;...restProps&#125; columns=&#123;finalColumns&#125; components=&#123;components&#125; ref=&#123;ref&#125; /&gt;;</span><br></pre></td></tr></table></figure><p>å‘ç°<code>colums</code>ç¡®å®ä¸æ˜¯ç”¨æˆ·ä¼ å…¥çš„ï¼Œå†…éƒ¨è¿›è¡Œäº†å¤„ç†ï¼Œç”¨åˆ°äº†<code>finalColumns</code>ï¼Œç„¶åå°±é¡ºç€å¾€ä¸Šæ‰¾å‘ç°ä½¿ç”¨äº†<code>assignResizableRender</code>å‡½æ•°å¤„ç†<code>colums</code>ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°å¹¶æ²¡æœ‰ç»™æˆ‘ä»¬<code>colums</code>æ–°å¢åˆ—å•Šï¼Œä»åç§°æ¨æ–­æ¥çœ‹å°±åªæ˜¯åŠ äº†ä¸€äº›è®©<code>colums</code>å¯æ”¹å˜é•¿åº¦çš„é…ç½®ï¼Œç„¶åæˆ‘å°±æƒ³å¯èƒ½æ˜¯åœ¨<code>Table</code>ç»„ä»¶é‡Œè¿˜ä¼šå¤„ç†ï¼Œé‚£å°±ç»§ç»­çœ‹<code>Table</code>ç»„ä»¶ï¼Œç»§ç»­å®šä½<code>DOM</code>ç»“æ„ï¼Œç»§ç»­å°è¯•å»æ‰¾<code>colums</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//...</span><br><span class="line">&lt;React.Fragment key=&#123;&#x27;pagination-top&#x27;&#125;&gt;</span><br><span class="line">    &#123;[&#x27;top&#x27;, &#x27;both&#x27;].includes(paginationPosition) ? tablePagination : null&#125;</span><br><span class="line">&lt;/React.Fragment&gt;</span><br><span class="line">&#123;this.renderTitle(&#123;</span><br><span class="line">    title: (props as any).title,</span><br><span class="line">    dataSource: props.dataSource,</span><br><span class="line">    prefixCls: props.prefixCls,</span><br><span class="line">&#125;)&#125;</span><br><span class="line">// renderMainTable è‚¯å®šå°±æ˜¯ Table çš„ä¸»ä½“éƒ¨åˆ†</span><br><span class="line">&lt;div className=&#123;`$&#123;prefixCls&#125;-container`&#125;&gt;&#123;this.renderMainTable(&#123; ...props &#125;)&#125;&lt;/div&gt;</span><br><span class="line">&lt;React.Fragment key=&#123;&#x27;pagination-bottom&#x27;&#125;&gt;</span><br><span class="line">    &#123;[&#x27;bottom&#x27;, &#x27;both&#x27;].includes(paginationPosition) ? tablePagination : null&#125;</span><br><span class="line">&lt;/React.Fragment&gt;</span><br><span class="line">// ...</span><br></pre></td></tr></table></figure><p>é¡ºç€<code>renderMainTable</code>ç»§ç»­å¾€ä¸‹æ‰¾æœ€åå¯ä»¥æ‰¾åˆ°æ˜¯åœ¨<code>handleColumns</code>ç¬¬ä¸€å±‚å¤„ç†äº†æˆ‘ä»¬çš„<code>columns</code>ï¼ˆçœŸçš„å¥½å¤šå±‚å¤„ç†ğŸ˜‚ï¼‰ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å‘ç°é‡Œé¢ç«Ÿç„¶æœ‰æˆ‘ä»¬ç”¨åˆ°çš„APIï¼Œåˆšå¥½å°±æ˜¯<code>rowSelection</code>å’Œå…¶ä¸­çš„<code>hidden</code>ï¼Œå¹¶ä¸”ä¹Ÿç¡®å®é€šè¿‡äº†<code>normalizeSelectionColumn</code>å¢åŠ äº†ä¸€åˆ—é€‰æ‹©åˆ—ï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// selection column</span><br><span class="line">if (rowSelection &amp;&amp; !get(rowSelection, &#x27;hidden&#x27;)) &#123;</span><br><span class="line">    // æ‰¾æ‰¾ columns é‡Œé¢æœ‰æ²¡æœ‰é€‰æ‹©æ¡†åˆ—</span><br><span class="line">    const destIndex = findIndex(columns, item =&gt; item.key === strings.DEFAULT_KEY_COLUMN_SELECTION);</span><br><span class="line">    // åˆ›å»ºä¸€ä¸ªé€‰æ‹©æ¡†åˆ—çš„é…ç½®</span><br><span class="line">    const column = this.normalizeSelectionColumn(&#123; rowSelection, prefixCls &#125;);</span><br><span class="line"></span><br><span class="line">    if (destIndex &gt; -1) &#123; // å¦‚æœå·²ç»æœ‰äº†åˆå¹¶é…ç½®</span><br><span class="line">        columns[destIndex] = &#123; ...column, ...columns[destIndex] &#125;;</span><br><span class="line">    &#125; else if (column.fixed === &#x27;right&#x27;) &#123; // æ²¡æœ‰å¹¶æ–°å¢åˆ°æœ€åä¸€åˆ—</span><br><span class="line">        columns = [...columns, column];</span><br><span class="line">    &#125; else &#123; // æ²¡æœ‰å¹¶æ–°å¢åˆ°æœ€å·¦ä¾§ä¸€åˆ—</span><br><span class="line">        columns = [column, ...columns];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œ<code>!get(rowSelection, &#39;hidden&#39;)</code>è¿™ä¸ªæ¡ä»¶ç¡®å®æ²¡é—®é¢˜å•Šï¼Œéšè—å°±ä¸åŠ é€‰æ‹©æ¡†åˆ—äº†ï¼Œç„¶åæˆ‘å°±è’™äº†ï¼Œè¿™èƒ½ä»å“ªé‡Œæ¥å‘¢ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€‰æ‹©æ¡†åˆ—çš„<code>key</code>æ˜¯è¿™ä¸ª<code>DEFAULT_KEY_COLUMN_SELECTION</code>ï¼Œæˆ‘å°±å°è¯•æ€§çš„æœäº†ä¸€ä¸‹ï¼Œåœ¨<code>ResizableTable</code>é‡Œé¢æ‰¾åˆ°è¿™ä¸€æ®µä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// å¦‚æœæœ‰ rowSelection ä¸”æ²¡æœ‰æ·»åŠ é€‰æ‹©æ¡†åˆ—é‚£å°±æ·»åŠ ä¸€ä¸ª</span><br><span class="line">if (props.rowSelection &amp;&amp; !find(rawColumns, item =&gt; item.key === strings.DEFAULT_KEY_COLUMN_SELECTION)) &#123;</span><br><span class="line">    newColumns.unshift(&#123;</span><br><span class="line">        width: get(props, &#x27;rowSelection.width&#x27;, numbers.DEFAULT_WIDTH_COLUMN_SELECTION),</span><br><span class="line">        key: strings.DEFAULT_KEY_COLUMN_SELECTION,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ˜‚ï¼ŒåŸæ¥åœ¨è¿™é‡Œä¹Ÿå¤„ç†è¿‡ä¸€æ¬¡ï¼Œåˆšåˆšçœ‹çš„æ”¶å…‰é¡¾ç€çœ‹<code>finalColumns</code>äº†ï¼Œç¡®å®æ²¡å‘ç°è¿™ä¸ª<code>newColumns</code>ï¼Œè¿˜æœ‰è¿™ä¸ª<code>const [columns, setColumns] = useState(newColumns);</code>ï¼Œå¹¶ä¸”è¿™é‡Œè¿˜æœ‰æ³¨é‡Šçš„ï¼Œè¯´äº†ä¼šæ–°å¢ä¸€ä¸ªã€é€‰æ‹©åˆ—ã€‘ï¼ŒçœŸçš„æ˜¯å¿ƒæ€çˆ†ç‚¸ï¼Œæ²¡ç»†çœ‹çš„åæœï¼Œå¯¼è‡´ç»•äº†ä¸€ä¸‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   /**</span><br><span class="line">    * æ­¤å¤„å…³äº columns æœ‰ä¸‰ä¸ªå­˜å‚¨</span><br><span class="line">...</span><br><span class="line">    * 2. newColumns æ˜¯ rawColumns çš„æ·±æ‹·è´ï¼ŒåŒæ—¶æ ¹æ® props.expandedRowRenderã€props.hideExpandedColumn å’Œ props.rowSelection</span><br><span class="line">    * è¿™ä¸‰ä¸ªå‚æ•°åŠ å…¥äº†ã€é€‰æ‹©åˆ—ã€‘ä»¥åŠã€å±•å¼€åˆ—ã€‘</span><br><span class="line">...</span><br><span class="line">    */</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨è¿™é‡Œçš„é€»è¾‘å¹¶æ²¡æœ‰æ·»åŠ <code>hidden</code>å‚æ•°ç›¸å…³çš„å¤„ç†ï¼Œé‚£ä¹ˆè¿™è¦åœ¨è¿™é‡ŒåŠ ä¸Šåˆ¤æ–­ï¼Œ<code>hidden=true</code>æ—¶ä¸è¿›è¡Œæ·»åŠ é€‰æ‹©æ¡†åˆ—å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// ç”¨åˆ° lodash çš„ get å‡½æ•°</span><br><span class="line">if (props.rowSelection &amp;&amp; !get(props.rowSelection, &#x27;hidden&#x27;) &amp;&amp; !find(rawColumns, item =&gt; item.key === strings.DEFAULT_KEY_COLUMN_SELECTION)) &#123;</span><br><span class="line">    newColumns.unshift(&#123;</span><br><span class="line">        width: get(props, &#x27;rowSelection.width&#x27;, numbers.DEFAULT_WIDTH_COLUMN_SELECTION),</span><br><span class="line">        key: strings.DEFAULT_KEY_COLUMN_SELECTION,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ååœ¨<code>StoryBook</code>é‡Œé¢é¢„è§ˆä¸€ä¸‹å‘ç°æ²¡é—®é¢˜ï¼Œè·‘ä¸€ä¸‹å•æµ‹ä¹Ÿæ²¡é—®é¢˜ï¼Œå¥½è€¶ğŸ˜€ï¼Œç›´æ¥æ‹¿ä¸‹ã€‚æ‰“ç®—æä¸ª<code>issue</code>ç„¶åç¬¬äºŒå¤©å†åŠ ä¸ªç¤ºå®ä¾‹å†æäº¤å•¥çš„ï¼Œæ‰“å¼€<code>issues</code>çš„ç¬é—´å°±çœ‹åˆ°äº†è¿™ä¸€æ¡ï¼Œç‚¹è¿›å»ä¸€çœ‹ï¼Œå·²ç»è§£å†³äº†ã€‚ç„¶åçœ‹äº†ä¸€ä¸‹æ”¹åŠ¨ï¼Œç¡®å®æ˜¯å’Œåˆšåˆšæƒ³çš„è§£å†³æ€è·¯ä¸€æ ·ğŸ˜‚ï¼Œè¿™å°±å¾ˆå°´å°¬äº†ï¼Œå¤§æ™šä¸Šå›æ¥çœ‹åŠå¤©ï¼Œä¸€ä¸‹ç¡ä¸ç€äº†ï¼Œæµ…æµ…è®°å½•ä¸€ä¸‹ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20240126021423527.png" alt="issue"></p><p>æ‰€ä»¥è¯´è®°ä¸€æ¬¡è§£å†³<code>issue</code>çš„è¸©å‘ï¼Œè¸©çš„æ˜¯ä»€ä¹ˆå‘å‘¢ï¼šé‡åˆ°é—®é¢˜å…ˆå»æŸ¥ä¸€æŸ¥<code>issues</code>ğŸ˜‚ã€‚</p><p>å“ˆå“ˆå“ˆï¼Œæµ…æµ…åˆ†äº«ä¸€ä¸‹è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œå¯¹ä¸€ä¸ªå®Œå…¨ä¸äº†è§£çš„é¡¹ç›®ï¼Œè¦ä»é‡åˆ°é—®é¢˜çš„APIå’ŒDOMç»“æ„å…¥æ‰‹ğŸ’ªã€‚</p><blockquote><p>è¿˜æƒ³ç€ä¸èƒ½ç†¬å¤œäº†ğŸ˜‚ï¼Œæä¸Šå¤´äº†ï¼Œç¡è§‰ç¡è§‰ğŸ’¤</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> é›ªäººæ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é›ªäººæ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€é›ªäººæ—¥è®°ã€‘ä¸€ä¸ªäººçš„å¯’å‡ ~</title>
      <link href="/2024/01/21/diary/2024-1-21/"/>
      <url>/2024/01/21/diary/2024-1-21/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="d5a8dd491c12af03d97ec33cb06b23f01a62890c0999787c51703973e7c80545">470d40a13319dd5202c7e8667eadc5c9dff3ccb84d4bcff22c717d465e98526a3aef0124637f4316ef35591b77e4dddf1d29842bfe5a906beeea589c46f09b796e378a0a2e1bd15fd3538ff5e346806de80b996547acbbc9c39101a257903bf83a91227830ba007c2a118b8ee7e589be8b4b9e3d938696a8aa98dd697dba5367aae1eed43e6c2f6a63e16ad9c4ae6515a4fc690d10d6afe80c99f5288a13bfb0e222cb2a2d286a4b7848e9ea1eee92920a33d959cb08b1ae0690a8cda22e8c55c74453f97d693051abe7ea788d8f2e36246f895eee43a6585cb2b6933212811150d70560c7703bdeb7cef6b8d4737f3452558d2d9474b72d28908a99f2b1bcba9957bfd3536e49455e90bbe5d295038dddfeea06acdcd534a9d125582782b7c3b8d38da5226d8ca284ade3eefc369c79bd6ae371c612a1790f76d1f3acada749cba6bd15f3cff25ad09a3a13743c64a45631e525016d7846071e12a40075c7d67437c5678f9c84940e708a85c1cf7c7efe2f553bc46e5152f291fb754eda8db65f8b41427142d7b8b7ee8e6c2b7d11855feffc0ab5186f79ab96580567767c43abb587f637893ad5599a2f7f8fcf473eae07cac703e2ee2678511fb4fe7eb3b82f3d87db210a98cfb502cf91013dc5d1f90ea1f614838aaea30d90fe1512c3eb7bc148f63ddf98176732171ab85e1f3b3b256313bf8c66c234efbd0b2c9ce053d3249a2bac29a3448688452a2db8fc095dc8b8d2993cc9c7984f1961196290b43eeb81a76cfda1bf598231e6e102e8c51456a78f69ecb8de24fece29fdf75ed74f0004c3eb975634ee4f551b409bd33ac02d08c99558a675f2eee374079a2da03ee96d4ccef826f18c058d0bfa29ed752bbbdcefe5217aaec44cb422577b07036036750a4c063763ed0dd94fc03a8985c608424ac9213f640d1533c86b0a9ee64a2548cfec1723a391fba5bc780a9882921be5974a35c38b51d8fb8091e4179c5dcfcb37bc4ba8aca27fae2c563b724cd9210c76995a4d8e7f736186e1bb247df6c972dfe057e39474f5e45dded123cba25372c130988242260306ef98dadb90f9a1296ab347aa0381571884e9f76291a9cc52c3c787993007c46495642288af2784c1ac808399b43612b62bc933dbf0f37b8b03ffeeaab229f2ba33e131abd4e6ef9ba2dbc60a665c75b6c84e77bf09587dcc5cc5053031753c7b7ac67839f9a14eda2184161af928e8c402ebd88b9eec97415437847fe2cc4d5fd20f86dd86104b2d5c5ef02819459c69ba9d41ab4b93cf66ab65d75270c45148c660d810fc43c1dd62b8d5a3182680ddfbb546d5a614b8862d1e168aa93f5be5b53ab2d35f38154bb773354666b68a9ca51bccc806db4a8d1b54abf2c8bbeb97813cd691d9d08f2f44d326f15e1636868830be276c5d55526f79ff04a04152f103b2a60ec23da900fd6927fd2d48d17905846c60994f3d636fb269429b7e1932a5516ec93ed447a9e52b17eb4b80f04feda8aafa57591862d803ce50214c2e26ca885172ef3dea4506083b7724df61aca0b77535ad597e438f37235ad4210d23402b793e68ce8ad08f78bf4f557b08a6cba72bc747fc61593215363834a1359db687f72b29566cc1fc0b4cfe692af2acc89e0d98c97706f67207860ff8e92090d96a07d98e6b46214e34fd63a0e6d30a12b3298e319bf7114f8b3229dc259ba338d5d795b90a95dda6376e5fc2de9087b1fbf16ee0fb320745491fa2c182415a0260bddee8aaa594225b17d9dbd819638efbfdf20cc881ed97abeb0a033f5694ffec449c417d69a731090e3a81cfcae86760681c7e6358c6eb1d046cc51f5c245fdd1ff16df0b9493c71166a1ff674ae18f2f225296935539c5b127dc8bf3bd1a4ccc2c7896004794397d5b9fbcbfb6d2a730bc7de8d5b840c2f11c537cad01f64800e780971599a39228b7767317023eb67c4cd69d42d4603cbc37937c452e9fa405b5da842169963587b29e1ce5f0e450b8ed71b1b6485306f5815b77c1ec6081850ebc4bf3eed91d6de366c62216664b35743c81538028d558d6b0fe4198a5e2b334fef0e91d50732c3ccd05bd987377e441e2d25109443f9dc0f18a9f8e0581bcc30cdb7f5dc60d077ada9a6ec34ade82c50a380ad8709b75ca9914ea267cc6048726bbf0b46468670762d82316100e1c580e79818a394407fea3fb85a924ee0ad805e97bcf28497b9e2c67a297bd7f231b0b17f7783de0d1a1fe620ccd85494dee09e019fe808080956d95b600b9973e33d236464f4326d67bcef929101406129619b4e9dd58041acc1d194a7f62f4aca477812ac94f89fd834541d7cf482b6e6de03114b79d974c68cab566592582e38b911b46948afcad7da784c914a8711ed501a55d108b9bca4c182905c0e2663243e64f8c26e0be59307f65517c89d61d31975c2f160ec93bcfb9ba42e587c12909760fcd319cbe6240c8df58fca30d43e105050964bb2e87973205827bf5c89929a83439b0e33a43abd3988983cd921aaefc556a9590288db04d63c55cb29c9dedc595812c16e3bbb95fb3c345f44c5360828d75cf7205c25e69aea06935793e265e23efdb7e1279f83cfdb45aff4f371a605ac755126ed978f78853a78d4283f1ca899fb59d3fcecf70dd9c2662da45457f87a422c23acc593046f0e8dece12b0ca91875bf0f2d0ecda48233b69222cdab96a11de77319b0682ba51d04e8776ac23cfc8dbbda3174225a1dd54693ec9842ac7cc98af43eda92bbae9a4e647d7b221d47c694645b5c50fe57a3d117c178dd9fe8cafce335ae309476ce90b01a09f2965dba451931e5be4e294ca67a978286e870c6bf24e687f77c167173d007b27867d8b48b93113f80555d3bd3b57d2cab3fc970bdffeaf9b70e1113601496c8f51db8e98040f8e863b5a9a9fc814b5788cc0e0b1b9fd1e1ae92d1e6c9c63f655869e8997cc03271bf5b448ad7a2477e88241451acde245c65e3445b9c3fbacb9aa18741048221783accabdad96c2864371bce6add5a1cc1ae38645637a082cf8c23748aeb62d109b2cdb0303c44ab40cb1fbc2ca28f45e041089781b0a43993a3bc8a4d7e3220681064da5821c86b451c912ba52c38043b9ac64fca55306a15692678465413ea9c1b6ad817c0ff8a7fbf9db2adb94d1199c6c512392bcc2b0bb326404b4fc3d7a15bab9ebd663545083dd36790969e02f0291cefe0d9afdca240432c16bf1082904fd1a3c46afe5b3258818bbf06555d8dc28d685a828c919cc926826b057962085a2e6d397803bf1e6bc78bc809e862d9731ac280c450b509a89110eab84b6735495fb9e4a34cdce6cb7dc1ade746dd3fea6604574b7cf696c461d7d6c20e7899b1245150e1c6c03c15d8b8a67be97f73144b294b68e05fd43cb817cdedb64c3c602b3a104e224b531dede2e4dbdbf9fe25868026a601c654cc540e857a82f3ce1ac047113309c7ca6f786e822d9b784825b0f12cf80d32d681efde568c321fc0a411458fa8464f2f15668a35d26cad3da1a71e8460a20f609dbda9a0d68479b4f3e50960b403a7882211844b301fc4b7de0d58cf97ab1ded87efc405660a2fcbeb7b43bb10a55e36bf556f5ac6d3aa14c9b7433efb435c357308b491cc203f30e67c04c15d8338a9c2fe</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">è¯¥æ–‡ç« éœ€è¦å¯†ç </span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é›ªäººæ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é›ªäººæ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨è¿·èŒ«ä¸­æˆé•¿ | 2023å¹´åº¦æ€»ç»“</title>
      <link href="/2023/12/31/2023year/"/>
      <url>/2023/12/31/2023year/</url>
      
        <content type="html"><![CDATA[<h1 id="åœ¨è¿·èŒ«ä¸­æˆé•¿-2023å¹´åº¦æ€»ç»“"><a href="#åœ¨è¿·èŒ«ä¸­æˆé•¿-2023å¹´åº¦æ€»ç»“" class="headerlink" title="åœ¨è¿·èŒ«ä¸­æˆé•¿ | 2023å¹´åº¦æ€»ç»“"></a>åœ¨è¿·èŒ«ä¸­æˆé•¿ | 2023å¹´åº¦æ€»ç»“</h1><blockquote><p>â›„ï¼Œhello~~å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é›ªäººï¼Œåˆåˆ°äº†ä¸€å¹´ä¸€åº¦çš„å¹´ç»ˆæ€»ç»“æ—¶é—´ï¼Œé©¬ä¸Šå°±æ˜¯ 2024 å¹´äº†ï¼Œå¼€å§‹æç¬”è®°å½•æˆ‘çš„ 2023 ~</p></blockquote><h2 id="2023å¹´çš„ç›®æ ‡"><a href="#2023å¹´çš„ç›®æ ‡" class="headerlink" title="2023å¹´çš„ç›®æ ‡"></a>2023å¹´çš„ç›®æ ‡</h2><p>å›é¡¾ 2023 å¹´ï¼Œæˆ‘ç¬¬ä¸€æ¬¡ä¸€ä¸ªäººåœ¨å¤–åœ°ä½ï¼Œç¬¬ä¸€æ¬¡å®ä¹ ï¼Œç¬¬ä¸€æ¬¡ä¸€ä¸ªäººæ—…è¡Œï¼Œç¬¬ä¸€æ¬¡å»çœ‹æµ·ã€‚å‘ç”Ÿäº†å¤ªå¤šï¼Œä»¥è‡³äºæˆ‘ä¸çŸ¥é“è¯¥ä»å“ªé‡Œå†™èµ·ã€‚</p><p>é‚£å°±ä» 2023 å¹´çš„èµ·ç‚¹å¼€å§‹å§ï¼Œ2022 çš„æœ€åæˆ‘å‘å¸ƒäº†æˆ‘çš„ç¬¬ä¸€ç¯‡å¹´ç»ˆæ€»ç»“ï¼Œç»™æˆ‘çš„ 2023 å®šä¸‹äº†å‡ ä¸ªå°ç›®æ ‡ï¼ˆå®ç°äº† 50%ï¼‰ã€‚</p><p><strong>2023å¹´æˆ‘è¦</strong>ï¼š</p><ul><li>æ‹¿åˆ°å¤§å‚å®ä¹ offerï¼›æ‹¿åˆ°å›½å®¶çº§å¥–é¡¹ï¼›æ‹¿åˆ°é©¾é©¶è¯ï¼›é€šè¿‡CET6ï¼›ä¸Šçº¿ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ŒæŒç»­è¾“å‡ºé«˜è´¨é‡åšæ–‡ï¼Œæ¯å‘¨è‡³å°‘æ›´ä¸€ç¯‡ï¼›LeetCodeå…¨å‹¤ï¼›ç¯®çƒåœºè½»æ¾è¿‡äººï¼›</li></ul><h3 id="ä¸“ä¸šæŠ€èƒ½"><a href="#ä¸“ä¸šæŠ€èƒ½" class="headerlink" title="ä¸“ä¸šæŠ€èƒ½"></a>ä¸“ä¸šæŠ€èƒ½</h3><ul><li>æ‹¿åˆ°å¤§å‚å®ä¹ offer âœ…</li><li>ä¸Šçº¿ä¸€ä¸ªå¼€æºé¡¹ç›® âœ…</li><li>LeetCodeå…¨å‹¤ âŒ</li></ul><p>2023 å¹´çš„å¼€å§‹æ¯å¤©éƒ½åœ¨åšæŒå­¦ä¹ ï¼Œåˆ·ç®—æ³•é¢˜ï¼Œå‡†å¤‡è‡ªå·±çš„é¡¹ç›®ã€‚å¯’å‡æœŸé—´è¿˜å‚åŠ äº†å­—èŠ‚è·³åŠ¨çš„é’è®­è¥ï¼Œæ‹¿åˆ°äº†å¤§é¡¹ç›®ç¬¬å…«ï¼ˆè¿˜æ˜¯ä¸é”™çš„ğŸ¤­ï¼‰ã€‚åšæŒåˆ°äº†æ‰¾åˆ°å®ä¹ åï¼Œå› ä¸ºæ¯å¤©éƒ½è¿™æ ·çœŸçš„å¥½ç´¯ğŸ˜‚ï¼Œç„¶åå°±å¼€å§‹é—´æ¥æ€§çš„åšæŒï¼Œå†åˆ°åæ¥ç›´æ¥æ‘†çƒ‚ã€‚</p><p>å½’åŠŸäºæˆ‘å‰å‡ ä¸ªæœˆçš„åšæŒï¼Œåˆ°åæ¥æš‘å‡çš„æ—¶å€™æ‹¿åˆ°äº†äº¬ä¸œçš„å®ä¹  offerï¼Œå†åˆ°æœ€åå¹´æœ«ä¸´è¿‘å¯’å‡æ‹¿åˆ°äº†å­—èŠ‚è·³åŠ¨çš„å®ä¹  offerï¼Œç»™ 2023 å¹´ç”»ä¸Šäº†ä¸€ä¸ªåœ†æ»¡çš„å¥å·ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/leetcode.png" alt="leetcode"></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/github.png" alt="github"></p><p>è®©æˆ‘æˆé•¿æœ€å¤§çš„è¿˜æ˜¯æš‘å‡çš„æ—¶å€™åœ¨äº¬ä¸œå®ä¹ ï¼Œåœ¨åŒ—äº¬é‡åˆ°äº†é©¬é“ƒè–¯å’Œå°å·å·ï¼ˆä¸¤ä¸ªä¹Ÿåœ¨äº¬ä¸œå®ä¹ çš„å­¦é•¿ï¼‰ï¼Œæœ¬æ¥è¿˜åœ¨ä¸ºåœ¨åŒ—äº¬ä¸€ä¸ªäººç§Ÿæˆ¿å‘æ„ï¼Œä½†æ˜¯åˆšå¥½é©¬é“ƒè–¯å’Œå·å·ä¹Ÿåœ¨äº¬ä¸œå®ä¹ ï¼Œå¹¶ä¸”ä»–ä¿©æ˜¯æ•´ç§Ÿçš„ä¸€èµ·ä½ï¼å¹¶ä¸”åˆšå¥½ç©ºäº†ä¸€ä¸ªå§å®¤ï¼ï¼æˆ‘å°±é—®äº†ä¸‹èƒ½ä¸èƒ½ä¸€èµ·ï¼Œç„¶åå°±ä¸€èµ·åˆç§Ÿäº†ğŸ˜­ï¼Œåœ¨ç”Ÿæ´»ä¸Šå’Œå·¥ä½œä¸Šéƒ½å¸®åŠ©äº†æˆ‘å¾ˆå¤šï¼Œå¤©æ¹–å¼€å±€ï¼ï¼ï¼</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/chat.jpg" alt="chat"></p><p>é‚£ä¸ªç©ºå§å®¤æ²¡æœ‰åºŠï¼Œåˆšå¼€å§‹ç¡äº†ä¸¤å¤©æ²™å‘ï¼ˆå¤å¤©æ²™å‘æ˜¯çœŸçš„çƒ­ğŸ”¥ï¼‰ï¼Œåæ¥ä¹°äº†ä¸€ä¸ªæœ¨æ¿åºŠï¼Œæˆ‘ã€é©¬é“ƒè–¯å’Œå·å·åŠªåŠ› 3hour+ åçš„æ°ä½œï¼ŒçœŸæ˜¯æ»¡æ»¡çš„å›å¿†å•Šã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/bed.jpg" alt="f5e3b75308f810ebba7bfd09f605939"></p><p>ç°åœ¨å›æƒ³èµ·æ¥ï¼Œè¿™çœŸçš„æ˜¯æˆ‘ 2023 å¹´çš„å°å¹¸è¿ï¼Œæ„Ÿè°¢é©¬é“ƒè–¯å’Œå·å·é™ªæˆ‘åº¦è¿‡äº†ä¸€ä¸ªéš¾å¿˜çš„å¤å¤©ï¼ï¼ï¼</p><p>è¯´å›å®ä¹ ï¼Œåœ¨äº¬ä¸œå®ä¹ è®©æˆ‘æˆé•¿äº†å¾ˆå¤šã€‚åŒäº‹ä»¬æ¯ä¸ªäººéƒ½è¶…çº§å¥½ï¼Œå¸¦æˆ‘ç†Ÿæ‚‰äº†å¾ˆå¤šå·¥ä½œä¸Šçš„æµç¨‹ï¼Œå­¦åˆ°äº†å¾ˆå¤šä¼ä¸šçº§çš„å¼€å‘æŠ€å·§ï¼Œä¹Ÿåˆ‡åˆ‡å®å®çš„æ„Ÿå—åˆ°äº†æœªæ¥çš„å·¥ä½œç”Ÿæ´»ã€‚å®ä¹ ç»“æŸåæœ€å¤§çš„æ„Ÿå—è¿˜æœ‰â€œç´¯â€ï¼Œç›¸æ¯”åœ¨å­¦æ ¡ä¸Šè¯¾ï¼Œä¸Šç­çœŸçš„æ˜¯ç›´æ¥ç»™æˆ‘ä¸Šå¼ºåº¦ï¼Œè®©æˆ‘æ›´åŠ çæƒœåœ¨å­¦æ ¡çš„æ—¶å…‰ã€‚</p><h3 id="è¯ä¹¦"><a href="#è¯ä¹¦" class="headerlink" title="è¯ä¹¦"></a>è¯ä¹¦</h3><ul><li>æ‹¿åˆ°å›½å®¶çº§å¥–é¡¹ âœ…</li><li>æ‹¿åˆ°é©¾é©¶è¯ âœ…</li><li>é€šè¿‡CET6 â–</li></ul><p>2023 å¹´å¯’å‡çš„æ—¶å€™æˆåŠŸæ‹¿åˆ°äº†é©¾é©¶è¯ï¼Œå…¨éƒ¨ä¸€æ¬¡æ€§é€šè¿‡è¿˜æ˜¯æ¯”è¾ƒé¡ºåˆ©çš„ğŸ˜€ã€‚</p><p>ç„¶ååœ¨å­¦ç§‘ç«èµ›ä¸Šï¼Œå¤§äºŒä¸‹çš„æ—¶å€™è¿˜æ˜¯å¾ˆå¸Œæœ›èƒ½å¤Ÿæ‹¿åˆ°ä¸€ä¸ªå¥½çš„æ¯”èµ›å¥–é¡¹åæ¬¡ï¼Œæ‰€ä»¥æœ‰äº†â€œæ‹¿åˆ°å›½å®¶çº§å¥–é¡¹â€è¿™ä¸ªç›®æ ‡ï¼Œåˆšå¼€å§‹æ˜¯å¸Œæœ›è‡ªå·±èƒ½å¤Ÿåœ¨ä¸€äº›â€œäº’è”ç½‘+â€ã€â€œæŒ‘æˆ˜æ¯â€ä¹‹ç±»çš„æ¯”èµ›å¾—å¥–ï¼Œä½†æ˜¯æ…¢æ…¢å‘ç°è¿™äº›æ¯”èµ›å’Œæˆ‘æƒ³çš„â€œä¸å¤ªä¸€æ ·â€ï¼Œå¹¶ä¸èƒ½ç»™æˆ‘å¸¦æ¥æˆ‘æœŸæœ›çš„æŠ€æœ¯ä¸Šçš„æå‡ï¼Œè€Œä¸”ä¼šå ç”¨æˆ‘å¤§é‡çš„ä¸ªäººæ—¶é—´ï¼Œå°±æ…¢æ…¢çš„ä¸å¤ªåœ¨æ„è¿™äº›äº†ã€‚åæ¥æƒ³ç€è¦å®Œæˆæˆ‘çš„ 2023 ç›®æ ‡ï¼Œåœ¨6æœˆä»½æŠ¥åäº†è“æ¡¥æ¯çš„ Web æ–¹å‘ï¼Œæ‹¿åˆ°äº†ä¸€ä¸ªå›½å®¶çº§äºŒç­‰å¥–ï¼Œä¹Ÿæ˜¯å®Œæˆäº†æ‹¿åˆ°å›½å®¶çº§å¥–é¡¹çš„è¿™ä¸ªç›®æ ‡ã€‚</p><p>è‹±è¯­å…­çº§çš„è¯ğŸ˜‚ï¼Œè¿™ä¸ªç¡®å®æ²¡æœ‰è¾¾åˆ°æˆ‘çš„é¢„æœŸï¼Œæ²¡æœ‰ç»™è‹±è¯­æŠ•å…¥æ—¶é—´ï¼Œå°±æ˜¯å“ªå¤©æƒ³èµ·æ¥äº†å»èƒŒä¸€èƒŒå•è¯ï¼Œç¬¬ä¸€æ¬¡æ²¡æœ‰é€šè¿‡ï¼Œç¬¬äºŒæ¬¡ç»“æœè¿˜æ²¡å‡ºã€‚å¯¹è‡ªå·±è‹±è¯­çš„è¦æ±‚åœ¨ä¸æ–­é™ä½ğŸ˜‚ã€‚</p><h3 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h3><ul><li>æŒç»­è¾“å‡ºé«˜è´¨é‡åšæ–‡ï¼Œæ¯å‘¨è‡³å°‘æ›´ä¸€ç¯‡ âŒ</li></ul><p>è¿™ä¸ªï¼Œåšå®¢çš„è¯ï¼Œç¡®å®æœ‰ç‚¹å·æ‡’äº†ğŸ˜‹ï¼Œå®šçš„ç›®æ ‡æ˜¯æ¯æ›´å‘¨ä¸€ç¯‡ï¼Œç›®å‰åªå®ç°äº†æœˆæ›´ğŸ˜‚ã€‚å†™ä¸œè¥¿ç¡®å®æ¯”è¾ƒè€—æ—¶ï¼Œæˆ‘å¯¹ã€Šä»é›¶åˆ°ä¸€æ­å»ºè„šæ‰‹æ¶ã€‹è¿™ä¸ªç³»åˆ—çš„æ–‡ç« è¿˜æ˜¯æ¯”è¾ƒæ»¡æ„çš„ï¼Œè™½ç„¶é˜…è¯»é‡ä¸é«˜ï¼Œä½†ç¡®å®èƒ½å¸®åˆ°æœ‰éœ€è¦çš„äººã€‚</p><h3 id="è¿åŠ¨"><a href="#è¿åŠ¨" class="headerlink" title="è¿åŠ¨"></a>è¿åŠ¨</h3><ul><li>ç¯®çƒåœºè½»æ¾è¿‡äºº âŒ</li></ul><p>å˜¶ ~ï¼Œè¿™ä¸ªå¾ˆå°´å°¬ï¼Œå¤§äºŒä¸‹çš„æ—¶å€™è¿˜æ˜¯éå¸¸çƒ­è¡·äºæ‰“ç¯®çƒçš„ï¼Œå› ä¸ºå®¤å‹æŠ¥ç¯®çƒè¯¾çš„æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥ç»å¸¸è¯¾ä½™æ—¶é—´ä¸€èµ·æ‰“ç¯®çƒï¼Œä½†æ˜¯åæ¥ç»“è¯¾äº†ï¼Œå°±æ…¢æ…¢ç©çš„å°‘äº†ï¼Œæ‰€ä»¥ç¯®çƒæŠ€å·§çš„æå‡åœ¨ 2023 å¹´å¯ä»¥è¯´æ˜¯å¾®ä¹å…¶å¾®ğŸ˜‚ã€‚</p><h2 id="è¿·èŒ«"><a href="#è¿·èŒ«" class="headerlink" title="è¿·èŒ«"></a>è¿·èŒ«</h2><p>ä»Šå¹´æ€è€ƒäººç”Ÿçš„æ—¶é—´å¤šäº†å¾ˆå¤šï¼Œå‘ç°è‡ªå·±ä¸¢å¤±äº†è‡ªå·±æœ€çº¯ç²¹çš„å¿«ä¹ï¼Œä¸çŸ¥é“è‡ªå·±åˆ°åº•æƒ³è¦ä»€ä¹ˆï¼Œç»å¸¸åœ¨æ™šä¸Šç¡è§‰å‰EMOï¼Œä¸€ç›´åœ¨å†…å¿ƒæ·±å¤„ä¸æ–­è¿½é—®è‡ªå·±ï¼Œè¿™æ˜¯ä½ æƒ³è¦çš„ç”Ÿæ´»ä¹ˆï¼Ÿä¸€åº¦æ„Ÿåˆ°çƒ¦èºå’Œå´©æºƒï¼Œè®©æˆ‘æ„Ÿè§¦æœ€æ·±çš„æ˜¯ä¸€å¤©æ™šä¸Šåˆ·åˆ°äº†ä¸€ä¸ªè§†é¢‘ï¼Œæ˜¯ç”¨çš„ä¸€æ¡çŸ¥ä¹ä¸Šâ€œå¤è™«æ„éš¾å¹³â€çš„å›ç­”ä½œæ–‡æ¡ˆï¼š<a href="https://www.zhihu.com/question/266929946"> äººä¸€è¾ˆå­ï¼Œæœ€é‡è¦çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</a>ï¼Œæˆ‘çœ‹åˆ°æœ€åç›´æ¥æ³ªå´©ã€‚è¶Šæ˜¯æ·±å…¥æ€è€ƒè¶Šæ˜¯å‘ç°è¿™ä¸ªä¸–ç•Œå……æ»¡å……æ»¡çŸ›ç›¾ä¸æ··ä¹±ï¼Œè¶Šæ˜¯æ·±å…¥æ€è€ƒå°±è¶Šæ˜¯æƒ³ä¸æ˜ç™½ã€‚æœ€åæˆ‘æƒ³é€šäº†ä¸€ä¸ªé“ç†ï¼šæœ‰äº›é“ç†å°±æ˜¯æƒ³ä¸é€šçš„ã€‚ä¸å¦‚å»ç å¤´æ•´ç‚¹è–¯æ¡ğŸŸï¼Œæƒ³é‚£ä¹ˆå¤šå¹²å˜›ï¼æˆ–è®¸æ¯ä¸ªäººåœ¨è¿™ä¸ªå¹´é¾„æ®µéƒ½ä¼šæœ‰è¿™æ ·çš„å›°æƒ‘å§ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œè¿˜æ˜¯å¸Œæœ›èƒ½åœ¨æœªæ¥çš„æ—…é€”ä¸­æ‰¾åˆ°å±äºè‡ªå·±çš„ç­”æ¡ˆã€‚</p><h2 id="æŠ‰æ‹©"><a href="#æŠ‰æ‹©" class="headerlink" title="æŠ‰æ‹©"></a>æŠ‰æ‹©</h2><p>ä»Šå¹´åšå‡ºæ¯”è¾ƒé‡è¦çš„å†³å®šæ˜¯åœ¨è€ƒç ”å’Œå°±ä¸šé—´é€‰æ‹©äº†å°±ä¸šï¼Œåœ¨è¿™ä¸ªäº‹æƒ…ä¸Šçº ç»“äº†å¥½ä¹…ï¼Œä¸æƒ³è€ƒç ”çš„åŸå› ä¸»è¦æœ‰ä¸‰ï¼š</p><ul><li>ä¸æƒ³å†å­¦æˆ‘ä¸å–œæ¬¢å­¦çš„äº‹æƒ…äº†ï¼Œç»§ç»­å­¦ä¹ å…¶ä»–çš„ä¸œè¥¿è‡ªå·±ä¸ä¸€å®šèƒ½åšæŒä¸‹æ¥ã€‚</li><li>å¯¹è‡ªå·±è€ƒç ”æ²¡æœ‰ä¿¡å¿ƒã€‚</li><li>å¯¹å°±ä¸šçš„è‡ªä¿¡ï¼Œè§‰å¾—è‡ªå·±å®åŠ›è¿˜å¯ä»¥ï¼Œè®¤ä¸ºè‡ªå·±å¯ä»¥åœ¨ç§‹æ‹›çš„æ—¶å€™æ‹¿ä¸‹ä¸é”™çš„ offerã€‚</li></ul><p>ä¸»è¦å°±æ˜¯è¿™ä¸‰ç‚¹åŸå› ï¼Œåœ¨è¿™ä¸ªäº‹æƒ…ä¸Šè·Ÿçˆ¸å¦ˆèŠäº†å¥½ä¹…ï¼Œè¿˜æ˜¯æƒ³è‡ªå·±é€‰ä¸€æ¬¡ï¼</p><h2 id="æ—…è¡Œ"><a href="#æ—…è¡Œ" class="headerlink" title="æ—…è¡Œ"></a>æ—…è¡Œ</h2><p>ä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œæœ‰äº†æƒ³å»çœ‹æµ·çš„æƒ³æ³•ï¼Œä¹Ÿè®¸å°±å’Œå—æ–¹äººæƒ³çœ‹é›ªä¸€æ ·ï¼Œä½œä¸ºä¸€ä¸ªå†…é™†äººï¼Œä»æ¥æ²¡è§åˆ°è¿‡æµ·çš„æˆ‘ï¼Œå°±æƒ³ç€æœ‰æ—¶é—´ä¸€å®šè¦å»çœ‹ä¸€æ¬¡æµ·ï¼åœ¨å›½åº†å‡æœŸä¸€ä¸ªäººè¸ä¸Šäº†å‰å¾€é’å²›çœ‹æµ·çš„æ—…é€”ï¼Œåˆšåˆ°çš„æ—¶å€™æ˜¯ä¸­åˆï¼Œè€Œä¸”æ­£å€¼å›½åº†å‡æœŸï¼Œæµ·è¾¹çš„äººæ¯”è¾ƒå¤šï¼Œå¯¼è‡´æˆ‘ç¬¬ä¸€çœ¼çœ‹æµ·å†’å‡ºçš„æƒ³æ³•æ˜¯ï¼šå¥½æ™®é€šã€‚æ²¡èƒ½ç»™æˆ‘é‚£ç§å¤§æµ·çš„éœ‡æ’¼ğŸ˜‚ï¼Œåˆ°æ™šäº›äººå°‘ä¸€äº›çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†æµ·è¾¹çš„æ—¥è½ï¼Œæ‰è§åˆ°äº†çœŸæ­£çš„å¤§æµ·ï¼Œå¬ç€æµ·çš„å£°éŸ³ï¼Œæ„Ÿè§‰æ•´ä¸ªäººéƒ½å¹³é™äº†ä¸‹æ¥ã€‚æ™šä¸Šåœ¨æµ·è¾¹å¾…åˆ°äº†å¾ˆæ™šæ‰å›å»ï¼Œæ„Ÿè§‰ä¸æ˜¯å¾ˆè¿‡ç˜¾ï¼Œç„¶åç¬¬äºŒå¤©èµ·äº†ä¸ªå¤§æ—©å»æµ·è¾¹çœ‹æ—¥å‡ºï¼Œç»“æœå¤©æ°”ä¸å¥½ï¼Œéƒ½è¢«äº‘å±‚é®ä½äº†ğŸ˜…ï¼Œæœ‰ç‚¹å¯æƒœã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/sea.jpg" alt="sea"></p><p>æ¯”è¾ƒå¤§çš„æ§½ç‚¹æ˜¯æ—…æ¸¸æ—ºå­£çš„æˆ¿ä»·ï¼ŒçœŸçš„æ˜¯ç»™æˆ‘ä¸€æ•´ä¸ªéœ‡æƒŠï¼Œæˆ‘ä½çš„åœ°æ–¹çœŸçš„æ˜¯åˆæ½®åˆè´µï¼Œæ²¡ä½è¿‡è¿™ä¹ˆæ½®çš„é…’åº—ğŸ˜‚ï¼Œä¸¤å¤©éƒ½æ²¡ç¡å¥½è§‰ã€‚æ—ºå­£æ—…æ¸¸çœŸçš„æ˜¯éš¾ç»·ï¼Œè¿˜å¾—æ˜¯åœ¨äººå°‘çš„æ—¶å€™æ‰èƒ½ä½“ä¼šåˆ°æ—…è¡Œçš„ä¹è¶£ã€‚è™½ç„¶æœ‰äº›å°æ’æ›²ï¼Œä½†æ˜¯èƒ½çœ‹åˆ°æµ·æˆ‘è¿˜æ˜¯å¾ˆæ»¡è¶³çš„ï¼</p><p>åä¸€æœˆä»½çš„æ—¶å€™è¿˜å’Œèˆå‹ä¸€èµ·å»çˆ¬å±±äº†ï¼Œè¿™ä¸ªäº‹æƒ…çœŸçš„ç‰¹åˆ«ç¥å¥‡ï¼Œåˆšå¼€å§‹æ˜¯æŸä¸ªäººæäº†ä¸€å˜´è¯´ä¸€èµ·å»çˆ¬å±±çœ‹æ—¥å‡ºå§ã€‚æˆ‘ä»¥ä¸ºå°±æ˜¯å£å—¨ä¸€ä¸‹ï¼Œä½†æ˜¯å¾ˆå¥‡å¦™çš„å°±è¾¾æˆäº†ä¸€è‡´ï¼Œç›´æ¥å‡ºå‘ï¼å¤§æ™šä¸Šé›¶ä¸‹å‡ åº¦ï¼Œçˆ¬äº†å¤šä¹…å·²ç»è®°ä¸æ¸…äº†ï¼Œè™½ç„¶å¾ˆç´¯ï¼Œä½†æ˜¯ä¸€èµ·çœ‹åˆ°äº†æ—¥å‡ºï¼çœŸçš„å¥½æ£’ï¼ï¼éš¾å¿˜çš„å›å¿†ï¼ï¼ï¼</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/mount.jpg" alt="mount"></p><h2 id="æ¸¸æˆ"><a href="#æ¸¸æˆ" class="headerlink" title="æ¸¸æˆ"></a>æ¸¸æˆ</h2><p>ä»Šå¹´é™ªä¼´æˆ‘æœ€ä¹…çš„æ¸¸æˆè¿˜æ˜¯ã€Šè‹±é›„è”ç›Ÿã€‹ï¼Œç»å¸¸å’Œèˆå‹ä¸€èµ·å¤§ä¹±æ–—ï¼Œä¸‹æ£‹ï¼ˆé‡‘é“²é“²ï¼‰ï¼Œæš‘å‡çš„æ—¶å€™ä¹Ÿè·Ÿé©¬é“ƒè–¯å’Œå·å·ä¸€èµ·æ‰“æ’ä½ï¼Œå“ˆå“ˆå“ˆï¼Œæ²¡äº‹çš„æ—¶å€™æ•´ä¸¤æŠŠï¼Œå¿«ä¹çš„æºæ³‰ğŸ˜€ï¼ˆä»Šå¹´è¿˜è§è¯äº† Faker çš„å››å† å†›ğŸ˜­ï¼‰ã€‚</p><p>ç§‹å¤©çš„æ—¶å€™è¿˜å…¥å‘äº†æ–°æ¸¸æˆã€Šæ— ç•å¥‘çº¦ã€‹ï¼Œemmmï¼Œå¿˜äº†ä¸ºå•¥ä¼šçªç„¶ç©è¿™ä¸ªæ¸¸æˆäº†ï¼Œ11æœˆ12æœˆå°±ä¸æ€ä¹ˆç©è”ç›Ÿæˆ–è€…ä¸‹æ£‹äº†ï¼Œä¸€ç›´åœ¨æ‰“ç“¦ï¼Œæœ€è¿‘ç©è¿˜æ˜¯ 12æœˆ30 å·ä¸€ç‚¹å¤šï¼Œâ€œèµ¢ä¸€æŠŠå°±ç¡â€ğŸ˜‚ï¼Œç¬‘æ­»ï¼Œæ ¹æœ¬èµ¢ä¸äº†ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/game.png" alt="game"></p><h2 id="APPå¹´åº¦æŠ¥å‘Š"><a href="#APPå¹´åº¦æŠ¥å‘Š" class="headerlink" title="APPå¹´åº¦æŠ¥å‘Š"></a>APPå¹´åº¦æŠ¥å‘Š</h2><h3 id="BiliBili"><a href="#BiliBili" class="headerlink" title="BiliBili"></a>BiliBili</h3><ul><li>Bç«™ä¾æ—§æ˜¯å…¨å‹¤ğŸ˜‚ï¼Œè¿˜æ˜¯æ¸¸æˆåŒºè§†é¢‘çœ‹å¾—å¤šã€‚</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/bilibili.jpg" alt="bilibili"></p><h3 id="ç½‘æ˜“äº‘"><a href="#ç½‘æ˜“äº‘" class="headerlink" title="ç½‘æ˜“äº‘"></a>ç½‘æ˜“äº‘</h3><ul><li>ä»Šå¹´å¬æ­Œç¡®å®å°‘äº†ï¼Œå’±ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ğŸ˜‚ã€‚</li><li>è¿˜æ˜¯å¬åæ™¨å®‡çš„æ­Œæ¯”è¾ƒå¤šï¼Œè¿˜è®°å¾—é«˜äºŒçš„æ—¶å€™æ— æ„é—´çœ‹åˆ°ç”µè§†ä¸Šåœ¨æ’­ã€Šæ­Œæ‰‹å½“æ‰“ä¹‹å¹´ã€‹ï¼Œåˆšå¥½åæ™¨å®‡åœ¨å”±ã€Šå¥½æƒ³çˆ±è¿™ä¸ªä¸–ç•Œå•Šã€‹ï¼Œç›´æ¥è®©æˆ‘çˆ±ä¸Šäº†éŸ³ä¹ï¼Œæ»¡æ»¡çš„å›å¿† ~</li><li>10æœˆ1æ—¥å»çœ‹æµ·å•¦ï¼Œä¸€ç›´åœ¨å¾ªç¯ã€Šæƒ³å»æµ·è¾¹ã€‹ï¼Œæ°›å›´æ„Ÿæ»¡æ»¡ğŸ˜€ã€‚</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/wangyicloud.jpg" alt="wangyiyun"></p><h3 id="QQ"><a href="#QQ" class="headerlink" title="QQ"></a>QQ</h3><ul><li>ä»Šå¹´ç¤¾äº¤å˜å°‘äº†ï¼Œå»å¹´è¿˜æ˜¯ä¸»åŠ¨å‹äººæ ¼ï¼Œä»Šå¹´å°±æˆâ€œiäººâ€äº†ã€‚</li><li>ä¸€å¹´å°±åªå‘äº†ä¸€æ¡è¯´è¯´ï¼Œå°±æ˜¯å»å¹´çš„å¹´ç»ˆæ€»ç»“ğŸ˜‚ã€‚</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/qq.jpg" alt="qq"></p><h2 id="2024-Flag"><a href="#2024-Flag" class="headerlink" title="2024 Flag"></a>2024 Flag</h2><p>2024 ä¹Ÿè¦ç»§ç»­åŠ æ²¹ï¼Œå†æ¥å‡ ä¸ªå°ç›®æ ‡ï¼</p><p><strong>2024å¹´æˆ‘è¦</strong>ï¼š</p><ul><li>æ‹¿åˆ°å¿ƒä»ªçš„ç§‹æ‹› offer</li><li>ä¸Šçº¿ã€Šé›ªäººFEã€‹ç½‘ç«™ï¼Œæ­å»ºæˆ‘çš„å‰ç«¯å­¦ä¹ çŸ¥è¯†åº“</li><li>é‡æ‹¾é’¢ç´ï¼Œå­¦å‡ ä¸ªæ–°æ›²å­</li><li>å¼€å¿ƒï¼Œå¹¸ç¦çš„åº¦è¿‡æ¯ä¸€å¤©</li></ul><p>å“ˆå“ˆå“ˆï¼Œç»™è‡ªå·±çš„å‹åŠ›å°‘ä¸€ç‚¹ï¼Œä¸æƒ³æœ‰åƒå»å¹´é‚£æ ·æ‰“å¡æ€§çš„ç›®æ ‡äº†ã€‚</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>2023 å¹´å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå……å®ä¸”æœ‰æŒ‘æˆ˜çš„ä¸€å¹´ã€‚é¢å¯¹äº†è®¸å¤šæ–°çš„ç»å†å’Œæœºé‡ï¼Œä¹Ÿé‡åˆ°äº†ä¸€äº›å›°æƒ‘å’ŒæŒ«æŠ˜ã€‚ä½†æ­£æ˜¯é€šè¿‡è¿™äº›ç»å†ï¼Œè®©æˆ‘åœ¨è¿·èŒ«ä¸­æˆé•¿ï¼Œä¸æ–­æ¢ç´¢å’Œå‘ç°è‡ªå·±çš„æ½œåŠ›ã€‚</p><p>å“ˆå“ˆå“ˆï¼Œæ„Ÿè°¢èƒ½è¯»åˆ°è¿™é‡Œçš„æ¯ä¸€ä¸ªäººï¼Œå¬æˆ‘å•°å—¦äº†åŠå¤©ã€‚2023 å¹´å°±è¦è¿‡å»å•¦ï¼Œå¸Œæœ›ä½ åœ¨æ–°å¹´çš„æ¯ä¸€å¤©éƒ½èƒ½å¤©å¤©å¼€å¿ƒğŸ˜Šã€‚</p><p>ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼æ–°çš„ä¸€å¹´ä¹Ÿè¦ç»§ç»­åŠ æ²¹ï¼</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/2023YEAR/newyear.webp" alt="newyear"></p>]]></content>
      
      
      <categories>
          
          <category> å¹´åº¦æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´åº¦æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</title>
      <link href="/2023/11/13/sv3-template/5-commandLineCli/"/>
      <url>/2023/11/13/sv3-template/5-commandLineCli/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·"><a href="#ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·" class="headerlink" title="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·"></a>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</h1><blockquote><p>Helloå¤§å®¶å¥½æˆ‘æ˜¯â›„ï¼Œä¹‹å‰æˆ‘ä»¬å·²ç»æˆåŠŸæ­å»ºäº†ä¸€å¥—Vue3çš„å¿«é€Ÿå¼€å‘æ¨¡æ¿ï¼Œæé«˜æˆ‘ä»¬æ­å»ºæ–°é¡¹ç›®çš„æ•ˆç‡ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çš„æ¨¡æ¿é€æ¸å¢å¤šï¼Œå¦‚æœä¾ç„¶ä½¿ç”¨<code>git clone</code>çš„æ–¹å¼å»ä¸‹è½½æ¨¡æ¿è¾ƒä¸ºç¹çã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå·±å»æ­å»ºä¸€ä¸ªå‘½ä»¤è¡Œäº¤äº’å¼çš„å·¥å…·åŒ…å»ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„æ¨¡æ¿ã€‚</p><ul><li><strong>GitHub</strong>ï¼š<ul><li>Vue3å¼€å‘æ¨¡æ¿ï¼š<a href="https://github.com/LonelySnowman/sv3-template">LonelySnowman&#x2F;sv3-template</a></li><li>è‡ªå®šä¹‰cliå·¥å…·åŒ…ï¼š<a href="https://github.com/LonelySnowman/arceus-cli">LonelySnowman&#x2F;arceus-cli</a></li></ul></li><li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://sv3-docs.snowhouse.space/">SV3-Family | Vue3</a></li></ul></blockquote><h2 id="åŸºç¡€ç»“æ„"><a href="#åŸºç¡€ç»“æ„" class="headerlink" title="åŸºç¡€ç»“æ„"></a>åŸºç¡€ç»“æ„</h2><ul><li>æˆ‘ä»¬è¿™æ¬¡çš„ç›®æ ‡å°±æ˜¯æ­å»ºä¸€ä¸ªç±»ä¼¼äºvue-cliï¼Œcreate-react-appç­‰cliå·¥å…·ç±»ä¼¼çš„å·¥å…·åŒ…ã€‚è¦å®ç°çš„æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œäº¤äº’çš„æ•ˆæœå»ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„Vueé¡¹ç›®æ¨¡æ¿ã€‚</li><li>é¦–å…ˆæŠŠé¡¹ç›®æ–‡ä»¶ç»“æ„åˆ›å»ºä¸€ä¸‹ï¼Œä¸€æ­¥æ­¥æ•™å¤§å®¶å®ç°ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">arceus-cli/</span><br><span class="line">|- bin/# node å‘½ä»¤é…ç½®</span><br><span class="line">|- src/ # é¡¹ç›®èµ„æº</span><br><span class="line">|- command/  # å‘½ä»¤é€»è¾‘</span><br><span class="line">|- utils/# å…¬å…±æ–¹æ³•</span><br><span class="line">|- constants.ts  # å­˜æ”¾å…¬å…±å˜é‡</span><br><span class="line">         |- types.ts  # ç±»å‹æ–‡ä»¶</span><br><span class="line">|- index.ts  # å‘½ä»¤å…¥å£æ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="ç”¨åˆ°çš„ä¾èµ–"><a href="#ç”¨åˆ°çš„ä¾èµ–" class="headerlink" title="ç”¨åˆ°çš„ä¾èµ–"></a>ç”¨åˆ°çš„ä¾èµ–</h3><blockquote><p>å»ºè®®å¤§å®¶å¯ä»¥é¢„å…ˆå»äº†è§£ä¸‹è¿™äº›ä¾èµ–çš„ç”¨é€”å’Œä¸€äº›åŸºç¡€çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>Tipï¼šå¤§å®¶æ³¨æ„<code>chalk</code>å’Œ<code>log-symbols</code>éƒ½è¦å®‰è£…4ç‰ˆæœ¬ï¼Œå› ä¸ºé«˜ç‰ˆæœ¬å·²ç»ä¸æ”¯æŒ<code>commonjs</code>ï¼Œä½†æ˜¯æˆ‘ä»¬æœ€åè¾“å‡ºçš„æ˜¯<code>commonjs</code>æ¨¡å—ã€‚</p></blockquote><ul><li>å‘½ä»¤è¡Œäº¤äº’<ul><li>commanderï¼šè§£æå‘½ä»¤è¡ŒæŒ‡ä»¤</li><li>oraï¼šç»ˆç«¯åŠ è½½åŠ¨ç”»</li><li>progress-estimatorï¼šç»ˆç«¯åŠ è½½æ¡åŠ¨ç”»</li><li>log-symbolsï¼šç»ˆç«¯è¾“å‡ºç¬¦å·</li><li>chalkï¼šç»ˆç«¯å­—ä½“ç¾åŒ–</li><li>@inquirer&#x2F;promptsï¼šç»ˆç«¯è¾“å…¥äº¤äº’</li></ul></li><li>æ‰“åŒ…å·¥å…·<ul><li>rollupï¼ˆæ‰“åŒ…å·¥å…·æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œwebpackï¼Œviteï¼Œrollupï¼Œtsupâ€¦ï¼‰<ul><li>è¿™é‡Œé€‰ç”¨ rollup æ˜¯å› ä¸ºå®ƒç›¸å¯¹æ›´é€‚åˆ npm åŒ…çš„æ‰“åŒ…ï¼Œå¹¶ä¸”ä¹‹å‰æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œå°è¯•ä¸€ä¸‹ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥é€‰ç”¨å…¶ä»–æ‰“åŒ…å·¥å…·</li></ul></li><li>@rollup&#x2F;plugin-node-resolveï¼šæ”¯æŒrollupæ‰“åŒ…node.jsæ¨¡å—</li><li>@rollup&#x2F;plugin-commonjsï¼šæ”¯æŒrollupæ‰“åŒ…commonjsæ¨¡å—</li><li>@rollup&#x2F;plugin-jsonï¼šæ”¯æŒrollupæ‰“åŒ…jsonæ–‡ä»¶</li><li>rollup-plugin-typescript2ï¼šæ”¯æŒrollupæ‰“åŒ…tsæ–‡ä»¶</li><li>@rollup&#x2F;plugin-terserï¼šå‹ç¼©æ‰“åŒ…ä»£ç </li><li>rollup-plugin-node-externalsï¼šä½¿rollupè‡ªåŠ¨è¯†åˆ«å¤–éƒ¨ä¾èµ–</li></ul></li></ul><h3 id="é…ç½®æ‰“åŒ…å‘½ä»¤"><a href="#é…ç½®æ‰“åŒ…å‘½ä»¤" class="headerlink" title="é…ç½®æ‰“åŒ…å‘½ä»¤"></a>é…ç½®æ‰“åŒ…å‘½ä»¤</h3><ul><li>æˆ‘ä»¬å…ˆè§£å†³æ‰“åŒ…çš„é—®é¢˜ï¼Œå®‰è£…å¥½éœ€è¦çš„ä¾èµ–ï¼Œç„¶åæŒ‰ç…§ä¸‹é¢çš„é…ç½®æ–‡ä»¶å†…å®¹ï¼Œæ–°å»ºä¸€ä¸ª<code>rollup.config.js</code>ã€‚</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D rollup @rollup/plugin-node-resolve @rollup/plugin-commonjs @rollup/plugin-json rollup-plugin-typescript2 @rollup/plugin-terser rollup-plugin-node-externals</span><br></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;rollup&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> nodeResolve <span class="keyword">from</span> <span class="string">&#x27;@rollup/plugin-node-resolve&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> commonjs <span class="keyword">from</span> <span class="string">&#x27;@rollup/plugin-commonjs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> externals <span class="keyword">from</span> <span class="string">&quot;rollup-plugin-node-externals&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> json <span class="keyword">from</span> <span class="string">&quot;@rollup/plugin-json&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> terser <span class="keyword">from</span> <span class="string">&quot;@rollup/plugin-terser&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> typescript <span class="keyword">from</span> <span class="string">&#x27;rollup-plugin-typescript2&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>([</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">input</span>: &#123;</span><br><span class="line">            <span class="attr">index</span>: <span class="string">&#x27;src/index.ts&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£æ–‡ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">output</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">dir</span>: <span class="string">&#x27;dist&#x27;</span>, <span class="comment">// è¾“å‡ºç›®æ ‡æ–‡ä»¶å¤¹</span></span><br><span class="line">                <span class="attr">format</span>: <span class="string">&#x27;cjs&#x27;</span>, <span class="comment">// è¾“å‡º commonjs æ–‡ä»¶</span></span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// è¿™äº›ä¾èµ–çš„ä½œç”¨ä¸Šæ–‡æåˆ°è¿‡</span></span><br><span class="line">        <span class="attr">plugins</span>: [</span><br><span class="line">            <span class="title function_">nodeResolve</span>(),</span><br><span class="line">            <span class="title function_">externals</span>(&#123;</span><br><span class="line">                <span class="attr">devDeps</span>: <span class="literal">false</span>, <span class="comment">// å¯ä»¥è¯†åˆ«æˆ‘ä»¬ package.json ä¸­çš„ä¾èµ–å½“ä½œå¤–éƒ¨ä¾èµ–å¤„ç† ä¸ä¼šç›´æ¥å°†å…¶ä¸­å¼•ç”¨çš„æ–¹æ³•æ‰“åŒ…å‡ºæ¥</span></span><br><span class="line">            &#125;),</span><br><span class="line">            <span class="title function_">typescript</span>(),</span><br><span class="line">            <span class="title function_">json</span>(),</span><br><span class="line">            <span class="title function_">commonjs</span>(),</span><br><span class="line">            <span class="title function_">terser</span>(),</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">]);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜éœ€è¦åœ¨<code>package.json</code>ä¸­é…ç½®ä¸€ä¸ªæ‰“åŒ…å‘½ä»¤ã€‚</p><ul><li>-c æŒ‡å®š rollup é…ç½®æ–‡ä»¶ï¼Œâ€“bundleConfigAsCjs å°†é…ç½®è½¬ä¸º commonjs æ‰§è¡Œã€‚</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rollup -c rollup.config.js --bundleConfigAsCjs&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç¼–å†™æŒ‡ä»¤"><a href="#ç¼–å†™æŒ‡ä»¤" class="headerlink" title="ç¼–å†™æŒ‡ä»¤"></a>ç¼–å†™æŒ‡ä»¤</h2><h3 id="æŒ‡ä»¤äº¤äº’"><a href="#æŒ‡ä»¤äº¤äº’" class="headerlink" title="æŒ‡ä»¤äº¤äº’"></a>æŒ‡ä»¤äº¤äº’</h3><ul><li>è¿™é‡Œå¸¦å¤§å®¶å†™ä¸€ä¸ª<code>create</code>æŒ‡ä»¤ï¼Œåœ¨æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶<code>src/index.ts</code>ç¼–å†™ã€‚</li><li>æˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>commander</code>ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£æç”¨æˆ·åœ¨å‘½ä»¤è¡Œè¾“å…¥çš„æŒ‡ä»¤ã€‚</li><li>è¿™é‡Œä¼šç»™å¤§å®¶è®²è§£ä¸€äº›åŸºç¡€çš„ç”¨æ³•ï¼Œæ›´è¯¦ç»†çš„ä½¿ç”¨æ–¹å¼è¯·æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/tj/commander.js">commander.js</a>ã€‚</li></ul><p>é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ª<code>Command</code>å¯¹è±¡ï¼Œä¼ å…¥çš„å‚æ•°ä½œä¸ºæˆ‘ä»¬çš„æŒ‡ä»¤åç§°ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Command</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;commander&#x27;</span></span><br><span class="line"><span class="comment">// è¿™é‡Œæˆ‘ä»¬ç”¨ arceus å½“ä½œæˆ‘çš„æŒ‡ä»¤åç§°</span></span><br><span class="line"><span class="comment">// å‘½ä»¤è¡Œä¸­ä½¿ç”¨ arceus xxx å³å¯è§¦å‘</span></span><br><span class="line"><span class="keyword">const</span> program = <span class="keyword">new</span> <span class="title class_">Command</span>(<span class="string">&#x27;arceus&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é…ç½®æˆ‘ä»¬éœ€è¦çš„å‘½ä»¤äº†ã€‚</p><ul><li>ä½¿ç”¨<code>version</code>å¯ä»¥å®ç°æœ€åŸºç¡€çš„æŸ¥çœ‹ç‰ˆæœ¬çš„æŒ‡ä»¤ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; version &#125; <span class="keyword">from</span> <span class="string">&#x27;../package.json&#x27;</span></span><br><span class="line"><span class="comment">// .vesion è¡¨ç¤ºå¯ä»¥ä½¿ç”¨ -V --version å‚æ•°æŸ¥çœ‹å½“å‰SDKç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ package.json ä¸­çš„ version å³å¯</span></span><br><span class="line">program</span><br><span class="line">    .<span class="title function_">version</span>(version);</span><br><span class="line"><span class="comment">// è°ƒç”¨ version çš„å‚æ•°å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class="line"><span class="comment">// .version(version, &#x27;-v --version&#x27;)</span></span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨<code>command</code>ä¸<code>action</code>å®ç°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚<ul><li>command ä¸ºæˆ‘ä»¬éœ€è¦çš„å‘½ä»¤åç§°ã€‚</li><li>description ä¸ºå‘½ä»¤æ·»åŠ æè¿°ã€‚</li><li>action ä¸ºæŒ‡ä»¤è§¦å‘æ‰§è¡Œçš„å›è°ƒã€‚</li><li>argument ä¸ºæˆ‘ä»¬å‘½ä»¤éœ€è¦çš„å‚æ•°ï¼Œ[]åŒ…è£¹ä»£è¡¨å¯é€‰ï¼Œ&lt;&gt;åŒ…è£¹ä»£è¡¨å¿…å¡«ã€‚</li></ul></li></ul><p>ä¸‹é¢çš„ç¤ºä¾‹å°±æ˜¯æˆ‘ä»¬ç¼–å†™å¥½çš„æŒ‡ä»¤ï¼ŒæŒ‡ä»¤å›è°ƒæˆ‘ä»¬ç¨åå®ç°ï¼Œè¾“å…¥<code>arceus update</code>ä¼šæ‰“å°<code>update command</code>ï¼Œè¾“å…¥<code>arceus create test</code>ï¼Œä¼šæ‰“å°<code>create test</code>ã€‚action å›è°ƒä¸­ä¼šå°† argument ä¸­çš„å‚æ•°ä¼ å…¥ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">program</span><br><span class="line">    .<span class="title function_">command</span>(<span class="string">&#x27;update&#x27;</span>)</span><br><span class="line">    .<span class="title function_">description</span>(<span class="string">&#x27;æ›´æ–° arceus è‡³æœ€æ–°ç‰ˆæœ¬&#x27;</span>)</span><br><span class="line">    .<span class="title function_">action</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;update command&#x27;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">program</span><br><span class="line">    .<span class="title function_">command</span>(<span class="string">&#x27;create&#x27;</span>)</span><br><span class="line">    .<span class="title function_">description</span>(<span class="string">&#x27;åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®&#x27;</span>)</span><br><span class="line">    .<span class="title function_">argument</span>(<span class="string">&#x27;[name]&#x27;</span>, <span class="string">&#x27;é¡¹ç›®åç§°&#x27;</span>)</span><br><span class="line">    .<span class="title function_">action</span>(<span class="keyword">async</span> (name) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span>(name) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`create <span class="subst">$&#123;name&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`create command`</span>)</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><ul><li>è§£ææŒ‡ä»¤</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// parse ä¼šè§£æ process.argv ä¸­çš„å†…å®¹</span></span><br><span class="line"><span class="comment">// ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¾“å…¥çš„æŒ‡ä»¤</span></span><br><span class="line">program.<span class="title function_">parse</span>();</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæç¤º"><a href="#è¾“å‡ºæç¤º" class="headerlink" title="è¾“å‡ºæç¤º"></a>è¾“å‡ºæç¤º</h3><ul><li>åœ¨ç¼–å†™å‘½ä»¤ä»£ç å‰æˆ‘ä»¬å…ˆå°è£…ä¸€ä¸ªå…¬å…±æ–¹æ³•ã€‚</li><li>åœ¨<code>src/utils/log.ts</code>ä¸­å°è£…ä¸€ä¸ªå¸¦iconçš„è¾“å‡ºæç¤ºã€‚</li><li>æˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>log-symbols</code>ï¼Œä»–å†…ç½®äº† errorï¼Œsuccessï¼Œwarningï¼Œinfo å¯¹åº”çš„ icon ï¼Œå¹¶ä¸”å¸®æˆ‘ä»¬å…¼å®¹ä¸æ”¯æŒ icon çš„ç»ˆç«¯ã€‚å¹¶ä¸”åç»­æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„<code>ora</code>ä½œä¸ºåŠ è½½åŠ¨ç”»ï¼Œå®ƒä¹Ÿæ˜¯ç”¨çš„<code>log-symbols</code>è¿›è¡Œæç¤ºï¼Œæˆ‘ä»¬è¿™é‡Œä¿æŒä¸€è‡´ã€‚ï¼ˆå¤§å®¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€äº›<code>emoji</code>å›¾æ ‡ï¼Œæ•ˆæœä¹Ÿä¸é”™ï¼Œå°±æ˜¯éœ€è¦è‡ªå·±å…¼å®¹ç»ˆç«¯ä¸æ”¯æŒ<code>emoji</code>çš„æƒ…å†µï¼‰</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logSymbols <span class="keyword">from</span> <span class="string">&#x27;log-symbols&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> log = &#123;</span><br><span class="line">    <span class="attr">error</span>: <span class="function">(<span class="params">msg: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(logSymbols.<span class="property">error</span>, msg)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="function">(<span class="params">msg: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(logSymbols.<span class="property">success</span>, msg)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">warning</span>: <span class="function">(<span class="params">msg: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(logSymbols.<span class="property">warning</span>, msg)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">info</span>: <span class="function">(<span class="params">msg: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(logSymbols.<span class="property">info</span>, msg)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> log</span><br></pre></td></tr></table></figure><h3 id="ä¸‹è½½é¡¹ç›®"><a href="#ä¸‹è½½é¡¹ç›®" class="headerlink" title="ä¸‹è½½é¡¹ç›®"></a>ä¸‹è½½é¡¹ç›®</h3><p>æˆ‘ä»¬å…ˆå®ç°<code>create</code>å‘½ä»¤ï¼Œå¯ä»¥è®©ç”¨æˆ·é€‰æ‹©ä¸‹è½½æˆ‘ä»¬é¢„è®¾çš„æ¨¡æ¿ã€‚</p><ul><li>åœ¨<code>src/command/create.ts</code>æ–‡ä»¶ä¸‹ç¼–å†™<code>create</code>å‘½ä»¤æ ¸å¿ƒä»£ç ã€‚</li><li>å¯¼å‡ºä¸€ä¸ªå¯ä»¥ä¼ å…¥é¡¹ç›®åç§°çš„æ–¹æ³•ï¼Œå¦‚æœç”¨æˆ·ç›´æ¥ä¼ å…¥äº†é¡¹ç›®åç§°åˆ™è®©ç”¨æˆ·é€‰æ‹©æ¨¡æ¿ï¼Œå¦åˆ™éœ€è¦å…ˆè®©ç”¨æˆ·è¾“å…¥é¡¹ç›®åç§°ã€‚</li><li>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†<code>@inquirer/prompts</code>ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è®©ç”¨æˆ·åœ¨ç»ˆç«¯è¿›è¡Œè¾“å…¥æˆ–é€‰æ‹©çš„æ“ä½œï¼Œæ›´å¤šä½¿ç”¨æ–¹æ³•è¯·æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/SBoudrias/Inquirer.js">inquirer.js</a>ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; select, input &#125; <span class="keyword">from</span> <span class="string">&#x27;@inquirer/prompts&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">prjName?: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="comment">// æ–‡ä»¶åç§°æœªä¼ å…¥éœ€è¦è¾“å…¥</span></span><br><span class="line">    <span class="keyword">if</span> (!prjName) prjName = <span class="keyword">await</span> <span class="title function_">input</span>(&#123; <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥é¡¹ç›®åç§°&#x27;</span> &#125;);</span><br><span class="line">    <span class="comment">// å¦‚æœæ–‡ä»¶å·²å­˜åœ¨éœ€è¦è®©ç”¨æˆ·åˆ¤æ–­æ˜¯å¦è¦†ç›–åŸæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">const</span> filePath = path.<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(), prjName)</span><br><span class="line">    <span class="keyword">if</span> (fs.<span class="title function_">existsSync</span>(filePath)) &#123;</span><br><span class="line">        <span class="keyword">const</span> run = <span class="keyword">await</span> <span class="title function_">isOverwrite</span>(prjName)</span><br><span class="line">        <span class="keyword">if</span> (run) &#123;</span><br><span class="line">            <span class="keyword">await</span> fs.<span class="title function_">remove</span>(filePath)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="comment">// ä¸è¦†ç›–ç›´æ¥ç»“æŸ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>src/utils/file.ts</code>ä¸­å°è£…ä¸€ä¸ªåˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¦†ç›–çš„å…¬å…±æ–¹æ³•ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; select &#125; <span class="keyword">from</span> <span class="string">&#x27;@inquirer/prompts&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&quot;./log&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">isOverwrite</span> = <span class="keyword">async</span> (<span class="params">fileName: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">    log.<span class="title function_">warning</span>(<span class="string">`<span class="subst">$&#123;fileName&#125;</span> æ–‡ä»¶å·²å­˜åœ¨ !`</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">select</span>(&#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&#x27;æ˜¯å¦è¦†ç›–åŸæ–‡ä»¶: &#x27;</span>,</span><br><span class="line">        <span class="attr">choices</span>: [</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">&#x27;è¦†ç›–&#x27;</span>, <span class="attr">value</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>, <span class="attr">value</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç„¶åæˆ‘ä»¬å°±éœ€è¦è®©ç”¨æˆ·é€‰æ‹©æˆ‘ä»¬çš„é¢„è®¾æ¨¡æ¿ï¼Œè¿™é‡Œåœ¨<code>src/constants.ts</code>ä¿å­˜æˆ‘ä»¬æ‹¥æœ‰çš„æ¨¡æ¿ï¼Œå®šä¹‰æˆ<code>map</code>çš„å½¢å¼æ˜¯æ–¹ä¾¿æˆ‘ä»¬æ ¹æ®<code>key</code>è·å–é¡¹ç›®çš„ä¿¡æ¯ã€‚</li><li>ä¸‹è½½æ¨¡æ¿çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¯ä»¥å°†æ¨¡æ¿æ–‡ä»¶ä¿å­˜åœ¨ SDK ä¸­ï¼Œä½¿ç”¨ ejs æˆ–è€…å…¶ä»–æ–¹æ³•åŠ¨æ€é€‰æ‹©ç”Ÿæˆï¼Œä½¿ç”¨ fs æ¨¡å—å†™å…¥ï¼Œæˆ–è€…å­˜æ”¾åœ¨ git ä»“åº“ä¸­è¿›è¡Œ cloneï¼Œè¿™é‡Œæˆ‘ä»¬é€‰ç”¨åè€…ï¼Œå…¶ä»–æ–¹æ³•å¤§å®¶å¯ä»¥è‡ªè¡Œæ¢ç´¢ã€‚</li><li>è¿™é‡Œæˆ‘å®šä¹‰äº† TemplateInfo ç±»å‹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è‡ªè¡Œå®šä¹‰ï¼Œéœ€è¦å­˜å‚¨é¡¹ç›®åç§°ï¼Œä¸‹è½½åœ°å€ï¼Œæè¿°ï¼Œä»£ç åˆ†æ”¯ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TemplateInfo</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œä¿å­˜äº†æˆ‘å†™å¥½çš„ä¸¤ä¸ªé¢„è®¾æ¨¡æ¿ æ„Ÿå…´è¶£çš„å¤§å®¶å¯ä»¥çœ‹çœ‹å¾€æœŸæ–‡ç« </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">templates</span>: <span class="title class_">Map</span>&lt;<span class="built_in">string</span>, <span class="title class_">TemplateInfo</span>&gt; = <span class="keyword">new</span> <span class="title class_">Map</span>(</span><br><span class="line">    [</span><br><span class="line">        [<span class="string">&quot;sv3-template&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;sv3-template&quot;</span>,</span><br><span class="line">            <span class="attr">downloadUrl</span>: <span class="string">&#x27;git@github.com:LonelySnowman/sv3-template.git&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;vue3å¿«é€Ÿå¼€å‘æ¨¡æ¿&#x27;</span>,</span><br><span class="line">            <span class="attr">branch</span>: <span class="string">&#x27;main&#x27;</span></span><br><span class="line">        &#125;],</span><br><span class="line">        [<span class="string">&quot;sv3-template-thin&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;sv3-template-thin&quot;</span>,</span><br><span class="line">            <span class="attr">downloadUrl</span>: <span class="string">&#x27;git@github.com:LonelySnowman/sv3-template.git&#x27;</span>,</span><br><span class="line">            <span class="attr">description</span>: <span class="string">&#x27;vue3å¿«é€Ÿå¼€å‘æ¨¡æ¿(ç²¾ç®€ç‰ˆ)&#x27;</span>,</span><br><span class="line">            <span class="attr">branch</span>: <span class="string">&#x27;thin&#x27;</span></span><br><span class="line">        &#125;]</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ul><li>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥è®©ç”¨æˆ·é€‰æ‹©éœ€è¦çš„æ¨¡æ¿ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; select, input &#125; <span class="keyword">from</span> <span class="string">&#x27;@inquirer/prompts&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; templates &#125; <span class="keyword">from</span> <span class="string">&quot;../constants&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TemplateInfo</span> &#125; <span class="keyword">from</span> <span class="string">&quot;../types&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&quot;../utils/log&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">prjName?: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„ map å¤„ç†æˆ @inquirer/prompts select éœ€è¦çš„å½¢å¼</span></span><br><span class="line">    <span class="comment">// å¤§å®¶ä¹Ÿå¯ä»¥å°è£…æˆä¸€ä¸ªæ–¹æ³•å»å¤„ç†</span></span><br><span class="line">    <span class="keyword">const</span> templateList = [...templates.<span class="title function_">entries</span>()].<span class="title function_">map</span>(<span class="function">(<span class="params">item: [<span class="built_in">string</span>, TemplateInfo]</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> [name, info] = item;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            name,</span><br><span class="line">            <span class="attr">value</span>: name,</span><br><span class="line">            <span class="attr">description</span>: info.<span class="property">description</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€‰æ‹©æ¨¡æ¿</span></span><br><span class="line">    <span class="keyword">const</span> templateName = <span class="keyword">await</span> <span class="title function_">select</span>(&#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&#x27;è¯·é€‰æ‹©éœ€è¦åˆå§‹åŒ–çš„æ¨¡æ¿:&#x27;</span>,</span><br><span class="line">        <span class="attr">choices</span>: templateList,</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸‹è½½æ¨¡æ¿</span></span><br><span class="line">    <span class="keyword">const</span> gitRepoInfo = templates.<span class="title function_">get</span>(templateName)</span><br><span class="line">    <span class="keyword">if</span> (gitRepoInfo) &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">clone</span>(gitRepoInfo.<span class="property">downloadUrl</span> , prjName, [<span class="string">&#x27;-b&#x27;</span>, <span class="string">`<span class="subst">$&#123;gitRepoInfo.branch&#125;</span>`</span>])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        log.<span class="title function_">error</span>(<span class="string">`<span class="subst">$&#123;templateName&#125;</span> æ¨¡æ¿ä¸å­˜åœ¨`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æˆ‘ä»¬è¿˜éœ€è¦å®ç°æˆ‘ä»¬åˆšåˆšä½¿ç”¨è¿‡çš„<code>clone</code>æ–¹æ³•ï¼Œä¸‹è½½ä»“åº“ä¸­çš„æ¨¡æ¿ã€‚</li><li>æˆ‘ä»¬åœ¨<code>src/utils/clone.ts</code>ä¸­å®ç°ä¸‹ã€‚<ul><li>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°ï¼Œ<code>simple-git</code>ç”¨äºæ‹‰å– git ä»“åº“ï¼Œ<code>progress-estimator</code>è®¾ç½®é¢„ä¼°<code>git clone</code>çš„æ—¶é—´å¹¶å±•ç¤ºè¿›åº¦æ¡ã€‚</li></ul></li><li>è¿™é‡Œæˆ‘å°±ç›´æ¥å±•ç¤ºä»£ç å’Œæ³¨é‡Šäº†ï¼Œæ€è·¯éƒ½å¾ˆç®€å•ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> simpleGit, &#123; <span class="title class_">SimpleGit</span>, <span class="title class_">SimpleGitOptions</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;simple-git&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&quot;./log&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> createLogger <span class="keyword">from</span> <span class="string">&quot;progress-estimator&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> chalk <span class="keyword">from</span> <span class="string">&quot;chalk&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> logger = <span class="title function_">createLogger</span>(&#123; <span class="comment">// åˆå§‹åŒ–è¿›åº¦æ¡</span></span><br><span class="line">    <span class="attr">spinner</span>: &#123;</span><br><span class="line">        <span class="attr">interval</span>: <span class="number">300</span>, <span class="comment">// å˜æ¢æ—¶é—´ ms</span></span><br><span class="line">        <span class="attr">frames</span>: [<span class="string">&#x27;â ‹&#x27;</span>, <span class="string">&#x27;â ™&#x27;</span>, <span class="string">&#x27;â ¹&#x27;</span>, <span class="string">&#x27;â ¸&#x27;</span>, <span class="string">&#x27;â ¼&#x27;</span>, <span class="string">&#x27;â ´&#x27;</span>, <span class="string">&#x27;â ¦&#x27;</span>, <span class="string">&#x27;â §&#x27;</span>, <span class="string">&#x27;â ‡&#x27;</span>, <span class="string">&#x27;â &#x27;</span>].<span class="title function_">map</span>(<span class="function"><span class="params">item</span>=&gt;</span>chalk.<span class="title function_">blue</span>(item)) <span class="comment">// è®¾ç½®åŠ è½½åŠ¨ç”»</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">gitOptions</span>: <span class="title class_">Partial</span>&lt;<span class="title class_">SimpleGitOptions</span>&gt; = &#123;</span><br><span class="line">    <span class="attr">baseDir</span>: process.<span class="title function_">cwd</span>(), <span class="comment">// æ ¹ç›®å½•</span></span><br><span class="line">    <span class="attr">binary</span>: <span class="string">&#x27;git&#x27;</span>,</span><br><span class="line">    <span class="attr">maxConcurrentProcesses</span>: <span class="number">6</span>, <span class="comment">// æœ€å¤§å¹¶å‘è¿›ç¨‹æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> clone = <span class="keyword">async</span> (<span class="attr">url</span>: <span class="built_in">string</span>, <span class="attr">prjName</span>: <span class="built_in">string</span>, <span class="attr">options</span>: <span class="built_in">string</span>[]): <span class="title class_">Promise</span>&lt;<span class="built_in">any</span>&gt; =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">git</span>: <span class="title class_">SimpleGit</span> = <span class="title function_">simpleGit</span>(gitOptions)</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// å¼€å§‹ä¸‹è½½ä»£ç å¹¶å±•ç¤ºé¢„ä¼°æ—¶é—´è¿›åº¦æ¡</span></span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">logger</span>(git.<span class="title function_">clone</span>(url, prjName, options), <span class="string">&#x27;ä»£ç æ€¥é€Ÿä¸‹è½½ä¸­: &#x27;</span>, &#123;</span><br><span class="line">            <span class="attr">estimate</span>: <span class="number">7000</span> <span class="comment">// å±•ç¤ºé¢„ä¼°æ—¶é—´</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸‹é¢å°±æ˜¯ä¸€äº›ç›¸å…³çš„æç¤º</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(chalk.<span class="title function_">blueBright</span>(<span class="string">`==================================`</span>))</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(chalk.<span class="title function_">blueBright</span>(<span class="string">`=== æ¬¢è¿ä½¿ç”¨ arceus-cli è„šæ‰‹æ¶ ===`</span>))</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(chalk.<span class="title function_">blueBright</span>(<span class="string">`==================================`</span>))</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>()</span><br><span class="line"></span><br><span class="line">        log.<span class="title function_">success</span>(<span class="string">`é¡¹ç›®åˆ›å»ºæˆåŠŸ <span class="subst">$&#123;chalk.blueBright(prjName)&#125;</span>`</span>)</span><br><span class="line">        log.<span class="title function_">success</span>(<span class="string">`æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨é¡¹ç›®ï¼š`</span>)</span><br><span class="line">        log.<span class="title function_">info</span>(<span class="string">`cd <span class="subst">$&#123;chalk.blueBright(prjName)&#125;</span>`</span>)</span><br><span class="line">        log.<span class="title function_">info</span>(<span class="string">`<span class="subst">$&#123;chalk.yellow(<span class="string">&#x27;pnpm&#x27;</span>)&#125;</span> install`</span>)</span><br><span class="line">        log.<span class="title function_">info</span>(<span class="string">`<span class="subst">$&#123;chalk.yellow(<span class="string">&#x27;pnpm&#x27;</span>)&#125;</span> run dev`</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (<span class="attr">err</span>: <span class="built_in">any</span>) &#123;</span><br><span class="line">        log.<span class="title function_">error</span>(<span class="string">&quot;ä¸‹è½½å¤±è´¥&quot;</span>)</span><br><span class="line">        log.<span class="title function_">error</span>(<span class="title class_">String</span>(err))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„<code>create</code>å‘½ä»¤å°±ç¼–å†™å®Œæ¯•äº†ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ·»åŠ åˆ°<code>src/index.ts</code>ä¸­å»è°ƒç”¨ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">program</span><br><span class="line">    .<span class="title function_">command</span>(<span class="string">&#x27;create&#x27;</span>)</span><br><span class="line">    .<span class="title function_">description</span>(<span class="string">&#x27;åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®&#x27;</span>)</span><br><span class="line">    .<span class="title function_">argument</span>(<span class="string">&#x27;[name]&#x27;</span>, <span class="string">&#x27;é¡¹ç›®åç§°&#x27;</span>)</span><br><span class="line">    .<span class="title function_">action</span>(<span class="keyword">async</span> (dirName) =&gt; &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">create</span>(dirName);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><h3 id="æ£€æµ‹é¡¹ç›®æ›´æ–°"><a href="#æ£€æµ‹é¡¹ç›®æ›´æ–°" class="headerlink" title="æ£€æµ‹é¡¹ç›®æ›´æ–°"></a>æ£€æµ‹é¡¹ç›®æ›´æ–°</h3><ul><li>å½“æˆ‘ä»¬æ›´æ–°æ¨¡æ¿åï¼Œå¸Œæœ›ç”¨æˆ·ç¬¬ä¸€æ—¶é—´ç”¨åˆ°ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­æ·»åŠ ä¸€äº›æ›´æ–°æç¤ºã€‚</li></ul><p>åœ¨<code>src/utils/npm.ts</code>ä¸­ç¼–å†™æ–¹æ³•ï¼Œç”¨äºè·å–npmåŒ…çš„ä¿¡æ¯åŠç‰ˆæœ¬å·ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm åŒ…æä¾›äº†æ ¹æ®åŒ…åç§°æŸ¥è¯¢åŒ…ä¿¡æ¯çš„æ¥å£</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬åœ¨è¿™é‡Œç›´æ¥ä½¿ç”¨ axios è¯·æ±‚è°ƒç”¨å³å¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getNpmInfo</span> = <span class="keyword">async</span> (<span class="params">npmName: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> npmUrl = <span class="string">&#x27;https://registry.npmjs.org/&#x27;</span> + npmName</span><br><span class="line">    <span class="keyword">let</span> res = &#123;&#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        res = <span class="keyword">await</span> axios.<span class="title function_">get</span>(npmUrl)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        log.<span class="title function_">error</span>(err <span class="keyword">as</span> <span class="built_in">string</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>npmåŒ…ä¿¡æ¯ä¸­åŒ…å«äº†è¯¥åŒ…çš„æœ€æ–°ç‰ˆæœ¬ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œç›´æ¥å¼•ç”¨å³å¯ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getNpmLatestVersion</span> = <span class="keyword">async</span> (<span class="params">npmName: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// data[&#x27;dist-tags&#x27;].latest ä¸ºæœ€æ–°ç‰ˆæœ¬å·</span></span><br><span class="line">    <span class="keyword">const</span> &#123; data &#125; = (<span class="keyword">await</span> <span class="title function_">getNpmInfo</span>(npmName)) <span class="keyword">as</span> <span class="title class_">AxiosResponse</span></span><br><span class="line">    <span class="keyword">return</span> data[<span class="string">&#x27;dist-tags&#x27;</span>].<span class="property">latest</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå¯¹æ¯”ç‰ˆæœ¬å·ç‰ˆæœ¬ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œå¦‚éœ€æ›´æ–°è¿›è¡Œæç¤ºã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">isNeedUpdate</span> = <span class="keyword">async</span> (<span class="params">name: <span class="built_in">string</span>, curVersion: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> latestVersion = <span class="keyword">await</span> <span class="title function_">getNpmLatestVersion</span>(name)</span><br><span class="line">    <span class="keyword">const</span> need = lodash.<span class="title function_">gt</span>(latestVersion, curVersion)</span><br><span class="line">    <span class="keyword">if</span>(need) &#123;</span><br><span class="line">        log.<span class="title function_">info</span>(<span class="string">`æ£€æµ‹åˆ° arceus æœ€æ–°ç‰ˆ:<span class="subst">$&#123;chalk.blueBright(latestVersion)&#125;</span> å½“å‰ç‰ˆæœ¬:<span class="subst">$&#123;chalk.blueBright(curVersion)&#125;</span> ~`</span>)</span><br><span class="line">        log.<span class="title function_">info</span>(<span class="string">`å¯ä½¿ç”¨ <span class="subst">$&#123;chalk.yellow(<span class="string">&#x27;npm&#x27;</span>)&#125;</span> install arceus-cli@latest æ›´æ–° ~`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> need</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°†è¿™ä¸ªåˆ¤æ–­æ›´æ–°çš„æ–¹æ³•æ·»åŠ åˆ°<code>create</code>æ–¹æ³•ä¸­ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">prjName?: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">isNeedUpdate</span>(name, version) <span class="comment">// æ£€æµ‹ç‰ˆæœ¬æ›´æ–°</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å‘å¸ƒæ–°çš„ç‰ˆæœ¬ï¼Œç”¨æˆ·å¯ä»¥ç¬¬ä¸€æ—¶é—´çœ‹åˆ°ã€‚</p><h2 id="å¦‚ä½•è°ƒç”¨"><a href="#å¦‚ä½•è°ƒç”¨" class="headerlink" title="å¦‚ä½•è°ƒç”¨"></a>å¦‚ä½•è°ƒç”¨</h2><ul><li>æˆ‘ä»¬å·²ç»å®Œæˆäº†æ ¸å¿ƒçš„ä»£ç é€»è¾‘ï¼Œç°åœ¨æƒ³è¦ä½¿ç”¨å‘½ä»¤è¡Œå»è°ƒç”¨æˆ‘ä»¬ç¼–å†™å¥½çš„é€»è¾‘ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè‡ªå·±åœ¨æœ¬åœ°æ‰§è¡Œæµ‹è¯•ï¼Œç„¶åå°†å…¶ä¸Šä¼ åˆ° npm å°±å¯ä»¥ä¾›ä»–äººä½¿ç”¨äº†ã€‚</li></ul><h3 id="æœ¬åœ°è°ƒè¯•"><a href="#æœ¬åœ°è°ƒè¯•" class="headerlink" title="æœ¬åœ°è°ƒè¯•"></a>æœ¬åœ°è°ƒè¯•</h3><ul><li>æˆ‘ä»¬ä¹‹å‰å·²ç»é…ç½®å¥½äº† rollup æ‰“åŒ…çš„è„šæœ¬ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ‰§è¡Œ <code>npm run build</code>ï¼Œæ‰“åŒ…åçš„ä»£ç ä¼šè¾“å‡ºåˆ°<code>dist/index.js</code>ä¸­ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>node</code>åœ¨æœ¬åœ°æ‰§è¡Œï¼Œå…ˆæµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬ç¼–å†™å¥½çš„<code>create</code>å‘½ä»¤ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node .\dist\index.js create</span><br></pre></td></tr></table></figure><p>ä¸å‡ºæ„å¤–æ˜¯å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å†™å¥½çš„äº¤äº’é€»è¾‘ï¼Œå¦‚æœæœ‰æŠ¥é”™ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®å¯¹åº”çš„é—®é¢˜æŸ¥è¯¢ä¸‹ï¼Œä¹Ÿå¯ä»¥ç»™æˆ‘ç•™è¨€ã€‚</p><h3 id="å‘å¸ƒnpmåŒ…"><a href="#å‘å¸ƒnpmåŒ…" class="headerlink" title="å‘å¸ƒnpmåŒ…"></a>å‘å¸ƒnpmåŒ…</h3><ul><li>æœ¬åœ°è°ƒè¯•æ²¡æœ‰é—®é¢˜åæˆ‘ä»¬å°±å¯ä»¥å°†å…¶å‘å¸ƒåœ¨<code>npm</code>ä¸Šã€‚</li><li>npmè´¦å·æ³¨å†Œã€ç™»å½•ç­‰åŸºç¡€æ“ä½œï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šèµ˜è¿°äº†ï¼Œä¸»è¦è®²ä¸€ä¸‹å¦‚ä½•è®©å‘å¸ƒçš„åŒ…èƒ½ä»¥<code>arceus</code>ä½œä¸ºå‘½ä»¤åè°ƒç”¨ã€‚</li></ul><p>éœ€è¦æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹<code>package.json</code>æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¿…è¦çš„é…ç½®ï¼Œéƒ½åŠ ä¸Šäº†æ³¨é‡Šï¼Œæˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨<code>bin</code>è¿™ä¸€é¡¹ã€‚</p><ul><li><code>bin</code>ä¸­çš„é…ç½®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦æœ‰ â€œkeyâ€ å’Œ â€œvalueâ€ã€‚<ul><li>key ä¼šè¢«æ”¾ç½®åœ¨ node_modules çš„ .bin ç›®å½•ä¸­ï¼Œvalue æ˜¯ key å¯¹åº”éœ€è¦æ‰§è¡Œçš„æ–‡ä»¶ã€‚</li><li>æˆ‘ä»¬ä½¿ç”¨ npx arceus å°±ä¼šè°ƒç”¨æˆ‘ä»¬çš„ bin&#x2F;index.jsã€‚</li><li>å½“æˆ‘ä»¬å…¨å±€å®‰è£…å¯¹åº”åŒ…çš„æ—¶å€™ä¼šæ”¾åœ¨å…¨å±€çš„ node_modules çš„ .bin ç›®å½•ä¸­ï¼Œç›¸å½“äºæ·»åŠ äº†ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯ä¸­è°ƒç”¨ã€‚</li></ul></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arceus-cli&quot;</span><span class="punctuation">,</span> <span class="comment">// åŒ…åç§°</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;x.x.x&quot;</span><span class="punctuation">,</span> <span class="comment">// åŒ…ç‰ˆæœ¬</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arceusè„šæ‰‹æ¶&quot;</span><span class="punctuation">,</span> <span class="comment">// åŒ…æè¿°</span></span><br><span class="line">    <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/index.js&quot;</span><span class="punctuation">,</span> <span class="comment">// åº“å…¥å£æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">&quot;engines&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">// æ¨èä½¿ç”¨ node ç‰ˆæœ¬å·</span></span><br><span class="line">        <span class="attr">&quot;node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&gt;=16&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">// åŒ…æŸ¥è¯¢å…³é”®è¯</span></span><br><span class="line">        <span class="string">&quot;sv3-template&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">// npm åŒ…éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="string">&quot;dist&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;bin&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;README.md&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">// ä½œè€…ä¿¡æ¯</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lonelysnowman&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;bin&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;arceus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bin/index.js&quot;</span> <span class="comment">// npm ä¼šåœ¨ .bin ç›®å½•ä¸­é…ç½® arceus æ‰§è¡Œ bin/index.js</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ç¼–å†™<code>bin/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;../dist&#x27;</span>); <span class="comment">// æ‰§è¡Œæˆ‘ä»¬æ‰“åŒ…å¥½çš„ dist/index.js æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>éœ€è¦åœ¨ç¬¬ä¸€è¡ŒåŠ å…¥<code>#!/usr/bin/env node</code>ï¼Œ<code>/usr/bin/env</code>å°±æ˜¯å‘Šè¯‰ç³»ç»Ÿå¯ä»¥åœ¨PATHç›®å½•ä¸­æŸ¥æ‰¾ï¼Œ<code>#!/usr/bin/env node</code>å°±æ˜¯è§£å†³äº†ä¸åŒçš„ç”¨æˆ·nodeè·¯å¾„ä¸åŒçš„é—®é¢˜ï¼Œå¯ä»¥è®©ç³»ç»ŸåŠ¨æ€çš„å»æŸ¥æ‰¾nodeæ¥æ‰§è¡Œä½ çš„è„šæœ¬æ–‡ä»¶ã€‚</p><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°†npmåŒ…å‘å¸ƒå•¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm login <span class="comment"># å‘å¸ƒå‰éœ€è¦å…ˆç™»å½•ä¸‹</span></span><br><span class="line"></span><br><span class="line">npm publish <span class="comment"># ä¼šæŒ‰ç…§æˆ‘ä»¬ package.json ä¸­çš„ files é…ç½®çš„æ–‡ä»¶å‘å¸ƒ name ä½œä¸ºåŒ…åç§°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœéœ€è¦è¿­ä»£åŒ…çš„ç‰ˆæœ¬ è¦å…ˆä¿®æ”¹ç‰ˆæœ¬å·å†å‘å¸ƒ</span></span><br><span class="line">npm version patch <span class="comment"># 0.0.0 -&gt; 0.0.1</span></span><br><span class="line">npm version minor <span class="comment"># 0.0.0 -&gt; 0.1.0</span></span><br><span class="line">npm version major <span class="comment"># 0.0.0 -&gt; 1.0.0</span></span><br></pre></td></tr></table></figure><p>å‘å¸ƒå®Œæˆåæˆ‘ä»¬å°±å¯ä»¥å®‰è£…<code>npm</code>å…¨å±€åŒ…ç„¶åè¿›è¡Œä½¿ç”¨å•¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install arceus-cli -g</span><br></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±è§£å†³äº†æ‰€æœ‰çš„é—®é¢˜ï¼Œå®ç°äº†ä¸€ä¸ªç®€æ˜“çš„cliå·¥å…·ï¼Œåšåˆ°äº†cloneåœ¨gitä»“åº“ä¸­çš„å›ºå®šæ¨¡æ¿ã€‚å¦‚æœæˆ‘ä»¬æƒ³å®ç°åŠ¨æ€æ¨¡æ¿å°±éœ€è¦ä½¿ç”¨å…¶ä»–çš„æŠ€æœ¯ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼æˆ–è€…ejsæ¨¡æ¿ï¼Œæ ¹æ®ç”¨æˆ·çš„é€‰æ‹©åŠ¨æ€ç”Ÿæˆéœ€è¦çš„æ¨¡æ¿ä»£ç ã€‚å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è‡ªè¡Œæ‹“å±•ğŸ˜€ã€‚</p><p>è¯¥é¡¹ç›®å·²å¼€æºï¼š<a href="https://github.com/LonelySnowman/arceus-cli">LonelySnowman&#x2F;arceus-cli</a>ï¼Œå¯ä»¥ä½¿ç”¨<code>npm install arceus-cli -g</code>å®‰è£…åä½¿ç”¨<code>arceus create</code>è¿›è¡Œä½“éªŒã€‚</p><p><strong>ç³»åˆ—æ–‡ç« </strong>ï¼š</p><ul><li><a href="https://juejin.cn/post/7207615983950987320">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„ Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href="https://juejin.cn/post/7209542304863649852">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£… é™ä½è€¦åˆåº¦ å°è£… axios pinia router</a></li><li><a href="https://juejin.cn/post/7213310111623725117">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</a></li><li><a href="https://juejin.cn/post/7214759986802294844">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</a></li><li><a href="https://juejin.cn/post/7300460850011521078">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</a></li></ul><p><strong>å‚è€ƒå­¦ä¹ é¡¹ç›®</strong>ï¼š</p><ul><li><a href="https://github.com/pure-admin/pure-admin-cli">pure-admin-cli</a></li></ul><blockquote><p>å¦‚æœæœ‰ä»»ä½•ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡æ­£ï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ã€‚</p><p>æ›´æ–‡ä¸æ˜“ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ‘</p><p>å…³æ³¨æˆ‘ï¼Œåç»­æ–‡ç« ä¸è¿·è·¯â›„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæ‰‹æ¶ </tag>
            
            <tag> cli </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Minecraftå¼€æœã€‘å¦‚ä½•ä½¿ç”¨äº‘æœåŠ¡å™¨æ­å»ºæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨</title>
      <link href="/2023/09/10/mc/mc-server/"/>
      <url>/2023/09/10/mc/mc-server/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€Minecraftå¼€æœã€‘å¦‚ä½•ä½¿ç”¨äº‘æœåŠ¡å™¨æ­å»ºæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨"><a href="#ã€Minecraftå¼€æœã€‘å¦‚ä½•ä½¿ç”¨äº‘æœåŠ¡å™¨æ­å»ºæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨" class="headerlink" title="ã€Minecraftå¼€æœã€‘å¦‚ä½•ä½¿ç”¨äº‘æœåŠ¡å™¨æ­å»ºæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨"></a>ã€Minecraftå¼€æœã€‘å¦‚ä½•ä½¿ç”¨äº‘æœåŠ¡å™¨æ­å»ºæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨</h1><p>Tagsï¼š<code>æœåŠ¡å™¨</code>ï¼Œ<code>æˆ‘çš„ä¸–ç•Œ</code>ï¼Œ<code>å¼€æœ</code>ï¼Œ<code>MC</code>ï¼Œ<code>Minecraft</code></p><blockquote><p>å¤§å®¶å¥½å‘€ï¼Œæˆ‘æ˜¯é›ªäººâ›„ ~</p><p>å¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œåˆšå¼€å­¦è·Ÿå®¤å‹èŠå¤©çš„æ—¶å€™èŠåˆ°äº†æš‘å‡éƒ½ç©ä»€ä¹ˆï¼ŒLOLã€ä¸‹æ£‹ã€ç‹è€…â€¦</p><p>â›„ï¼šæˆ‘éƒ½ä¸çŸ¥é“è¯¥ç©å•¥äº†ï¼Œç”µå­é˜³ç—¿äº†ã€‚</p><p>èˆå‹ï¼šâ€œæˆ‘çš„ä¸–ç•Œâ€ã€‚</p><p>â›„ï¼šå—¯ï¼Ÿï¼ˆå”¤é†’äº†å°å°˜å·²ä¹…çš„è®°å¿†ï¼‰</p><p>â›„ï¼šä½ å’Œè°ä¸€èµ·ç©ï¼Ÿ</p><p>èˆå‹ï¼šä¸€ä¸ªäººã€‚</p><p>â›„ï¼šæˆ‘çš„å¤©å“ªï¼Œä½ ä¸€ä¸ªäººéƒ½èƒ½ç©è¿›å»ï¼Œè¦ä¸å’±ä»¬ä¸€èµ·ç©å§ğŸ˜„ã€‚</p><p>ï¼ˆç«é€Ÿæ‰§è¡Œï¼Œå…ˆç”¨å†…ç½‘ç©¿é€ + æœ¬åœ°å¼€æœç©äº†ä¸€æ®µæ—¶é—´ï¼Œæ¯æ¬¡éƒ½å¾—ç­‰æˆ¿ä¸»ä¸Šçº¿æ‰èƒ½ç©ï¼Œéå¸¸ä¸æ–¹ä¾¿ï¼‰</p><p>emmmï¼Œä¸ºä»€ä¹ˆä¸å¼€ä¸ªæœåŠ¡å™¨å‘¢ï¼Ÿå¼€æ•´ï¼</p></blockquote><h2 id="ä¹°ä¸€å°äº‘æœåŠ¡å™¨"><a href="#ä¹°ä¸€å°äº‘æœåŠ¡å™¨" class="headerlink" title="ä¹°ä¸€å°äº‘æœåŠ¡å™¨"></a>ä¹°ä¸€å°äº‘æœåŠ¡å™¨</h2><ul><li>å¼€æœå½“ç„¶æ˜¯éœ€è¦å…ˆæœ‰ä¸€å°æœåŠ¡å™¨å•¦ğŸ˜€ã€‚</li></ul><h3 id="é€‰æ‹©è´­ä¹°æ–¹å¼"><a href="#é€‰æ‹©è´­ä¹°æ–¹å¼" class="headerlink" title="é€‰æ‹©è´­ä¹°æ–¹å¼"></a>é€‰æ‹©è´­ä¹°æ–¹å¼</h3><p>è´­ä¹°äº‘æœåŠ¡å™¨çš„é€‰æ‹©æœ‰å¾ˆå¤šå¾ˆå¤šç§ï¼šé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œåä¸ºäº‘â€¦.</p><p>ä¹Ÿæœ‰ä¸€äº›æ´»åŠ¨å¯ä»¥ç™½å«–æœåŠ¡å™¨ï¼Œ å¤§å®¶å¯ä»¥è‡ªè¡Œæœç´¢èµ„æ–™ï¼Œæˆ‘ç¬¬ä¸€æ¬¡ç”¨çš„å°±æ˜¯<code>é˜¿é‡Œäº‘äº‘ç¿¼è®¡åˆ’</code>çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç”¨å­¦ç”Ÿè®¤è¯å…è´¹é¢†å–ä¸‰ä¸ªæœˆç„¶åå†™ä¸€ä¸ªæ–‡ç« èƒ½ç»­ä¸€å¹´ã€‚</p><p>ç°åœ¨æˆ‘åœ¨ç”¨è…¾è®¯äº‘çš„æœåŠ¡å™¨ï¼Œå„å¤§å‚å•†éƒ½ä¼šæœ‰ä¸€äº›æ–°äººä¼˜æƒ ï¼Œä»·æ ¼è¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><ul><li>ã€è…¾è®¯äº‘2023é‡‘ç§‹ä¸Šäº‘å­£ã€‘ï¼š<a href="https://cloud.tencent.com/act/pro/2023autumn">https://cloud.tencent.com/act/pro/2023autumn</a></li><li>ã€é˜¿é‡Œäº‘æ–°äººä¼˜æƒ ã€‘ï¼š<a href="https://www.aliyun.com/daily-act/ecs/activity_selection">https://www.aliyun.com/daily-act/ecs/activity_selection</a></li></ul><h3 id="æœåŠ¡å™¨é…ç½®"><a href="#æœåŠ¡å™¨é…ç½®" class="headerlink" title="æœåŠ¡å™¨é…ç½®"></a>æœåŠ¡å™¨é…ç½®</h3><ul><li>CPUï¼šåœ¨ä½ é¢„ç®—ä¹‹å†…ï¼Œå•æ ¸æ€§èƒ½ã€ä¸»é¢‘ã€ä¸‰çº§ç¼“å­˜è¶Šé«˜è¶Šå¥½ã€‚</li><li>å†…å­˜ï¼šé¢„ç®—ä¹‹å†…è¶Šå¤§è¶Šå¥½ï¼Œ4Gå³å¯å¼€æ’ä»¶&#x2F;å°å‹MODæœåŠ¡å™¨</li><li>ç¡¬ç›˜ï¼šå¯¹ç¡¬ç›˜IOæ²¡æœ‰å¤ªå¤§è¦æ±‚ï¼Œç¡¬ç›˜å†…å­˜10Gä¹Ÿèƒ½ç”¨ã€‚</li><li>ç½‘ç»œï¼šå¸¦å®½å¿…é¡»2Mèµ·ã€‚</li></ul><p>æ¨èå¤§å®¶é€‰ç”¨2æ ¸2Gèµ·æ­¥çš„ã€‚</p><ul><li>1æ ¸2G &#x2F; 2æ ¸2Gï¼šåŸç‰ˆæœåŠ¡å™¨å‹‰å¼ºèƒ½å¼€ï¼Œä½†æ€§èƒ½ä¸å¤Ÿå……è£•ï¼Œé€‚åˆ 2<del>4 äººåŸç‰ˆæ¸¸æˆè”æœºã€‚å†…å­˜å ç”¨90%ä»¥ä¸Šï¼ŒCPUå ç”¨ä¸è·‘å›¾æ—¶ 5</del>20% ï¼Œè·‘å›¾æ—¶90%ä»¥ä¸Šã€‚ï¼ˆå¤Ÿç”¨ï¼‰</li><li>2æ ¸4Gï¼š<ul><li>åŸç‰ˆæœåŠ¡å™¨ç¨³å®šè¿è¡Œï¼Œæ€§èƒ½å……è£•ï¼Œé€‚åˆ 5<del>7 äººåŸç‰ˆæ¸¸æˆè”æœºã€‚å†…å­˜å ç”¨50%ä»¥ä¸Šï¼ŒCPUå ç”¨ä¸è·‘å›¾æ—¶ 5</del>20% ï¼Œè·‘å›¾æ—¶90%ä»¥ä¸Šã€‚ï¼ˆç¨³å®šï¼‰</li><li>æ’ä»¶æœ &#x2F; å°å‹MODæœï¼Œå‹‰å¼ºèƒ½å¼€ï¼Œä¸èƒ½ä¿è¯ç¨³å®šæ€§ã€‚</li></ul></li><li>4æ ¸8Gï¼š<ul><li>åŸç‰ˆåå‡ äººæµç•…è¿è¡Œï¼Œæ€§èƒ½å……è£•ã€‚ï¼ˆæµç•…ï¼‰å¯ä»¥ç¨³å®šè¿è¡Œæ’ä»¶æœåŠ¡å’Œéƒ¨åˆ†MODï¼Œä¸€äº›åƒå†…å­˜çš„å¤§å‹MODå¯èƒ½éœ€è¦æ›´é«˜çš„è¿è¡Œå†…å­˜ï¼Œå¤§å®¶æ ¹æ®è‡ªå·±è¦åŠ å…¥çš„MODè‡ªè¡Œè°ƒæ•´å³å¯ã€‚</li></ul></li></ul><p>ä»¥ä¸‹çš„å†…å®¹éƒ½æ˜¯æ ¹æ®<code>Linux CentOS</code>ä¸ºä¾‹ï¼Œå…¶ä½™ç‰ˆæœ¬æŒ‡ä»¤ç•¥æœ‰ä¸åŒã€‚</p><h2 id="é€‰æ‹©MCæœåŠ¡ç«¯"><a href="#é€‰æ‹©MCæœåŠ¡ç«¯" class="headerlink" title="é€‰æ‹©MCæœåŠ¡ç«¯"></a>é€‰æ‹©MCæœåŠ¡ç«¯</h2><ul><li>åŸç‰ˆï¼š<a href="https://mcversions.net/">MCVersions.net - Minecraft Versions Download List</a><ul><li>åœ¨æœ€å·¦ä¾§çš„ï¼ˆStable Releasesï¼‰ç¨³å®šç‰ˆï¼Œæ‰¾åˆ°è‡ªå·±éœ€è¦çš„MCç‰ˆæœ¬è¿›è¡Œä¸‹è½½ã€‚</li></ul></li><li>æ’ä»¶ç‰ˆï¼ˆPaperï¼‰ï¼š<a href="https://papermc.io/downloads/all">Build explorer | PaperMC</a><ul><li>æ‰¾åˆ°å¯¹åº”MCç‰ˆæœ¬ä¸‹è½½å³å¯ã€‚</li></ul></li><li>MODç‰ˆï¼ˆForgeï¼‰ï¼š<a href="https://files.minecraftforge.net/net/minecraftforge/forge/">Downloads for Minecraft Forge for Minecraft 1.20.1</a><ul><li>æ‰¾åˆ°å¯¹åº”MCç‰ˆæœ¬ä¸‹è½½å³å¯ã€‚</li></ul></li></ul><h2 id="é…ç½®æœåŠ¡å™¨javaç¯å¢ƒ"><a href="#é…ç½®æœåŠ¡å™¨javaç¯å¢ƒ" class="headerlink" title="é…ç½®æœåŠ¡å™¨javaç¯å¢ƒ"></a>é…ç½®æœåŠ¡å™¨javaç¯å¢ƒ</h2><h3 id="é…ç½®æ“ä½œæœåŠ¡å™¨ç¯å¢ƒ"><a href="#é…ç½®æ“ä½œæœåŠ¡å™¨ç¯å¢ƒ" class="headerlink" title="é…ç½®æ“ä½œæœåŠ¡å™¨ç¯å¢ƒ"></a>é…ç½®æ“ä½œæœåŠ¡å™¨ç¯å¢ƒ</h3><p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨SSHå·¥å…·è¿æ¥æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‚å•†è‡ªå¸¦ï¼Œå®å¡”é¢æ¿ï¼ŒXShellï¼ŒFinalShellâ€¦</p><p>å¦‚æœä½ æ²¡æœ‰æœåŠ¡å™¨ä½¿ç”¨çš„çŸ¥è¯†çš„è¯æ¨èå®‰è£…å®å¡”é¢æ¿ï¼Œæ–¹ä¾¿åç»­ä¸Šä¼ æ–‡ä»¶ç­‰å„ç§æ“ä½œã€‚</p><ul><li>å®å¡”é¢æ¿ï¼š<a href="https://www.bt.cn/new/index.html?invite_code=M19mdGxxdWg=">å®å¡”é¢æ¿ - ç®€å•å¥½ç”¨çš„Linux&#x2F;WindowsæœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿ (bt.cn)</a><ul><li>å¤§å®¶å¯ä»¥ä½¿ç”¨å®å¡”é¢æ¿<strong>å®˜ç½‘ä¸Šçš„è¿œç¨‹å®‰è£…</strong>æˆ–è€…ä½¿ç”¨å‘½ä»¤å®‰è£…ã€‚</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ä¸€ä¸‹åŠè‡ªå·±æœåŠ¡å™¨Linuxçš„ç‰ˆæœ¬é€‰æ‹©å¯¹åº”æŒ‡ä»¤å®‰è£…å³å¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># **Centoså®‰è£…è„šæœ¬**</span></span><br><span class="line">yum install -y wget &amp;&amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec</span><br><span class="line"></span><br><span class="line"><span class="comment"># **Ubuntu/Deepinå®‰è£…è„šæœ¬**</span></span><br><span class="line">wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh ed8484bec</span><br><span class="line"></span><br><span class="line"><span class="comment"># **Debianå®‰è£…è„šæœ¬**</span></span><br><span class="line">wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh ed8484bec</span><br><span class="line"></span><br><span class="line"><span class="comment"># **ä¸‡èƒ½å®‰è£…è„šæœ¬**</span></span><br><span class="line"><span class="keyword">if</span> [ -f /usr/bin/curl ];<span class="keyword">then</span> curl -sSO https://download.bt.cn/install/install_panel.sh;<span class="keyword">else</span> wget -O install_panel.sh https://download.bt.cn/install/install_panel.sh;<span class="keyword">fi</span>;bash install_panel.sh ed8484bec</span><br></pre></td></tr></table></figure><h3 id="ä¸‹è½½JDK"><a href="#ä¸‹è½½JDK" class="headerlink" title="ä¸‹è½½JDK"></a>ä¸‹è½½JDK</h3><p>ç°åœ¨MC1.20.1çš„ç‰ˆæœ¬å·²ç»éœ€è¦Java18åŠæ›´é«˜çš„Javaç‰ˆæœ¬äº†ã€‚</p><ul><li>JDKï¼š<a href="https://www.oracle.com/java/technologies/downloads/">Java Downloads | Oracle</a> ï¼ˆJavaå…¨ç‰ˆæœ¬ä¸‹è½½ï¼‰<ul><li>æˆ‘ä»¬é€‰æ‹©å¥½å¯¹åº”çš„JDKç‰ˆæœ¬åæ‰¾åˆ°æœåŠ¡å™¨å¯¹åº”çš„linuxç‰ˆæˆ–è€…windowsç‰ˆä¸‹è½½å³å¯ã€‚</li><li>Linuxç‰ˆJDK20ä¸‹è½½ï¼š<a href="https://download.oracle.com/java/20/latest/jdk-20_linux-x64_bin.tar.gz">https://download.oracle.com/java/20/latest/jdk-20_linux-x64_bin.tar.gz</a> (<a href="https://download.oracle.com/java/20/latest/jdk-20_linux-x64_bin.tar.gz.sha256">sha256</a>)</li></ul></li></ul><h3 id="é…ç½®Javaç¯å¢ƒ"><a href="#é…ç½®Javaç¯å¢ƒ" class="headerlink" title="é…ç½®Javaç¯å¢ƒ"></a>é…ç½®Javaç¯å¢ƒ</h3><blockquote><p>å¤§å®¶ä½¿ç”¨å®å¡”é¢æ¿æ“ä½œå³å¯</p></blockquote><p>ï¼ˆ1ï¼‰è¿›å…¥ç›®å½•<code>/usr/local</code>ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹<code>java</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"><span class="built_in">mkdir</span> java</span><br></pre></td></tr></table></figure><p>ï¼ˆ21ï¼‰å°†æˆ‘ä»¬ä¸‹è½½å¥½çš„<code>JDK</code>ä¸Šä¼ åˆ°è¯¥ç›®å½•ã€‚</p><ul><li>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>scp</code>å‘½ä»¤ã€‚</li></ul><p>ï¼ˆ3ï¼‰è§£å‹<code>JDK</code>å‹ç¼©åŒ…ã€‚</p><p>ï¼ˆ4ï¼‰ç¼–è¾‘<code>/etc/profile</code>æ–‡ä»¶ï¼Œå°†ä¸€ä¸‹å†…å®¹ç²˜è´´åˆ°æ–‡ä»¶æœ«å°¾ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=/usr/local/java/ä½ çš„jdkæ–‡ä»¶åç§°</span><br><span class="line">CLASSPATH=.:$JAVA_HOME/lib.tools.jar</span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">export JAVA_HOME CLASSPATH PATH</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰æ‰§è¡ŒæŒ‡ä»¤<code>source /etc/profile</code>åˆ·æ–°æˆ‘ä»¬æ›´æ”¹çš„é…ç½®ã€‚</p><p>ï¼ˆ6ï¼‰æ‰§è¡ŒæŒ‡ä»¤<code>java -version</code>ï¼Œå¦‚æœèƒ½æˆåŠŸçœ‹åˆ°javaçš„ç‰ˆæœ¬ä¿¡æ¯åˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p><h2 id="é…ç½®MCæœåŠ¡ç«¯"><a href="#é…ç½®MCæœåŠ¡ç«¯" class="headerlink" title="é…ç½®MCæœåŠ¡ç«¯"></a>é…ç½®MCæœåŠ¡ç«¯</h2><h3 id="åŸç‰ˆ"><a href="#åŸç‰ˆ" class="headerlink" title="åŸç‰ˆ"></a>åŸç‰ˆ</h3><p>ï¼ˆ1ï¼‰åœ¨æœåŠ¡å™¨<code>/www</code>ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹<code>mc</code>ã€‚</p><p>ï¼ˆ2ï¼‰æŠŠæˆ‘ä»¬ä¸‹è½½å¥½çš„åŸç‰ˆMCæœåŠ¡ç«¯ä¸Šä¼ åˆ°æ”¹æ–‡ä»¶å¤¹ã€‚</p><p>ï¼ˆ3ï¼‰ç¼–å†™æ‰§è¡Œè„šæœ¬ï¼Œä¸ç„¶å‘½ä»¤å¤ªé•¿æ‰“å­—ç´¯ã€‚</p><p>æ–°å»º<code>run.sh</code>æ–‡ä»¶ã€‚</p><ul><li>1&#x2F;2æ ¸2GæœåŠ¡å™¨ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">java -Xms1024m -Xmx1536m -jar /root/mc/server.jar nogui</span><br></pre></td></tr></table></figure><ul><li>2æ ¸4GæœåŠ¡å™¨ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">java -Xms1024m -Xmx3072m -jar /root/mc/server.jar nogui</span><br></pre></td></tr></table></figure><ul><li>4æ ¸8GæœåŠ¡å™¨ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">java -Xms2048m -Xmx7168m -jar /root/mc/server.jar nogui</span><br></pre></td></tr></table></figure><p>å‚æ•°ä»‹ç»ï¼š</p><ul><li>-Xms: åˆå§‹å¯åŠ¨åˆ†é…çš„å†…å­˜ã€‚</li><li>-Xmx: æœ€å¤§åˆ†é…çš„å†…å­˜(æŒ‰æœåŠ¡å™¨é…ç½®æ¥è®¾ç½®)ã€‚</li><li>nogui: ç”¨äºä»¥åŸºäºæ–‡æœ¬çš„ç•Œé¢æ¥æ˜¾ç¤ºï¼Œå¯å‡å°‘å†…å­˜ä½¿ç”¨ã€‚</li><li>&#x2F;www&#x2F;mc&#x2F;server.jar: æˆ‘ä»¬ä¸‹è½½çš„MCæœåŠ¡ç«¯çš„æ‰€åœ¨ä½ç½®ã€‚</li></ul><p>ï¼ˆ4ï¼‰æ‰§è¡Œç¼–å†™å¥½çš„è„šæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./run.sh</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰åŒæ„EULAåè®®ã€‚</p><p>ç¬¬ä¸€æ¬¡æ‰§è¡Œéƒ½ä¼šæŠ¥é”™ï¼Œéœ€è¦æˆ‘ä»¬åŒæ„EULAåè®®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°MCæœåŠ¡ç«¯ç›®å½•ä¸‹ç”Ÿæˆäº†<code>eula.text</code>æ–‡ä»¶ã€‚</p><p>æŠŠå…¶ä¸­çš„<code>eula=false</code>æ”¹ä¸º<code>eula=true</code>å³å¯ã€‚</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">#</span>By changing the setting below to TRUE you are indicating your agreement to our EULA (https://aka.ms/MinecraftEULA).</span><br><span class="line"><span class="params">#</span>Sat Sep 09 18:08:24 CST 2023</span><br><span class="line">eula=true</span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰ä¿®æ”¹æœåŠ¡ç«¯é…ç½®ã€‚</p><p>æˆ‘ä»¬éœ€è¦ç¼–å†™<code>server.properties</code>æ–‡ä»¶ã€‚</p><p>è¿™é‡Œåˆ—å‡ºéƒ¨åˆ†å†…å®¹ï¼Œå…¶ä»–é…ç½®è¯·å¤§å®¶è‡ªè¡ŒæŸ¥é˜…ï¼Œæˆ‘ä»¬åªéœ€è¦ç•™æ„<code>gamemode</code>ï¼Œ<code>difficulty</code>ï¼Œ<code>pvp</code>ï¼Œ<code>online-mode</code>å³å¯ã€‚</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Minecraft server properties</span></span><br><span class="line"><span class="comment">#Thu Jul 15 20:03:18 CST 2021</span></span><br><span class="line"><span class="attr">allow-nether</span>=<span class="string">true #æ˜¯å¦å…è®¸è¿›å…¥åœ°ç‹±</span></span><br><span class="line"><span class="attr">gamemode</span>=<span class="string">survival #æ¸¸æˆæ¨¡å¼ survivalç”Ÿå­˜ creativeåˆ›é€  adventureå†’é™©</span></span><br><span class="line"><span class="attr">difficulty</span>=<span class="string">easy #éš¾åº¦ peacefulå’Œå¹³ easyç®€å• normalä¸­ç­‰ hardå›°éš¾</span></span><br><span class="line"><span class="attr">spawn-monsters</span>=<span class="string">true #æ˜¯å¦ç”Ÿæˆæ€ªç‰©</span></span><br><span class="line"><span class="attr">op-permission-level</span>=<span class="string">4 #opæƒé™ç­‰çº§</span></span><br><span class="line"><span class="attr">pvp</span>=<span class="string">true #æ˜¯å¦å¯ç”¨ç©å®¶äº’ç›¸ä¼¤å®³</span></span><br><span class="line"><span class="attr">hardcore</span>=<span class="string">false #æ˜¯å¦å¼€å¯æé™æ¨¡å¼</span></span><br><span class="line"><span class="attr">max-players</span>=<span class="string">20 #æœ€å¤§ç©å®¶æ•°</span></span><br><span class="line"><span class="attr">server-port</span>=<span class="string">25565 #æœåŠ¡å™¨å¯åŠ¨ç«¯å£</span></span><br><span class="line"><span class="attr">view-distance</span>=<span class="string">10 #è§†è·</span></span><br><span class="line"><span class="attr">white-list</span>=<span class="string">false #æ˜¯å¦å¯ç”¨ç™½åå•ï¼Œå¯ç”¨ååªæœ‰ç™½åå•ç”¨æˆ·èƒ½è¿›å…¥æœåŠ¡å™¨</span></span><br><span class="line"><span class="attr">online-mode</span>=<span class="string">true #æ˜¯å¦è¿æ¥æ­£ç‰ˆéªŒè¯ï¼Œå¼€å¯ååªæœ‰æ­£ç‰ˆç©å®¶èƒ½è¿›å…¥ï¼Œå¯ä»¥æ˜¾ç¤ºçš®è‚¤ã€‚å¼€ç›—ç‰ˆæœè¯·æ”¹ä¸ºfalse</span></span><br><span class="line"><span class="attr">max-build-height</span>=<span class="string">256 #æœ€é«˜å»ºç­‘é«˜åº¦</span></span><br><span class="line"><span class="attr">level-seed</span>= <span class="string">#åœ°å›¾ç§å­</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ7ï¼‰å†æ¬¡å¯åŠ¨æœåŠ¡å™¨ï¼Œè¿è¡Œ<code>run.sh</code>ã€‚</p><p>å‡ºç° Successfully çš„æ—¶å€™å°±è¯´æ˜è¿è¡ŒæˆåŠŸå•¦ã€‚</p><p>ï¼ˆ8ï¼‰å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼Œå¯ä»¥åœ¨<code>server.properties</code>æ–‡ä»¶ä¸­çœ‹åˆ°MCæœåŠ¡ç«¯è¿è¡Œçš„ç«¯å£ã€‚</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server-port</span>=<span class="string">25565 #é»˜è®¤ä¸º 25565 æ— ç‰¹æ®Šéœ€æ±‚æ— éœ€æ”¹åŠ¨</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦åœ¨<code>å®å¡”é¢æ¿=&gt;å®‰å…¨</code>é‡Œé¢æ”¾è¡Œè¯¥ç«¯å£ï¼Œå¹¶ä¸”åœ¨å¯¹åº”çš„æœåŠ¡å™¨å‚å•†æ§åˆ¶å°æ”¾è¡Œè¯¥ç«¯å£ã€‚</p><p>ï¼ˆ9ï¼‰å°è¯•è¿›å…¥æœåŠ¡å™¨ã€‚</p><p>æœåŠ¡å™¨åœ°å€æ˜¯<code>å…¬ç½‘ip:ç«¯å£å·</code>ã€‚</p><p>å…¬ç½‘ipå¯ä»¥åœ¨æœåŠ¡å™¨å‚å•†çš„æ§åˆ¶é¢æ¿é‚£é‡Œçœ‹åˆ°ã€‚</p><p>æˆ‘ä»¬ä¸‹è½½è·ŸæœåŠ¡ç«¯å¯¹åº”çš„MCç‰ˆæœ¬çš„å®¢æˆ·ç«¯ä¹‹åï¼Œç›´æ¥è¿›å…¥ï¼Œå°±æˆåŠŸåŠ å…¥æœåŠ¡å™¨å•¦ï¼ä½†æ˜¯å½“æˆ‘ä»¬å…³é—­ç»ˆç«¯åæœåŠ¡å™¨å°±ä¼šåœæ­¢è¿è¡Œï¼Œåé¢ä¼šä»‹ç»å¦‚ä½•åœ¨æœåŠ¡å™¨åå°24å°æ—¶ä¸é—´æ–­è¿è¡Œã€‚</p><h3 id="æ’ä»¶ç‰ˆ"><a href="#æ’ä»¶ç‰ˆ" class="headerlink" title="æ’ä»¶ç‰ˆ"></a>æ’ä»¶ç‰ˆ</h3><p>ï¼ˆ1ï¼‰~ï¼ˆ9ï¼‰æ­¥ä¸åŸç‰ˆæ­¥éª¤åŸºæœ¬ä¸€è‡´ï¼Œä¸åŒçš„æ˜¯æˆ‘ä»¬æ˜¯éœ€è¦ä¸Šä¼ æˆ‘ä»¬ä¸‹è½½å¥½çš„å¯¹åº”çš„paperæœåŠ¡ç«¯ç‰ˆæœ¬ã€‚</p><p>å¦‚æœè¦åŠ å…¥æ’ä»¶çš„è¯å¤§å®¶å¯ä»¥å°†ç°åœ¨å¥½çš„æ’ä»¶ä¸Šä¼ è‡³<code>plugins</code>æ–‡ä»¶å¤¹ï¼Œé‡å¯æœåŠ¡ç«¯å°±å¯ä»¥æˆåŠŸåŠ è½½æ’ä»¶äº†ã€‚</p><h3 id="MODç‰ˆæœ¬"><a href="#MODç‰ˆæœ¬" class="headerlink" title="MODç‰ˆæœ¬"></a>MODç‰ˆæœ¬</h3><p>ï¼ˆ1ï¼‰Modç‰ˆæ­¥éª¤ä¸åŸç‰ˆä¸åŒï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶ä¸Šä¼ <code>forge</code>çš„æœåŠ¡ç«¯ä¸MCå¯¹åº”çš„åŸç‰ˆæœåŠ¡ç«¯ï¼Œä¹Ÿå°±æ˜¯å¦‚æœåŸç‰ˆæ˜¯<code>1.20.1</code>ï¼Œæˆ‘ä»¬çš„forgeå¯¹åº”ä¹Ÿéœ€è¦ä¸‹è½½å¹¶ä¸Šä¼ å¯¹åº”çš„<code>1.20.1</code>ç‰ˆæœ¬ã€‚</p><p>ï¼ˆ2ï¼‰ç„¶åæ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ä¸‹è½½<code>forge</code>å¯åŠ¨éœ€è¦çš„æ–‡ä»¶ï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar forge-xxxx-xxxx-installer.jar nogui --installServer</span><br></pre></td></tr></table></figure><ul><li><code>forge-xxxx-xxxx-installer.jar</code>ä¸ºä½ ä¸‹è½½çš„<code>forge</code>åŒ…åç§°ã€‚</li></ul><p>ï¼ˆ3ï¼‰å¯åŠ¨<code>forge</code>æœåŠ¡ç«¯ã€‚</p><p>forgeç‰ˆæœ¬ä¸åŒï¼Œå¯åŠ¨æ–¹å¼ä¸åŒï¼Œå¦‚æœæ–‡ä»¶åŠ ä¸­å‡ºç°<code>run.sh</code>ï¼Œæˆ‘ä»¬ç›´æ¥æ‰§è¡Œå³å¯è¿è¡Œï¼Œå¦‚æœæ˜¯ä½ç‰ˆæœ¬forgeä¼šå‡ºç°ä¸€ä¸ª<code>forge-xxxx-xxxx.jar</code>ï¼Œå°±æ˜¯forgeçš„å¯åŠ¨åŒ…ï¼Œæˆ‘ä»¬ä»¿ç…§åŸç‰ˆçš„æ­¥éª¤ï¼ˆ3ï¼‰ç¼–å†™ä¸€ä¸ªå¯åŠ¨è„šæœ¬å³å¯ã€‚</p><p>å…¶ä½™æ­¥éª¤å°±æ˜¯åŸç‰ˆçš„ï¼ˆ5ï¼‰~ï¼ˆ9ï¼‰æ­¥éª¤å•¦ã€‚</p><p>â›„MODå¯ä»¥åœ¨è¿™é‡Œæ‰¾ï¼š<a href="https://www.mcmod.cn/">MCç™¾ç§‘|æœ€å¤§çš„Minecraftä¸­æ–‡MODç™¾ç§‘ (mcmod.cn)</a></p><h2 id="æœåŠ¡ç«¯åœ¨åå°ä¸é—´æ–­è¿è¡Œ"><a href="#æœåŠ¡ç«¯åœ¨åå°ä¸é—´æ–­è¿è¡Œ" class="headerlink" title="æœåŠ¡ç«¯åœ¨åå°ä¸é—´æ–­è¿è¡Œ"></a>æœåŠ¡ç«¯åœ¨åå°ä¸é—´æ–­è¿è¡Œ</h2><p>æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªscreenå¸®æˆ‘ä»¬å®Œæˆè¿™ä¸ªæ“ä½œã€‚</p><p>ï¼ˆ1ï¼‰å®‰è£…Screenã€‚</p><ul><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install screen -y</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰æ–°å»ºä¸€ä¸ªScreenã€‚</p><ul><li>è¿™ä¸ªæŒ‡ä»¤çš„ä½œç”¨å°±æ˜¯æ–°å»ºä¸€ä¸ªå«MCçš„é¢æ¿ï¼ŒMCå¯ä»¥æ›¿æ¢ï¼Œéšä¾¿èµ·åå­—ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -S MC</span><br></pre></td></tr></table></figure><ul><li>ç„¶åæˆ‘ä»¬å°±è¿›å…¥äº†é¢æ¿ã€‚</li></ul><p>è¿›å…¥åˆ°æˆ‘ä»¬æœåŠ¡ç«¯çš„æ–‡ä»¶å¤¹å¯åŠ¨æœåŠ¡ç«¯ï¼Œå¯åŠ¨ä¹‹åæˆ‘ä»¬é”®ç›˜ä¸Š ctrl + A + D å°±å¯ä»¥é€€å‡ºé¢æ¿ã€‚æˆ‘ä»¬å¯ä»¥è¿›å…¥ä¸€ä¸‹æœåŠ¡å™¨å¯ä»¥å‘ç°æˆ‘ä»¬çš„æœåŠ¡ç«¯è¿˜æ˜¯åœ¨è¿è¡Œä¸­çš„ğŸ˜€ã€‚</p><p>ï¼ˆ3ï¼‰é‡æ–°è¿›å…¥é¢æ¿ã€‚</p><ul><li>æˆ‘ä»¬éœ€è¦äº†è§£ä»¥ä¸‹æŒ‡ä»¤ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰ screen é¢æ¿</span></span><br><span class="line"><span class="comment"># åˆ—å‡ºåçš„æ ¼å¼ [id].[name]</span></span><br><span class="line"><span class="comment"># nameæ˜¯æˆ‘ä»¬çš„é¢æ¿åç§°</span></span><br><span class="line"><span class="comment"># idæ˜¯éšæœºåˆ†é…çš„å”¯ä¸€id</span></span><br><span class="line">screen -<span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥é¢æ¿</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬å¯ä»¥é‡æ–°è¿›å…¥é¢æ¿è¿›è¡Œæ“ä½œ</span></span><br><span class="line">screen -r [<span class="built_in">id</span>/name]</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬çš„æœåŠ¡å™¨å°±å¯ä»¥24å°æ—¶ä¸é—´æ–­çš„è¿è¡Œå•¦ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¯¹æœåŠ¡å™¨è¿›è¡Œæ“ä½œçš„è¯é‡æ–°è¿›å…¥é¢æ¿å³å¯ã€‚</p><blockquote><p>â›„ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ï¼Œå¯ä»¥æ„‰å¿«çš„å’Œå°ä¼™ä¼´ä¸€èµ·æ„‰å¿«çš„ç©è€å•¦ã€‚</p><p>ğŸ‡(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§ã€‚</p><p>ğŸ‘å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯è®°å¾—ç‚¹èµã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»ç‚¹æ»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> Minecraft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€é›ªäººæ—¥è®°ã€‘ä¸çŸ¥ä¸è§‰é—´ï¼Œå·²å…¥å¤§ä¸‰~</title>
      <link href="/2023/07/24/diary/2023-7-24/"/>
      <url>/2023/07/24/diary/2023-7-24/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="add9f2c7d606823d10b4ce3fbd0a50d8d968c7f971ce2a537550e6f674599a0e">470d40a13319dd5202c7e8667eadc5c9dff3ccb84d4bcff22c717d465e98526a3aef0124637f4316ef35591b77e4dddf6f63108a0166f3787c9213b2b39d33fd179b4d265038d1eb54a9302472a43eee9f46a314448ab43ee3945d56e714ce9125fcb43c37a02e33231ea94f51f4c06322f8a37a04dc7963b6d66e22c4b3aed3fe77ec2e8398c07afc3a68a34c2923d1beb8a7fb22e19ae62f1718f3cb45f628319949e5abfdf528ef2d1cf6f041785faea04c024ec69b3dafdee7eb77215f601523eb6c7fa989edc800d8329b704357effb30da1d040621bfe52bf5e475e8bdbed33a36e6b204cd7acb08c3319fc614175fececdada9c758f57e305d499ea073d144966d9ab65cdcb9036e7befdce0590a808510d1996a8be5be41300bb5191cc5235e47da6ad92f8ec310110b55b32ad0e01c9233a23dc62a5826fb67575c18277acb4d3a65dada26b105b39bd6233cb4da60de2cb954066ac7678be012f9faf9847cc1ca3cb10dd28c616b65f49d2071118c6ddedb1fb082e8a9fd2f65bc117acf9c4dafae963ba14f4e07c3b69113faebea12488e7deb52f8b43ba3129bdd76bb7dea8f3931870273cf641f0816f03b25051baffb169473d3e1e61b901b480aa821e6682ccab939a161a1d3436a088a1ed4c0e32c67913db5fc3db12ea028066bd4b325e42744d5689abe4173596c16bb847f70e09b88ee9a528fddabb98d0213c87a99ddd7f66faa46ee86da7b3f24aea89525524c2ede98adb9e90569b31aa25afb8ec9ec49b419376a22bac50f137a70fff6221640b9c9ad180ecf03f448c1188fa17d584828933f8084a7c03c8eb48d8f77aa7acf8153d0eabee9f7ab351930bae5fe39975be778946659bc75e06d351f85974a635ca790d0b0adbae1270eb05120b60c20752108007d296ff8c5ca709309cad916bb056a2755d7542e003499e0249d21bb78eb7bf9dfc132f38b0f36177ca978397693c835a75b199e76eb38ab0498de9104419335c3a671a76c497f6b34a0592debfa50ff591168187658340bc8a75aa876efda17426a80b2e70c75da4fcf114a6f724a28662cc782dc501f8f9f3d9dee719739d56c42e9059fc96bf16d2d3d8c3ec6ddc5e35ed26b982d560bf1e8086c09b24e4980f698fadc8c70208fe49dc251bafaff3c1842fddb308e0ce06dcd17643ac0443d8bf665b9639be1bffe61df89507a56bc07b11571d8c50920227027f0f32b49cd15617ad1e8ac70822b23e49f4be65e5f882b1c25255e6c9a77414a2384e55753053a5ef1194bb4fefab56e3d9c5cd5e85bb64eea21e0e628a59fcd9ea6a3cfa84e181bd7875613f085bd129595b95509a5df5793e6e45296840f9c677eede62a739ed230a378f12a5fdcbcc12bcd119fc58ca3d8c525a4b6155c77fb243b4583e454e228d6b7d30c751f7b0e2f47e07dc8be49ecd4d2478fabe098202b559b9e83bad237a8ed7cbd15985ce8f05f92de8de90ad6980c52d5195d9655cea9b03ecd73f635b06035192f494ef2406dd38c37b0242467f1ecd97ad8ccc313c2f607db0276feddecc9e2be9e7c1862857a0e9fb730d16395f12577b6297e6f5eda292fb4b5e072266da2e79fd65de608800c49349a36fb69c2de3d8195e4d43d410286e31890e312b3b8983dc6f3a4791f8b86331e97fcc7a8849d7a4a506f34a7421b0f5f6a8ccd0aee641120c1400064cc1afa8c07303e7d5e72aef80a8d0e50c1dd1edb016d3a5a486305130c04e9391ae208c190ff7865cf9c7b643a3388699e01c993362d93346d726510d24308d56f99d2968ae3b2837c6c26270454128b388aff965eb8d3ca13e95cfca89be9eaefbe387ddb5fea7b4ddfc3b83db89982ef0d8fffdca1a27baa77d0036209d50ce954b29a341b361f259e3cdbaf2455ee0934f1631e118dfa301a2c0661a691c97e91c917a9a322664da6d940f03e161d56203a01f89973daf32d8e8d564527b6455d00b3445809083fdbe75a6a9a0d43d837964bcaa83f36b999b26e3875251a92a26d9600e44b99a3d6ea1ca517a84715fba73b90b579434671b548837ce259004808ad46aa5c38ed5c950b2a6a915f38b8e3692c5584d42c26e5f4a2d8cbb40b658cce51b8d8bafd999af4c1e36d75e597201367a1f674280a189bf66c4378e0a61de6ebf1a7fa915c88a5c8d353014b2397d6c182a0f1552e3982cb52e5a3af2850ec676c79d185e1da8915335089d0e5453d19f54439049f3f5a790b5bdead19de59b0e0844da1ac37ae902f7a1e5599fd9159482f0238be26d5589594df9f1acc668c0bc9d67c13da63c8a42d3db0ace29f923030c6d84f5bf30efea1a527200ff8eaa0a8f5b760533dcaea8bc1b31c74994a9b84606167b5b9bedd1b5755c1cb3465b924df16828d74115258a6c068a2e948d30f8d877dc707f4d4e998a1bc6a7e2edfb3df9e928cf56514ed979bd69342da342a3808149be795ef52b5fd4c09bfb3899afe45d8b9f24a22d025bc2ea97fe5f8458e39df2e847e55ebe4e7b348d33533efa83ee76b1f880c2fa24117e9fd551c20fc2d3c9d134c79477a62e93393d5df72f0d43ef178c8515c917dbcd12dd07ee1b6217466572fbf7fca6042cf30c7286dbd1c2dc36fd48c1d1756cfebf0dfec7e21fcf48abed05091195475762307a6744baac333d980c2101f1d12608a7ba9598e3ff41529f1e490a2c9ca2281579a368874930876a313dc048cba27fc5d31d8ed21563121e3f4cd59607529e242395f1fec38fd50e649187c3fd15a6185b4aa4e861037ae7c0d9168564b027b3217f75d1da5dbecb9669b7a82254c9ef52ac39b4c4622b97dca2efdf5b6a0a20f8e5f75e0b23bd32f8d70252f4d9a1fc18eaf6b1d7eabdcc9d3746de089c4ffa1eb376261a2a1b19405854ce1faed4050d2b64683d66a80e26d83b70790e6d5491f57fc4fc4400b36dffda75416fc0a9636e13ef51b015c0d317c661c133831e4e1bce3b777771d920d6b2ae084781fe208c1a23048a4dd1fe6f80bcb2a296323a60dc4bcc812558300c7bc167967fab33abc1b77050d29d8fc1d8543df8e2809c077976bd966743c3d3fe91591cc93779ab3366b47c24299202b7f931461a66833e6068e2ddcc0c1ed90a18e76ebf2a94c406c3079047f6243e4c7e2d67b9</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">è¯¥æ–‡ç« éœ€è¦å¯†ç </span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é›ªäººæ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é›ªäººæ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ·±æ‹·è´çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿå•¦ï¼</title>
      <link href="/2023/06/07/JavaScriptDeepClone/"/>
      <url>/2023/06/07/JavaScriptDeepClone/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScriptæ·±æ‹·è´ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿå•¦ï¼"><a href="#JavaScriptæ·±æ‹·è´ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿå•¦ï¼" class="headerlink" title="JavaScriptæ·±æ‹·è´ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿå•¦ï¼"></a>JavaScriptæ·±æ‹·è´ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿå•¦ï¼</h1><blockquote><p>å¤§å®¶å¥½æˆ‘æ˜¯é›ªäººâ›„</p><p>æœ€è¿‘é¢è¯•çš„æ—¶å€™è¢«é—®åˆ°äº†æ·±æ‹·è´ï¼Œæˆ‘è‡ªä¿¡æ»¡æ»¡çš„å†™å‡ºäº†ä½¿ç”¨JSONçš„å¿«æ·æ–¹æ³•ï¼Œä¸é€’å½’æ·±æ‹·è´æ–¹æ³•(åªå†™äº†åŸºç¡€ç‰ˆçš„æ‹·è´å¯¹è±¡)ã€‚ç„¶åâ€¦</p><p>é¢è¯•å®˜ï¼šå¦‚æœä¼ å…¥çš„æ˜¯Mapå‘¢ï¼Ÿâ›„ï¼šé‚£å¯ä»¥åˆ¤æ–­ä¸€ä¸‹ï¼ŒåŠ ä¸€ä¸ª clone Map çš„ã€‚</p><p>é¢è¯•å®˜ï¼šå¦‚æœä¼ å…¥çš„æ˜¯Setå‘¢ï¼Ÿâ›„ï¼šé‚£å¯ä»¥åˆ¤æ–­ä¸€ä¸‹ï¼ŒåŠ ä¸€ä¸ª clone Set çš„ã€‚</p><p>é¢è¯•å®˜ï¼šå¦‚æœä¼ å…¥çš„æ˜¯Date RegExp Functionå‘¢ï¼Ÿâ›„ï¼šå—¯ï¼Ÿ</p><p>é¢è¯•å®˜ï¼šå¦‚æœ Obj ä¸­å«æœ‰ Symbol ä¸º key çš„å‘¢ï¼Ÿâ›„ï¼šå—¯ï¼Ÿå—¯ï¼Ÿå—¯ï¼Ÿ</p><p>é¢è¯•å®˜ï¼šå¦‚æœæœ‰å¾ªç¯å¼•ç”¨æ€ä¹ˆåŠï¼Ÿ â›„ï¼šâ˜ğŸ¤¡ğŸ‘ˆ</p><p>æˆ‘ç›´æ¥å‘†ä½ğŸ˜³ï¼Œè¿™ç¡®å®æ²¡çœ‹è¿‡ğŸ¤¡ï¼Œç—›å®šæ€ç—›ï¼Œç«é€Ÿè¡¥ä¹ äº†ä¸€æ³¢ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚</p></blockquote><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p>åœ¨å®ç°æ·±æ‹·è´ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹JSçš„æ•°æ®ç±»å‹ï¼Œä¸€å…±æœ‰ä¸¤å¤§ç±»ã€‚</p><ul><li><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼šnumberï¼Œstringï¼Œbooleanï¼Œundefinedï¼Œnullï¼Œsymbolï¼Œbigint</li><li><strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼šobjectï¼Œfunctionï¼Œarrayï¼Œmapï¼Œsetç­‰..ï¼ˆéƒ½æ˜¯å¯¹è±¡ï¼‰</li></ul><p>é‚£ä¹ˆä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>åŸºæœ¬æ•°æ®ç±»å‹åœ¨èµ‹å€¼çš„æ—¶å€™ä¼šç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆåœ°å€å»å­˜æ”¾ï¼Œæ”¹å˜å€¼çš„æ—¶å€™ä¹Ÿæ˜¯ç›´æ¥æ”¹å˜è¿™ä¸ªæ ˆä¸­çš„å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> b = a</span><br><span class="line">b = <span class="number">11</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 11</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¼•ç”¨æ•°æ®ç±»å‹æ˜¯å­˜æ”¾åœ¨å †ä¸­çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å˜é‡æ˜¯ä¸€ä¸ªå­˜æ”¾åœ¨æ ˆä¸­çš„â€œæŒ‡é’ˆâ€ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å †ä¸­çš„åœ°å€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = a</span><br><span class="line">b.<span class="property">value</span> = <span class="number">11</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// &#123;value:11&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// &#123;value:11&#125;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°å¦‚æœæ˜¯å¼•ç”¨æ•°æ®ç±»å‹æ”¹å˜ b çš„å€¼ a çš„å€¼åŒæ ·è¢«æ”¹å˜ï¼Œä½†æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ä¸ä¼šï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åˆšåˆšè¯´åˆ°çš„å †å’Œæ ˆçš„é—®é¢˜ã€‚</p><h2 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h2><p>äº†è§£äº†æ•°æ®ç±»å‹çš„çŸ¥è¯†åï¼Œæˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šåšä¸€äº›æ›´æ”¹ï¼Œè·ŸåŸå¯¹è±¡åšå¯¹æ¯”å±•ç¤ºï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°æ·±æ‹·è´å¾—åˆ°ä¸€ä¸ªæ–°çš„å¯¹è±¡æ”¹å˜ä»–æ‰ä¸ä¼šæ”¹å˜åŸå¯¹è±¡å•¦ã€‚</p><p>åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥è¿”å›å³å¯ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†ã€‚</p><p>å¼•ç”¨æ•°æ®ç±»å‹æˆ‘ä»¬ä¹Ÿæåˆ°ï¼Œæœ‰å¾ˆå¤šç§ï¼šæ™®é€šçš„ Objectï¼Œæ­£åˆ™å¯¹è±¡RegExpï¼ŒArrayï¼ŒMapï¼ŒSetï¼ŒDateï¼ŒArrayï¼ŒFunctionã€‚æˆ‘ä»¬éœ€è¦åˆ†ç±»å¤„ç†ï¼Œä¸åŒçš„å¼•ç”¨æ•°æ®ç±»å‹æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ï¼Œæ¥ä¸‹æ¥å°±ç»™å¤§å®¶å®ç°ä¸€ä¸‹ã€‚</p><h3 id="æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹"><a href="#æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹"></a>æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹</h3><ul><li>æˆ‘ä»¬å…ˆå°è£…ä¸€ä¸ªæ–¹æ³•ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œä¾¿äºä¹‹åä½¿ç”¨ã€‚</li><li>ä½¿ç”¨ typeof åˆ¤æ–­çš„åªæœ‰æ—¶å€™ object æˆ–è€… function æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ³¨æ„ nullï¼Œ<code>typeof null == object</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ª <code>target !== null</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isObject</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">typeof</span> target === <span class="string">&#x27;object&#x27;</span> &amp;&amp; target !== <span class="literal">null</span> ) || <span class="keyword">typeof</span> target === <span class="string">&#x27;function&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h3><ul><li>åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥è¿”å›å³å¯</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isObject</span>(target)) <span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Date-RegExp"><a href="#Date-RegExp" class="headerlink" title="Date RegExp"></a>Date RegExp</h3><ul><li>æ—¥æœŸå¯¹è±¡å’Œæ­£åˆ™å¯¹è±¡å¯ä»¥å°†å…¶ä¼ å…¥å¯¹åº”çš„æ„é€ å™¨é‡æ–°æ„é€ </li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">   <span class="keyword">if</span>([<span class="title class_">Date</span>, <span class="title class_">RegExp</span>].<span class="title function_">includes</span>(target.<span class="property">constructor</span>)) <span class="keyword">return</span> <span class="keyword">new</span> target.<span class="title function_">constructor</span>(<span class="params">target</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><ul><li>å‡½æ•°æˆ‘ä»¬ä¹Ÿéœ€è¦ç”¨åˆ°å‡½æ•°çš„æ„é€ å‡½æ•°ğŸ˜‚</li></ul><p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä½¿ç”¨æ„é€ å‡½æ•°æ„é€ å‡ºçš„å‡½æ•°æ˜¯ä»€ä¹ˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fun = <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;return 1&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fun.<span class="title function_">toString</span>())</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">function anonymous(</span></span><br><span class="line"><span class="comment">) &#123;</span></span><br><span class="line"><span class="comment">return 1</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥å‘ç°æ„é€ å‡ºçš„å‡½æ•°å°±æ˜¯å°†æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²å¥—è¿›ä¸€ä¸ªåŒ¿åå‡½æ•°ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä¹ˆå°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ„é€ å‡½æ•°å»æ·±æ‹·è´ä¸€ä¸ªå«å‡½æ•°</p><p>ä½†æ˜¯è¢« clone çš„å‡½æ•° toString åä¹Ÿæœ‰ä¸€ä¸ª function å…³é”®å­—ï¼ŒåµŒå¥—è¿›åŒ¿åå‡½æ•°é‡Œé¢æ€ä¹ˆèƒ½ç”¨å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥åŠ ä¸€ä¸ª return è®©åŒ¿åå‡½æ•°æŠŠæˆ‘ä»¬è¦æ‹·è´çš„å‡½æ•°è¿”å›å‡ºå»ğŸ˜€ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªåŒ¿åå‡½æ•°å°±å¯ä»¥å¾—åˆ°æ–°çš„è¢«å…‹éš†çš„å‡½æ•°å•¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;return &#x27;</span> + target.<span class="title function_">toString</span>())()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Map-Set"><a href="#Map-Set" class="headerlink" title="Map Set"></a>Map Set</h3><ul><li>Map Set æˆ‘ä»¬ç›´æ¥ä½¿ç”¨è¿­ä»£å™¨éå†åˆ›å»ºå³å¯ï¼Œé‡åˆ° value ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ç»§ç»­é€’å½’è°ƒç”¨æˆ‘ä»¬çš„æ·±æ‹·è´å‡½æ•°</li><li>è¿™é‡Œç”¨åˆ°äº† clone å‡½æ•°ï¼Œåé¢æˆ‘ä»¬ä¼šè®²è§£å°è£…ï¼Œå¤§å®¶å…ˆç†è§£ä¸ºé€’å½’è°ƒç”¨æ·±æ‹·è´å¼•ç”¨æ•°æ®ç±»å‹å³å¯ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Map å¯¹è±¡ä½¿ç”¨è¿­ä»£å™¨è¿­ä»£</span></span><br><span class="line">    <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Map</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> newMap = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> [key, val] <span class="keyword">of</span> target) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">isObject</span>(val)) newMap.<span class="title function_">set</span>(key, <span class="title function_">clone</span>(val))</span><br><span class="line">            <span class="keyword">else</span> newMap.<span class="title function_">set</span>(key, val)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newMap</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set å¯¹è±¡ä½¿ç”¨è¿­ä»£å™¨è¿­ä»£</span></span><br><span class="line">    <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Set</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> newSet = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> val <span class="keyword">of</span> target) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">isObject</span>(val)) newSet.<span class="title function_">add</span>(<span class="title function_">clone</span>(val))</span><br><span class="line">            <span class="keyword">else</span> newSet.<span class="title function_">add</span>(val)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newSet</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><ul><li>Arrayä¹Ÿæ˜¯ç›´æ¥éå†å³å¯ï¼Œé‡åˆ°å¼•ç”¨æ•°æ®ç±»å‹ç›´æ¥é€’å½’è°ƒç”¨æ·±æ‹·è´</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Array ç›´æ¥éå†å³å¯</span></span><br><span class="line">    <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> n = target.<span class="property">length</span></span><br><span class="line">        <span class="keyword">let</span> newArray = <span class="keyword">new</span> <span class="title class_">Array</span>(n)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">            <span class="keyword">const</span> item = target[i]</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">isObject</span>(item)) newArray[i] = <span class="title function_">clone</span>(item)</span><br><span class="line">            <span class="keyword">else</span> newArray[i] = item</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newArray</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><ul><li>æ™®é€š Object æˆ‘ä»¬è¦è€ƒè™‘ä»¥ string å’Œ symbol ä¸º key å€¼çš„ä¸¤ç§æƒ…å†µï¼Œæ‰€ä»¥è¦ä½¿ç”¨ <code>Reflect.ownKeys</code> è·å– key å€¼ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„èƒ½å¾—åˆ°æ‰€æœ‰ key å€¼ã€‚</li><li>é‡åˆ° key ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ç»§ç»­é€’å½’è°ƒç”¨ é‡åˆ°</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Object å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// è€ƒè™‘ symbol ä¸ string ä¸º key</span></span><br><span class="line">    <span class="keyword">const</span> keys = <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(target)</span><br><span class="line">    <span class="keyword">let</span> newObj = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">        <span class="keyword">const</span> val = target[key]</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isObject</span>(val)) newObj[key] = <span class="title function_">clone</span>(val)</span><br><span class="line">        <span class="keyword">else</span> newObj[key] = val</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¾ªç¯å¼•ç”¨"><a href="#å¾ªç¯å¼•ç”¨" class="headerlink" title="å¾ªç¯å¼•ç”¨"></a>å¾ªç¯å¼•ç”¨</h3><p>åœ¨ Object å¯¹è±¡ä¸­æˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚æˆ‘ä»¬çœ‹ä¸€çœ‹ä»¥ä¸‹ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123;</span><br><span class="line">    <span class="attr">a</span>: a</span><br><span class="line">&#125;</span><br><span class="line">a.<span class="property">b</span> = b</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ç§æƒ…å†µ a å’Œ b å¾ªç¯å¼•ç”¨ï¼Œæˆ‘ä»¬æ·±æ‹·è´çš„æ—¶å€™å°±ä¼šä¸æ–­é€’å½’ a å’Œ b æœ€åå¯¼è‡´æ ˆæº¢å‡ºç„¶åæŠ¥é”™ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ WeakMap æ¥å°† clone è¿‡çš„å¯¹æƒ³ä¿å­˜ å·²ç»å­˜åœ¨åœ¨ WeakMap ä¸­çš„å¯¹è±¡å°±æ— éœ€å†æ¬¡ clone ç›´æ¥è¿”å›ç»“æŸé€’å½’å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// é˜²æ­¢å¾ªç¯å¼•ç”¨å¯¼è‡´æ ˆæº¢å‡º weakMapå¯ä»¥é˜²æ­¢å†…å­˜æ³„æ¼</span></span><br><span class="line">    <span class="comment">// éœ€è¦ä¸€ä¸ªå…¨å±€å˜é‡æ¥ä¿å­˜ è¿™é‡Œæˆ‘ä»¬å†å°è£…ä¸€ä¸ª clone å‡½æ•°è¿›è¡Œæ·±æ‹·è´ åˆ›å»ºé—­åŒ…</span></span><br><span class="line">    <span class="keyword">const</span> hashMap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>()</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">clone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è€ƒè™‘å¾ªç¯å¼•ç”¨é—®é¢˜ å¦‚æœè¯¥å¯¹è±¡å·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span> (hashMap.<span class="title function_">has</span>(target)) <span class="keyword">return</span> hashMap.<span class="title function_">get</span>(target)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="comment">// Object ä¿å­˜åœ¨ weakMap ä¸­ é˜²æ­¢ä¹‹åçš„å¾ªç¯å¼•ç”¨</span></span><br><span class="line">        hashMap.<span class="title function_">set</span>(target, newObj)</span><br><span class="line">        <span class="keyword">return</span> newObj</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æœ€åå†è¿”å›è°ƒç”¨ä¸€ä¸‹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">clone</span>(target)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€ç»ˆä»£ç "><a href="#æœ€ç»ˆä»£ç " class="headerlink" title="æœ€ç»ˆä»£ç "></a>æœ€ç»ˆä»£ç </h2><p>æœ€ç»ˆä»£ç å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="comment">// é˜²æ­¢å¾ªç¯å¼•ç”¨å¯¼è‡´æ ˆæº¢å‡º weakMapå¯ä»¥é˜²æ­¢å†…å­˜æ³„æ¼</span></span><br><span class="line">    <span class="keyword">const</span> hashMap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isObject</span>(<span class="params">target</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">typeof</span> target == <span class="string">&#x27;object&#x27;</span> &amp;&amp; target!==<span class="literal">null</span> || <span class="keyword">typeof</span> target == <span class="string">&#x27;function&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸»è¦ clone å‡½æ•°</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">clone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">        <span class="comment">// éå¼•ç”¨æ•°æ®ç±»å‹ç›´æ¥è¿”å›å³å¯</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_">isObject</span>(target)) <span class="keyword">return</span> target</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è€ƒè™‘å¾ªç¯å¼•ç”¨é—®é¢˜ å¦‚æœè¯¥å¯¹è±¡å·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span> (hashMap.<span class="title function_">has</span>(target)) <span class="keyword">return</span> hashMap.<span class="title function_">get</span>(target)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Date ä¸ RegExp å¯¹è±¡å¯ç›´æ¥ä½¿ç”¨æ„é€ å™¨æ„å»º</span></span><br><span class="line">        <span class="keyword">if</span> ([<span class="title class_">Date</span>, <span class="title class_">RegExp</span>].<span class="title function_">includes</span>(target.<span class="property">constructor</span>))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> target.<span class="title function_">constructor</span>(<span class="params">target</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Function å¯ä»¥ä½¿ç”¨æ„é€ å™¨æ„é€ </span></span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Function</span>(<span class="string">&#x27;return &#x27;</span> + target.<span class="title function_">toString</span>())()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Map å¯¹è±¡ä½¿ç”¨è¿­ä»£å™¨è¿­ä»£</span></span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Map</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> newMap = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">const</span> [key, val] <span class="keyword">of</span> target) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="title function_">isObject</span>(val)) newMap.<span class="title function_">set</span>(key, <span class="title function_">clone</span>(val))</span><br><span class="line">                <span class="keyword">else</span> newMap.<span class="title function_">set</span>(key, val)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> newMap</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Set å¯¹è±¡ä½¿ç”¨è¿­ä»£å™¨è¿­ä»£</span></span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Set</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> newSet = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">const</span> val <span class="keyword">of</span> target) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="title function_">isObject</span>(val)) newSet.<span class="title function_">add</span>(<span class="title function_">clone</span>(val))</span><br><span class="line">                <span class="keyword">else</span> newSet.<span class="title function_">add</span>(val)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> newSet</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Array æ•°ç»„ä½¿ç”¨è¿­ä»£å™¨è¿­ä»£</span></span><br><span class="line">        <span class="keyword">if</span> (target <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> n = target.<span class="property">length</span></span><br><span class="line">            <span class="keyword">let</span> newArray = <span class="keyword">new</span> <span class="title class_">Array</span>(n)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">                <span class="keyword">const</span> item = target[i]</span><br><span class="line">                <span class="keyword">if</span> (<span class="title function_">isObject</span>(item)) newArray[i] = <span class="title function_">clone</span>(item)</span><br><span class="line">                <span class="keyword">else</span> newArray[i] = item</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> newArray</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Object å¯¹è±¡</span></span><br><span class="line">        <span class="comment">// è€ƒè™‘ symbol ä¸ string ä¸º key</span></span><br><span class="line">        <span class="keyword">const</span> keys = <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(target)</span><br><span class="line">        <span class="keyword">let</span> newObj = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">            <span class="keyword">const</span> val = target[key]</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">isObject</span>(val)) newObj[key] = <span class="title function_">clone</span>(val)</span><br><span class="line">            <span class="keyword">else</span> newObj[key] = val</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Object ä¿å­˜åœ¨ weakMap ä¸­ é˜²æ­¢ä¹‹åçš„å¾ªç¯å¼•ç”¨</span></span><br><span class="line">        hashMap.<span class="title function_">set</span>(target, newObj)</span><br><span class="line">        <span class="keyword">return</span> newObj</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">clone</span>(target)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·å¸®æˆ‘ç‚¹ä¸ªèµå§ğŸ˜€</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> æ•°æ®ç±»å‹ </tag>
            
            <tag> æ·±æ‹·è´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</title>
      <link href="/2023/03/27/sv3-template/4-increaseEfficiency/"/>
      <url>/2023/03/27/sv3-template/4-increaseEfficiency/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡-ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿-ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ"><a href="#ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡-ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿-ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ" class="headerlink" title="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ"></a>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</h1><blockquote><p>Helloå¤§å®¶å¥½æˆ‘æ˜¯â›„ï¼Œä¹‹å‰æˆ‘ä»¬å·²ç»é…ç½®äº†è„šæ‰‹æ¶éœ€è¦å…·å¤‡çš„åŸºæœ¬åŠŸèƒ½ï¼šä»£ç å°è£…ï¼Œå›¢é˜Ÿåä½œè§„èŒƒç­‰ã€‚ä½†æ˜¯å¯èƒ½æˆ‘ä»¬æœ‰å…¶ä»–çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æƒ³å¿«é€Ÿç”Ÿæˆå‡ ä¸ªåŸºç¡€çš„ç»„ä»¶æ¨¡æ¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Plopæˆ–è€…ä½¿ç”¨æ–‡ä»¶å†™å…¥å®ç°ã€‚æ¯”å¦‚æˆ‘ä»¬ä¸æƒ³ç­‰åç«¯åŒå­¦çš„æ¥å£ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨mockæ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆã€‚</p><ul><li><strong>GitHub</strong>ï¼š<a href="https://github.com/LonelySnowman/sv3-template">LonelySnowman&#x2F;sv3-template</a></li><li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://sv3-docs.snowhouse.space/">SV3-Family | Vue3</a></li></ul></blockquote><ul><li>å‰ç½®çŸ¥è¯†ï¼šVueå…¨å®¶æ¡¶ï¼Œäº†è§£Viteæˆ–WebPackç­‰æ„å»ºå·¥å…·ï¼ŒNode.js</li><li>æ‚¨å°†æ”¶è·åˆ°ï¼šä»é›¶åˆ°ä¸€æ„å»ºä¸€ä¸ªè§„èŒƒçš„ Vue3+TS+Vite è„šæ‰‹æ¶</li></ul><h2 id="é…ç½®-plop"><a href="#é…ç½®-plop" class="headerlink" title="é…ç½® plop"></a>é…ç½® plop</h2><ul><li>æƒ³ä¸€æƒ³å¹³æ—¶æˆ‘ä»¬æ˜¯å¦‚ä½•æ–°å»ºä¸€ä¸ªç»„ä»¶çš„ï¼Œå³é”®-&gt;æ–°å»ºæ–‡ä»¶-&gt;å‘½åæ–‡ä»¶-&gt;ç¼–å†™ç»„ä»¶ä»£ç ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œç”Ÿæˆæ–‡ä»¶ï¼Œå¹¶ä¸”è¿™äº›ç»„ä»¶éƒ½ä¼šç¼–å†™ä¸€äº›é‡å¤çš„å†…å®¹ï¼Œè¿™äº›å†…å®¹åœ¨æ–°å»ºæ—¶å°±å…·å¤‡ï¼Œæˆ‘ä»¬å¹³å¸¸å¯èƒ½å°±ç›´æ¥<code>ctrl+c</code>ã€<code>ctrl+v</code>ï¼Œè¿˜æ˜¯æœ‰ä¸€ç‚¹ç¹ççš„ğŸ˜“ã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•èƒ½å¿«é€Ÿç”Ÿæˆå„ç§ç»„ä»¶çš„æ¨¡æ¿å‘¢ï¼Ÿæ¥ä¸‹æ¥å°±è¦ç”¨åˆ°æˆ‘ä»¬çš„<code>plop</code>å•¦ğŸ˜€ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç”Ÿæˆå¼€å‘æ¨¡æ¿ï¼Œæé«˜æ•ˆç‡ã€‚</li><li><strong>plopæ˜¯ä¸€ç§â€œå¾®å‹ç”Ÿæˆå™¨æ¡†æ¶â€</strong>ã€‚ è¿™æ˜¯å› ä¸ºå®ƒæä¾›äº†ä¸€ç§å¿«é€Ÿç”Ÿæˆä»£ç æˆ–å…¶ä»–æ–‡æœ¬æ–‡ä»¶çš„ä¾¿æ·æ–¹å¼ï¼ŒåŒæ—¶åˆä¿æŒäº†å¾ˆå°çš„ä½“ç§¯ã€‚æˆ‘ä»¬æ€»æ˜¯åœ¨ä»£ç ä¸­åˆ›å»ºä¸åŒçš„ç»“æ„å’Œæ¨¡å¼ï¼Œå¦‚è·¯ç”±ã€æ§åˆ¶å™¨ã€ç»„ä»¶ã€å·¥å…·ç±»ç­‰ã€‚è¿™äº›æ¨¡å¼ä¼šéšç€æ—¶é—´çš„å˜åŒ–ä¸æ–­åœ°è¢«æ”¹å˜å’Œä¼˜åŒ–ï¼Œæ‰€ä»¥å½“ä½ æƒ³è¦å»åˆ›å»ºä¸€ä¸ªæ–°çš„å·²ç»å­˜åœ¨çš„æ¨¡ç‰ˆæ—¶ï¼Œä½ å¾ˆéš¾åœ¨ä½ çš„é¡¹ç›®&#x2F;ä»£ç ä¸­æ‰¾åˆ°å¯¹äºå½“å‰éœ€è¦åˆ›å»ºçš„æ¨¡æ¿çš„æœ€ä½³å®è·µï¼Œè¿™æ—¶å€™å°±è½®åˆ° plop å¤§å±•èº«æ‰‹äº†ã€‚ä½¿ç”¨ plop, ä½ èƒ½å¤Ÿéšæ—¶åœ¨é¡¹ç›®ä¸­æ›´æ–°æŸç§ç‰¹å®šä»£ç æ¨¡å¼çš„æœ€ä½³å®è·µï¼Œä½ åªéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­é”®å…¥ plop å°±èƒ½å¿«é€Ÿåœ°è¿è¡Œä»£ç ã€‚è¿™ä¸ä»…èƒ½é¿å…ä»æ•´ä¸ªä»£ç åº“ä¸­å¯»æ‰¾æœ€ä½³æ¨¡æ¿ç„¶åå¤åˆ¶çš„è¿‡ç¨‹ï¼Œè€Œä¸”åˆèƒ½æ­£ç¡®é«˜æ•ˆåœ°åˆ›å»ºæ–‡ä»¶ã€‚</li><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://plopjs.com/documentation/">Learning to Plop : PLOP (plopjs.com)</a></li></ul><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D plop</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™å‘½ä»¤è¡Œäº¤äº’"><a href="#ç¼–å†™å‘½ä»¤è¡Œäº¤äº’" class="headerlink" title="ç¼–å†™å‘½ä»¤è¡Œäº¤äº’"></a>ç¼–å†™å‘½ä»¤è¡Œäº¤äº’</h3><ul><li>æ¥ä¸‹æ¥ä»¥æ–°å»ºä¸€ä¸ª<code>vue</code>ç»„ä»¶çš„æ¨¡æ¿ä¸ºä¾‹</li><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾å¼€å‘æ¨¡æ¿çš„æ–‡ä»¶<code>plop-templates</code></li><li>å†æ–°å»ºä¸€ä¸ª<code>component</code>æ–‡ä»¶å¤¹ä»£è¡¨è¿™é‡Œé¢å­˜æ”¾å¼€å‘ç»„ä»¶çš„æ¨¡æ¿</li><li>åœ¨<code>component</code>ä¸­æ–°å»º<code>index.hbs</code>ç¼–å†™æ–‡ä»¶æ¨¡æ¿ï¼Œ<code>prompt.js</code>ç¼–å†™äº¤äº’é€»è¾‘</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|plop-templates</span><br><span class="line">|components</span><br><span class="line">|index.hbs</span><br><span class="line">|prompt.js</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨<code>prompt.js</code>ä¸­ç¼–è¾‘äº¤äº’é€»è¾‘å•¦</p><p>æˆ‘ä»¬éœ€è¦åœ¨è¯¥æ¨¡å—å¯¼å‡ºä¸€ä¸ªé…ç½®é¡¹ï¼Œä¸»è¦éœ€è¦é…ç½®ä¸‰ä¸ªå†…å®¹</p><ul><li>descriptionï¼šè¯¥æ¨¡æ¿çš„åç§°</li><li>promptsï¼šè¯¥æ¨¡æ¿éœ€è¦çš„å‚æ•°</li><li>actionsï¼šæ‰§è¡Œåéœ€è¦è¿›è¡Œçš„æ“ä½œ</li></ul><p>å…·ä½“è¯¦æƒ…å¯ä»¥çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå‡å·²åŠ å…¥è¯¦ç»†æ³¨é‡Š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥ä¾¿äºæˆ‘ä»¬éªŒè¯é—®ä»·å¤¹ä¸­æ˜¯å¦å­˜åœ¨é‡åæ–‡ä»¶çš„å·¥å…·å‡½æ•°ï¼Œåé¢æœ‰è¯¦ç»†ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> verifyFileExist = <span class="built_in">require</span>(<span class="string">&#x27;../utils&#x27;</span>);</span><br><span class="line"><span class="comment">// å¼•å…¥æˆ‘ä»¬éœ€è¦åˆ›å»ºè¯¥æ¨¡æ¿åˆ°è¾¾çš„åŸºç¡€è·¯å¾„ä½ç½®</span></span><br><span class="line"><span class="keyword">const</span> baseFile = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;../../src/views&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">   <span class="comment">// ç¼–å†™å¯¹æ¨¡æ¿ä»¶çš„æè¿°</span></span><br><span class="line">   <span class="attr">description</span>: <span class="string">&#x27;åˆ›å»ºç»„ä»¶&#x27;</span>,</span><br><span class="line">   <span class="comment">// ç¼–å†™å‘½ä»¤è¡Œäº¤äº’é€»è¾‘ï¼Œå¯åœ¨å‘½åè¡Œä¸­è·å–å‚æ•°</span></span><br><span class="line">   <span class="attr">prompts</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="attr">name</span>: <span class="string">&#x27;componentName&#x27;</span>, <span class="comment">// è¯¥å‚æ•°çš„åç§° ä¹‹åå¯ä»¥ä½¿ç”¨ componentName è°ƒç”¨</span></span><br><span class="line">         <span class="attr">type</span>: <span class="string">&#x27;input&#x27;</span>, <span class="comment">// è¯¥å‚æ•°çš„ç±»å‹ input ä»£è¡¨è¾“å…¥</span></span><br><span class="line">         <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥é¡µé¢åç§°&#x27;</span>, <span class="comment">// è¯¥äº¤äº’çš„æç¤ºä¿¡æ¯</span></span><br><span class="line">         <span class="attr">validate</span>: <span class="function">(<span class="params">dirName</span>) =&gt;</span> &#123; <span class="comment">// ä¼ å…¥ä¸€å‡½æ•°å¯¹ç”¨æˆ·ä¼ å…¥çš„å‚æ•°è¿›è¡Œæ ¡éªŒ</span></span><br><span class="line">            <span class="keyword">if</span> (!dirName || dirName.<span class="property">trim</span> === <span class="string">&#x27;&#x27;</span>) &#123; <span class="comment">// éªŒè¯ç”¨æˆ·æ˜¯å¦è¾“å…¥</span></span><br><span class="line">               <span class="keyword">return</span> <span class="string">&#x27;ç»„ä»¶åç§°ä¸èƒ½ä¸ºç©º&#x27;</span>; <span class="comment">// è¿”å›å­—ç¬¦ä¸²æŠ¥é”™</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">verifyFileExist</span>(dirName, baseFile)) &#123; <span class="comment">// éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">               <span class="keyword">return</span> <span class="string">&#x27;ç»„ä»¶å·²ç»å­˜åœ¨&#x27;</span>; <span class="comment">// è¿”å›å­—ç¬¦ä¸²æŠ¥é”™</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// è¿”å› ture åˆ™ç»§ç»­æ‰§è¡Œ action</span></span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">   ],</span><br><span class="line">   <span class="comment">// ç¼–å†™æ¥æ”¶å®Œå‚æ•°åéœ€è¦æ‰§è¡Œçš„æ“ä½œ</span></span><br><span class="line">   <span class="attr">actions</span>: <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> basePath = path.<span class="title function_">join</span>(baseFile, <span class="string">`./<span class="subst">$&#123;data.pageName&#125;</span>`</span>);</span><br><span class="line">      <span class="comment">// æ–°å»ºä¸€ä¸ªç»„ä»¶æ–‡ä»¶å¤¹</span></span><br><span class="line">      fs.<span class="title function_">mkdirSync</span>(basePath);</span><br><span class="line">      <span class="comment">// æ–°å»ºä¸€ä¸ªç»„ä»¶æ–‡ä»¶å¤¹ä¸‹çš„é€šç”¨ç»„ä»¶æ–‡ä»¶å¤¹</span></span><br><span class="line">      fs.<span class="title function_">mkdirSync</span>(path.<span class="title function_">join</span>(baseFile, <span class="string">`./<span class="subst">$&#123;data.pageName&#125;</span>/components`</span>));</span><br><span class="line">       </span><br><span class="line">      <span class="comment">// æœ€åæˆ‘ä»¬éœ€è¦è¿”å›ä¸€ä¸ª actions</span></span><br><span class="line">      <span class="comment">// type ç”¨äºé…ç½®æ‰§è¡Œçš„æ“ä½œç±»å‹ add ä»£è¡¨æ–°å¢æ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// path ä»£è¡¨æ–°å»ºæ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">      <span class="comment">// templateFile ä»£è¡¨æˆ‘ä»¬ä½¿ç”¨çš„æ¨¡æ¿ ä¸‹æ–‡ä¼šæœ‰</span></span><br><span class="line">      <span class="keyword">const</span> actions = [</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;add&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>: path.<span class="title function_">join</span>(basePath, <span class="string">&#x27;index.vue&#x27;</span>),</span><br><span class="line">            <span class="attr">templateFile</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./index.hbs&#x27;</span>),</span><br><span class="line">         &#125;,</span><br><span class="line">      ];</span><br><span class="line">      <span class="keyword">return</span> actions;</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å› ä¸ºæ£€æµ‹ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨éœ€è¦ç»å¸¸ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†å…¶å°è£…æˆä¸€ä¸ªå‡½æ•°æŠ½ç¦»å‡ºæ¥ï¼Œåœ¨<code>plop-templates/utils.js</code>ä¸­ç¼–å†™ï¼š</p><ul><li>å°±æ˜¯ä¸€ä¸ªç®€å•çš„éªŒè¯å‡½æ•°ï¼Œå¤§å®¶æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯ç¼–å†™å³å¯</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">verifyFileExist</span>(<span class="params">dirName, dirPath, tail = <span class="string">&#x27;&#x27;</span></span>) &#123;</span><br><span class="line">   <span class="keyword">const</span> directories = fs.<span class="title function_">readdirSync</span>(dirPath);</span><br><span class="line">   <span class="keyword">return</span> directories.<span class="title function_">includes</span>(dirName + tail);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = verifyFileExist;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™å¼€å‘æ¨¡æ¿"><a href="#ç¼–å†™å¼€å‘æ¨¡æ¿" class="headerlink" title="ç¼–å†™å¼€å‘æ¨¡æ¿"></a>ç¼–å†™å¼€å‘æ¨¡æ¿</h3><p>æˆ‘ä»¬åœ¨<code>plop-templates/components/index.hbs</code>ä¸­ç¼–å†™ç»„ä»¶çš„æ¨¡æ¿ï¼š</p><p>æ¯ä¸€ä¸ªå­—ç¬¦éƒ½ä¼šè¢«å†™å…¥<code>actions</code>ä¸­è¿”å›çš„<code>path</code>ç›®æ ‡æ–‡ä»¶ä¸­ï¼Œåªæœ‰è¢«<strong>åŒå¤§æ‹¬å·åŒ…è£¹</strong>çš„å†…å®¹ä¼šè¢«è§£ææˆ<code>prompts</code>ä¼ å…¥çš„å‚æ•°ã€‚</p><p>ä¸‹é¢çš„ <code>properCase pageName</code> å°±æ˜¯è¡¨ç¤ºå†™å…¥ pageName å‚æ•° å¹¶ä¸”å°å†™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div&gt;</span><br><span class="line">     &#123;&#123; properCase pageName &#125;&#125;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">// typeScript</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">/* scss */</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="è°ƒç”¨æŒ‡ä»¤"><a href="#è°ƒç”¨æŒ‡ä»¤" class="headerlink" title="è°ƒç”¨æŒ‡ä»¤"></a>è°ƒç”¨æŒ‡ä»¤</h3><p>è¦ä½¿ç”¨æˆ‘ä»¬çš„å¼€å‘æ¨¡æ¿ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>plopfile.js</code>è¿›è¡Œé…ç½®ï¼Œè¯¦ç»†å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">plop</span>) &#123;</span><br><span class="line">   <span class="comment">// è®¾ç½®æ¬¢è¿è¯­</span></span><br><span class="line">   plop.<span class="title function_">setWelcomeMessage</span>(<span class="string">&#x27;è¯·é€‰æ‹©éœ€è¦åˆ›å»ºçš„æ¨¡æ¿&#x27;</span>);</span><br><span class="line">   <span class="comment">// è®¾ç½®é€‰æ‹©çš„ç”Ÿæˆå™¨æ¨¡æ¿</span></span><br><span class="line">   <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¯¹åº”åç§°</span></span><br><span class="line">   <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°ä¸º prompts çš„åœ°å€</span></span><br><span class="line">   plop.<span class="title function_">setGenerator</span>(<span class="string">&#x27;components&#x27;</span>, <span class="built_in">require</span>(<span class="string">&#x27;./plop-templates/page/prompt&#x27;</span>));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨<code>package.json</code>ä¸­é…ç½®ä¸€æ¡æŒ‡ä»¤ä¾¿äºæˆ‘ä»¬è°ƒç”¨</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;gen&quot;</span><span class="punctuation">:</span> <span class="string">&quot;plop&quot;</span></span><br><span class="line">   <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œè¯¥æŒ‡ä»¤å°±å¯ä»¥å¿«é€Ÿç”Ÿæˆæˆ‘ä»¬é…ç½®å¥½çš„æ¨¡æ¿å•¦ğŸ˜„ã€‚</p><p>ä»¥ä¸Šå†…å®¹ä¸ºä¸€ä¸ªç®€å•çš„å°ç¤ºä¾‹ï¼Œplop è¿˜æœ‰éå¸¸å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œå¤§å®¶å¯ä»¥å‰å¾€å®˜æ–¹æ–‡æ¡£æ¢ç´¢ï¼š<a href="https://plopjs.com/documentation/">Learning to Plop : PLOP (plopjs.com)</a></p><p>é¡¹ç›®é‡Œå·²ä¸ºå¤§å®¶é…ç½®å¥½äº†å„ç§</p><h2 id="é…ç½®-mock"><a href="#é…ç½®-mock" class="headerlink" title="é…ç½® mock"></a>é…ç½® mock</h2><ul><li>æƒ³æƒ³æˆ‘ä»¬å¹³æ—¶å¯¹æ¥æ¥å£æ˜¯æ€ä¹ˆåšçš„ï¼Œé¦–å…ˆå‰åç«¯ç¡®å®šå¥½æ¥å£ï¼Œè®©åç¡®å®šå¥½æ¥å£æ–‡æ¡£ã€‚å¦‚æœå·²ç»ç¼–å†™å¥½å‰ç«¯ä»£ç ï¼Œå°±å·®ä¸åç«¯å¯¹æ¥äº†ï¼Œåªèƒ½è‡ªå·±å‚»å‚»ç­‰å¾…ä¹ˆğŸ˜´ã€‚å½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mock å·¥å…·è¿›è¡Œæ•°æ®çš„æ¨¡æ‹Ÿï¼Œæå‰ç¼–å†™å¥½æ•°æ®å±•ç¤ºçš„å†…å®¹ï¼Œæœ€åå¯¹æ¥çš„æ—¶å€™å…³é—­ mock å³å¯ã€‚</li><li>mock å®ç°çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ vite å°±æœ‰ä¸€ä¸ªæ’ä»¶æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼š<code>vite-plugin-mock</code></li></ul><h3 id="å®‰è£…ä¾èµ–-1"><a href="#å®‰è£…ä¾èµ–-1" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D mockjs vite-plugin-mock</span><br></pre></td></tr></table></figure><h3 id="è¿”å›å†…å®¹é…ç½®"><a href="#è¿”å›å†…å®¹é…ç½®" class="headerlink" title="è¿”å›å†…å®¹é…ç½®"></a>è¿”å›å†…å®¹é…ç½®</h3><p>mock çš„ç¼–å†™æ–¹å¼éå¸¸éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ªæ•°ç»„å³å¯ã€‚</p><p>æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>mock</code>æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª<code>user.ts</code>ç”¨äºç”¨æˆ·ç™»å½•çš„æ•°æ®æ¨¡æ‹Ÿã€‚</p><p>é…ç½®æ–¹å¼ä¹Ÿæ˜¯éå¸¸çš„ç®€å•</p><ul><li>urlï¼šé…ç½®æ¥å£URLåœ°å€</li><li>methodï¼šé…ç½®æ¥å£çš„è¯·æ±‚æ–¹å¼</li><li>responseï¼šç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œç¼–å†™å¤„ç†é€»è¾‘ï¼Œå¹¶è¿”å›å“åº”çš„å†…å®¹ã€‚</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">MockMethod</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-mock&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="comment">// å‰é¢çš„ /mock ä¸º mock ç”Ÿæ•ˆéœ€è¦é…ç½®çš„æ ¹è·¯å¾„ åé¢ä¼šæåˆ°</span></span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/mock/api/login&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">      <span class="comment">// ä½¿ç”¨ body å¯ä»¥è·å–è¯·æ±‚ä½“</span></span><br><span class="line">      <span class="attr">response</span>: <span class="function">(<span class="params">&#123; body &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">         <span class="comment">// ç®€å•ç¼–å†™ä¸€ä¸ªé€»è¾‘</span></span><br><span class="line">         <span class="comment">// ç”¨æˆ·åä¸ç­‰äºå¯†ç å°±æ˜¯å¯†ç é”™è¯¯</span></span><br><span class="line">         <span class="keyword">if</span> (body.<span class="property">username</span> !== body.<span class="property">password</span>) &#123;</span><br><span class="line">            <span class="comment">// è¿”å›JSONä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">               <span class="attr">code</span>: <span class="number">1</span>,</span><br><span class="line">               <span class="attr">message</span>: <span class="string">&#x27;å¯†ç é”™è¯¯&#x27;</span>,</span><br><span class="line">               <span class="attr">data</span>: &#123;</span><br><span class="line">                  <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                  <span class="attr">roles</span>: [],</span><br><span class="line">                  <span class="attr">accessToken</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">               &#125;,</span><br><span class="line">            &#125;;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// å…¶ä½™çš„åˆ™æ˜¾ç¤ºç™»å½•æˆåŠŸ</span></span><br><span class="line">         <span class="keyword">if</span> (body.<span class="property">username</span> === <span class="string">&#x27;admin&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">               <span class="attr">code</span>: <span class="number">0</span>,</span><br><span class="line">               <span class="attr">message</span>: <span class="string">&#x27;ç™»å½•æˆåŠŸ&#x27;</span>,</span><br><span class="line">               <span class="attr">data</span>: &#123;</span><br><span class="line">                  <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span>,</span><br><span class="line">                  <span class="attr">roles</span>: [<span class="string">&#x27;admin&#x27;</span>],</span><br><span class="line">                  <span class="attr">accessToken</span>: <span class="string">&#x27;admin&#x27;</span>,</span><br><span class="line">               &#125;,</span><br><span class="line">            &#125;;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">               <span class="attr">code</span>: <span class="number">0</span>,</span><br><span class="line">               <span class="attr">message</span>: <span class="string">&#x27;ç™»å½•æˆåŠŸ&#x27;</span>,</span><br><span class="line">               <span class="attr">data</span>: &#123;</span><br><span class="line">                  <span class="attr">username</span>: <span class="string">&#x27;common&#x27;</span>,</span><br><span class="line">                  <span class="attr">roles</span>: [<span class="string">&#x27;common&#x27;</span>],</span><br><span class="line">                  <span class="attr">accessToken</span>: <span class="string">&#x27;common&#x27;</span>,</span><br><span class="line">               &#125;,</span><br><span class="line">            &#125;;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">   &#125;,</span><br><span class="line">] <span class="keyword">as</span> <span class="title class_">MockMethod</span>[];</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¯ç”¨-mock"><a href="#å¯ç”¨-mock" class="headerlink" title="å¯ç”¨ mock"></a>å¯ç”¨ mock</h3><p>å¯åŠ¨ mock éœ€è¦æˆ‘ä»¬é…ç½®ä¸€ä¸‹ vite</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ plugins æ•°ç»„ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®</span></span><br><span class="line">[</span><br><span class="line">      <span class="title function_">viteMockServe</span>(&#123;</span><br><span class="line">         <span class="comment">// å¦‚æœæ¥å£ä¸º /mock/xxx ä»¥ mock å¼€å¤´å°±ä¼šè¢«æ‹¦æˆªå“åº”é…ç½®çš„å†…å®¹</span></span><br><span class="line">         <span class="attr">mockPath</span>: <span class="string">&#x27;mock&#x27;</span>, <span class="comment">// æ•°æ®æ¨¡æ‹Ÿéœ€è¦æ‹¦æˆªçš„è¯·æ±‚èµ·å§‹ URL</span></span><br><span class="line">         <span class="attr">localEnabled</span>: <span class="literal">true</span>, <span class="comment">// æœ¬åœ°å¼€å‘æ˜¯å¦å¯ç”¨</span></span><br><span class="line">         <span class="attr">prodEnabled</span>: <span class="literal">false</span>, <span class="comment">// ç”Ÿäº§æ¨¡å¼æ˜¯å¦å¯ç”¨</span></span><br><span class="line">      &#125;),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬æ‰€æœ‰ä»¥ mock å¼€å¤´çš„æ¥å£éƒ½ä¼šæˆä¸ºæˆ‘ä»¬ä½¿ç”¨ mock æ¨¡æ‹Ÿçš„è¿”å›æ•°æ®</p><h3 id="å…³é—­-mock"><a href="#å…³é—­-mock" class="headerlink" title="å…³é—­ mock"></a>å…³é—­ mock</h3><ul><li>å¦‚æœåç«¯åŒå­¦æ¥å£æµ‹è¯•å®Œæ¯•ï¼Œéœ€è¦æˆ‘ä»¬æ­£å¼å¯¹æ¥äº†ï¼Œæˆ‘ä»¬ä¸æƒ³å¯ç”¨ mock äº†è¯¥æ€ä¹ˆåŠï¼Œå¯ä»¥åœ¨ vite é…ç½®ä¸­å…³é—­ï¼Œä½†æˆ‘å–œæ¬¢ä½¿ç”¨<strong>ç¯å¢ƒå˜é‡</strong>é…ç½®mockçš„å¼€å…³</li></ul><p>ç¼–å†™<code>.env</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// åç«¯æ¥å£çš„æ ¹è·¯å¾„</span><br><span class="line">VITE_APP_API_BASEURL = /api</span><br><span class="line">// éœ€è¦æ¨¡æ‹Ÿçš„è¯·æ±‚æ ¹è·¯å¾„</span><br><span class="line">VITE_APP_MOCK_BASEURL = /mock/api</span><br></pre></td></tr></table></figure><p>ç¼–å†™<code>.env.development</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// é€‰æ‹© development æ¨¡å¼ä¸‹æ˜¯å¦å¼€å¯ mock</span><br><span class="line">VITE_APP_USE_MOCK = true</span><br></pre></td></tr></table></figure><p>ç¼–å†™<code>.env.production</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// é€‰æ‹© production æ¨¡å¼ä¸‹æ˜¯å¦å¼€å¯ mock</span><br><span class="line">VITE_APP_USE_MOCK = true</span><br></pre></td></tr></table></figure><p><strong>é…ç½® axios å…¨å±€è¯·æ±‚è·¯å¾„</strong></p><p>ä¹‹å‰æˆ‘ä»¬å·²ç»å°† axios å°è£…åœ¨ <code>src/utils/http/index.ts</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤æ ¹æ®ç¯å¢ƒå˜é‡é…ç½® axios çš„è¯·æ±‚è·¯å¾„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">service</span>: <span class="title class_">AxiosInstance</span> = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">   <span class="comment">// å¯ç”¨ mock å°±è¯·æ±‚ mock è·¯å¾„</span></span><br><span class="line">   <span class="comment">// ä¸å¯ç”¨ mock å°±è¯·æ±‚ æ­£å¸¸åç«¯è·¯å¾„</span></span><br><span class="line">   <span class="attr">baseURL</span>: <span class="title class_">Boolean</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_USE_MOCK</span>)</span><br><span class="line">      ? <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_MOCK_BASEURL</span></span><br><span class="line">      : <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_API_BASEURL</span>,</span><br><span class="line">   <span class="attr">timeout</span>: <span class="number">15000</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œæˆ‘ä»¬å¹¶ä¸éœ€é…ç½®åç«¯åœ°å€ï¼Œç»Ÿä¸€è¯·æ±‚ LocalHostã€‚æˆ‘ä»¬åªéœ€è¦å¼€å¯æœ¬åœ°ä»£ç†åœ¨ vite proxy ä¸­é…ç½®åç«¯åœ°å€å³å¯ï¼Œè¿™æ ·æ–¹ä¾¿ä¸€äº›ã€‚</p><p><strong>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è½»æ¾çš„é€‰æ‹©å¼€å…³ mock å•¦</strong>ğŸ˜€</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>æ¯ä¸ªäººçš„ä½¿ç”¨ä¹ æƒ¯ä¸åŒï¼Œè¿™é‡Œæä¾›äº†æˆ‘å¸¸ç”¨çš„æ–¹æ³•ä¾›å¤§å®¶å‚è€ƒï¼Œå¦‚æœ‰å…¶ä»–ä½¿ç”¨æ–¹æ³•æ¬¢è¿å¤§å®¶è®¨è®ºğŸ˜„ã€‚</p><p>ç»ˆäºæŠŠç¬¬å››èŠ‚æ›´æ–°å®Œå•¦ï¼Œä¸€ä¸ªæœ€åŸºç¡€çš„ Vue3+Vite+TS å‰ç«¯å¼€å‘è„šæ‰‹æ¶å°±æ­å»ºå®Œæˆäº†ï¼Œæ—¥åæŠ€æœ¯æ ˆæ›´æ–°ä¼šå¸®åŠ©å¤§å®¶æä¾›æ›´æ”¹å¥½çš„æ–¹æ¡ˆï¼Œå¤§å®¶å¯¹è¯¥é¡¹ç›®çš„æ„è§ä¹Ÿè¯·åŠæ—¶æŒ‡å‡ºï¼Œæˆ‘ä¼šæ±²å–å¤§å®¶çš„æ„è§ä¸æ–­å­¦ä¹ å¹¶æ›´æ–°ã€‚</p><p><strong>ç³»åˆ—æ–‡ç« </strong>ï¼š</p><ul><li><a href="https://juejin.cn/post/7207615983950987320">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„ Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href="https://juejin.cn/post/7209542304863649852">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£… é™ä½è€¦åˆåº¦ å°è£… axios pinia router</a></li><li><a href="https://juejin.cn/post/7213310111623725117">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</a></li><li><a href="https://juejin.cn/post/7214759986802294844">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</a></li><li><a href="https://juejin.cn/post/7300460850011521078">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</a></li></ul><p><strong>å‚è€ƒå­¦ä¹ é¡¹ç›®</strong>ï¼š</p><ul><li><a href="https://github.com/tobe-fe-dalao/fast-vue3">fast-vue3</a></li><li><a href="https://github.com/pure-admin/vue-pure-admin">vue-pure-admin</a></li></ul><blockquote><p>å¦‚æœæœ‰ä»»ä½•ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡æ­£ï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ã€‚</p><p>æ›´æ–‡ä¸æ˜“ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ‘</p><p>å…³æ³¨æˆ‘ï¼Œåç»­æ–‡ç« ä¸è¿·è·¯â›„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæ‰‹æ¶ </tag>
            
            <tag> mock </tag>
            
            <tag> plop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</title>
      <link href="/2023/03/27/sv3-template/3-standardCode/"/>
      <url>/2023/03/27/sv3-template/3-standardCode/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt-ESLint-Prettier-StyleLint-LintStaged"><a href="#ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt-ESLint-Prettier-StyleLint-LintStaged" class="headerlink" title="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged"></a>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</h1><blockquote><p>Helloå¤§å®¶å¥½æˆ‘æ˜¯â›„ï¼Œå‰ä¸¤èŠ‚æ•™å¤§å®¶å¦‚ä½•åˆå§‹åŒ–ä¸€ä¸ªè„šæ‰‹æ¶é¡¹ç›®ä»¥åŠå¦‚ä½•å°è£…VueæŠ€æœ¯æ ˆå¸¸ç”¨çš„å·¥å…·åº“ã€‚æœ¬å°èŠ‚æ•™å¤§å®¶å¦‚ä½•å‘æˆ‘ä»¬çš„è„šæ‰‹æ¶ä¸­é…ç½®ESLintã€Prettierã€StyleLintã€LintStageã€‚å¸®åŠ©å¤§å®¶è§„èŒƒé¡¹ç›®ä»£ç ï¼Œèƒ½å¤Ÿæ›´å¥½çš„è¿›è¡Œå›¢é˜Ÿåä½œå¼€å‘ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š</p><ul><li><strong>GitHub</strong>ï¼š<a href="https://github.com/LonelySnowman/sv3-template">LonelySnowman&#x2F;sv3-template</a></li><li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://sv3-docs.snowhouse.space/">SV3-Family | Vue3</a></li></ul></blockquote><ul><li>å‰ç½®çŸ¥è¯†ï¼šVueå…¨å®¶æ¡¶ï¼Œäº†è§£Viteæˆ–WebPackç­‰æ„å»ºå·¥å…·ï¼ŒNode.js</li><li>æ‚¨å°†æ”¶è·åˆ°ï¼šä»é›¶åˆ°ä¸€æ„å»ºä¸€ä¸ªè§„èŒƒçš„ Vue3+TS+Vite è„šæ‰‹æ¶</li></ul><h2 id="é…ç½®-ESLint"><a href="#é…ç½®-ESLint" class="headerlink" title="é…ç½® ESLint"></a>é…ç½® ESLint</h2><ul><li><p><strong>ESLint</strong> æ˜¯ä¸€ä¸ªç”¨æ¥è¯†åˆ« <strong>ECMAScript</strong> å¹¶ä¸”æŒ‰ç…§è§„åˆ™ç»™å‡ºæŠ¥å‘Šçš„ä»£ç æ£€æµ‹å·¥å…·ï¼Œä½¿ç”¨å®ƒå¯ä»¥é¿å…ä½çº§é”™è¯¯å’Œç»Ÿä¸€ä»£ç çš„é£æ ¼ã€‚å®ƒæ‹¥æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>æŸ¥å‡º JavaScript ä»£ç è¯­æ³•é—®é¢˜ã€‚</li><li>æ ¹æ®é…ç½®çš„è§„åˆ™ï¼Œæ ‡è®°ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç ã€‚</li><li>è‡ªåŠ¨ä¿®å¤ä¸€äº›ç»“æ„ã€é£æ ¼é—®é¢˜ã€‚</li></ul></li><li><p>é˜²æ­¢ä»£ç æˆä¸ºshiå±±ğŸ˜€ï¼Œå¯ä»¥å¸®æˆ‘ä»¬æ£€æŸ¥æœ‰æ²¡æœ‰æ­»å¾ªç¯ï¼Œæœ‰æ²¡æœ‰å®šä¹‰ä½†æœªä½¿ç”¨çš„å˜é‡ç­‰ç­‰ã€‚</p></li><li><p><strong>ESLintå®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://eslint.cn/">ESLint - Pluggable JavaScript linter - ESLintä¸­æ–‡</a></p></li></ul><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D eslint @eslint/create-config</span><br></pre></td></tr></table></figure><ul><li>@eslint&#x2F;create-configï¼šeslinté…ç½®æ–‡ä»¶åˆå§‹åŒ–å·¥å…·</li></ul><h3 id="ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>ç”Ÿæˆé…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  ç”Ÿæˆ ESLint é…ç½®æ–‡ä»¶æ¨¡æ¿</span></span><br><span class="line">npx eslint --init</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡ºç°å¦‚ä¸‹é€‰æ‹©</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€‰æ‹©2 æˆ‘ä»¬ä¼šä½¿ç”¨ prettier è¿›è¡Œä»£ç é£æ ¼æ ¡éªŒ</span></span><br><span class="line">How would you like to use ESLint?</span><br><span class="line">1.åªæ£€æŸ¥è¯­æ³•</span><br><span class="line">2.æ£€æŸ¥è¯­æ³•å¹¶æç¤ºé—®é¢˜</span><br><span class="line">3.æ£€æŸ¥è¯­æ³•ã€æç¤ºé—®é¢˜å¹¶ä¸”å¼ºåˆ¶ä½¿ç”¨ä¸€äº›ä»£ç é£æ ¼</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½ çš„é¡¹ç›®ç”¨çš„å“ªä¸€ç§æ¨¡å—åŒ–æ–¹å¼ é€‰æ‹©1</span></span><br><span class="line">What <span class="built_in">type</span> of modules does your project use?</span><br><span class="line">1.ES6</span><br><span class="line">2.CommonJS</span><br><span class="line">3.None</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨çš„æ¡†æ¶ é€‰æ‹©2</span></span><br><span class="line">Which framework does your project use?</span><br><span class="line">1.React</span><br><span class="line">2.Vue.js</span><br><span class="line">3.None</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¡¹ç›®æ˜¯å¦ä½¿ç”¨TS yes</span></span><br><span class="line">Does your project use TypeScript?</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¡¹ç›®åœ¨å“ªé‡Œè·‘çš„ é€‰æ‹©1</span></span><br><span class="line">Where does your code run?</span><br><span class="line">1.browser</span><br><span class="line">2.node</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¡¹ç›®ç”¨å“ªç§é…ç½®æ–‡ä»¶ é€‰æ‹©1</span></span><br><span class="line">What format <span class="keyword">do</span> you want your config file to be <span class="keyword">in</span>?</span><br><span class="line">1.JavaScript</span><br><span class="line">2.YAML</span><br><span class="line">3.JSON</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ˜¯å¦ç«‹å³å®‰è£…éœ€è¦çš„ä¾èµ–</span></span><br><span class="line">Would you like to install them now?</span><br><span class="line"><span class="comment"># ä¼šå¸®æˆ‘ä»¬å®‰è£…å¦‚ä¸‹æ’ä»¶</span></span><br><span class="line"><span class="comment"># pnpm install -D eslint-plugin-vue@latest @typescript-eslint/eslint-plugin@latest @typescript-eslint/parser@latest</span></span><br></pre></td></tr></table></figure><ul><li>ç†Ÿæ‚‰ä¹‹åæˆ‘ä»¬å°±å¯ä»¥ä¸ä½¿ç”¨é…ç½®ç”Ÿæˆå·¥å…·</li><li>ç›´æ¥æ–°å»ºé…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®å³å¯</li><li>ESLinté…ç½®æ–‡ä»¶åç§°å¯ä»¥ä¸ºï¼š<code>.eslintrc.js</code>ã€<code>.eslint.config.js</code> ï¼ˆæ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©å³å¯ï¼‰</li></ul><p>è¿™é‡Œæ˜¯æˆ‘å¸¸ç”¨çš„é…ç½®è§„åˆ™ï¼Œæ›´å¤šé…ç½®è§„åˆ™è¯·æŸ¥é˜…<a href="https://eslint.cn/">ESLintä¸­æ–‡</a>ã€‚</p><p>å•ç‹¬çš„è¯­æ³•é…ç½®éœ€è¦åœ¨rulesä¸­ç¼–å†™ï¼Œå…¨éƒ¨é…ç½®è¯·å‚è€ƒï¼š<a href="https://eslint.cn/docs/rules/">List of available rules - ESLintä¸­æ–‡</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ä½¿ eslint æ”¯æŒ node ä¸ ES6</span></span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">es2021</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å¼•å…¥æ¨èçš„è¯­æ³•æ ¡éªŒè§„åˆ™</span></span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/vue3-recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;plugin:@typescript-eslint/recommended&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">overrides</span>: [],</span><br><span class="line">  <span class="comment">/* </span></span><br><span class="line"><span class="comment">  è¿™é‡Œä¸€å®šè¦é…ç½®å¯¹ å…ˆä½¿ç”¨vue-eslint-parser å†ä½¿ç”¨@typescript-eslint/parser</span></span><br><span class="line"><span class="comment">  å…ˆè§£æ &lt;template&gt; æ ‡ç­¾ä¸­çš„å†…å®¹ ç„¶åå†è§£æ vue &lt;script&gt; æ ‡ç­¾ä¸­çš„ TS ä»£ç </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="comment">// é€‰æ‹©ä½¿ç”¨çš„è§£æå™¨</span></span><br><span class="line">  <span class="attr">parser</span>: <span class="string">&#x27;vue-eslint-parser&#x27;</span>,</span><br><span class="line">  <span class="comment">// è§£æå™¨çš„è¯¦ç»†é…ç½®</span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æœ€æ–°ç‰ˆ ES è¯­æ³•</span></span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="string">&#x27;latest&#x27;</span>,</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ ESLint TS è§£æå™¨</span></span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;@typescript-eslint/parser&#x27;</span>,</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ ES æ¨¡å—åŒ–è§„èŒƒ</span></span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&#x27;module&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨çš„æ’ä»¶</span></span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&#x27;vue&#x27;</span>, <span class="string">&#x27;@typescript-eslint&#x27;</span>],</span><br><span class="line">  <span class="comment">// è‡ªå®šä¹‰è§„åˆ™</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>é…ç½®å®Œè§„åˆ™åæˆ‘ä»¬é…ç½®ä¸€æ¡æŒ‡ä»¤ç”¨äºä»£ç è´¨é‡çš„ä¿®å¤</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="comment">// --cache ä¸ºä»…æ£€æµ‹æ”¹åŠ¨è¿‡çš„ä»£ç </span></span><br><span class="line"><span class="comment">// --max-warnings 0 è¡¨ç¤ºå‡ºç°è¶…è¿‡0ä¸ªè­¦å‘Šå¼ºåˆ¶eslintä»¥é”™è¯¯çŠ¶æ€æ¨å‡º</span></span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;lint:eslint&quot;</span>: <span class="string">&quot;eslint --cache --max-warnings 0 &#123;src,mock&#125;/**/*.&#123;vue,ts,tsx&#125; --fix&quot;</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥é…ç½®å¿½ç•¥æ–‡ä»¶ï¼Œè®© ESLint ä¸å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œæ ¡éªŒã€‚</p><p>æ–°å»º <code>.eslintignore</code> è¿›è¡Œé…ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">node_modules</span><br><span class="line">*.md</span><br><span class="line">.vscode</span><br><span class="line">.idea</span><br><span class="line">dist</span><br><span class="line">/public</span><br><span class="line">/docs</span><br><span class="line">.husky</span><br><span class="line">.local</span><br><span class="line">/bin</span><br><span class="line">Dockerfile</span><br></pre></td></tr></table></figure><h3 id="è‡ªåŠ¨ä¿®å¤"><a href="#è‡ªåŠ¨ä¿®å¤" class="headerlink" title="è‡ªåŠ¨ä¿®å¤"></a>è‡ªåŠ¨ä¿®å¤</h3><ul><li>å¤§éƒ¨åˆ†IDEæ”¯æŒåœ¨ä¿®æ”¹ä»£ç åè¿›è¡Œè‡ªåŠ¨ä¿®å¤</li></ul><ol><li>WebStormeï¼šç›´æ¥åœ¨Settingä¸­æœç´¢ESLintå³å¯è¿›è¡Œé…ç½®</li><li>VSCodeï¼šéœ€è¦åœ¨é¡¹ç›®ç›®å½•ä¸‹åŠ å…¥å¦‚ä¸‹é…ç½®æ–‡ä»¶ï¼Œè¿˜éœ€è¦ä¸‹è½½ESLintæ’ä»¶</li></ol><p><strong>&#x2F;.vscode&#x2F;settings.json</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®-Prettier"><a href="#é…ç½®-Prettier" class="headerlink" title="é…ç½® Prettier"></a>é…ç½® Prettier</h2><ul><li>å¤šäººåä½œçš„é¡¹ç›®å¼€å‘ä¸­ï¼Œä¿æŒç»Ÿä¸€çš„ä»£ç é£æ ¼æ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹ã€‚</li><li>Prettierå°±å¯ä»¥å¸®æˆ‘ä»¬åšåˆ°è¿™ä¸ªäº‹æƒ…ï¼Œä½†æ˜¯ESLintä¸æ˜¯ä¹Ÿèƒ½è§„èŒƒä»£ç é£æ ¼ä¹ˆï¼Ÿå¯ä»¥æ˜¯å¯ä»¥ï¼Œä½†æ˜¯ç›¸æ¯”Prettierå·®äº†å¾ˆå¤šï¼Œæœ¯ä¸šæœ‰ä¸“æ”»ï¼ŒPrettierå¯ä»¥è®©æˆ‘ä»¬æ‹¥æœ‰è¶…çº§æ•´é½çš„ä»£ç ã€‚å¯ä»¥å¸®åŠ©æˆ‘ä»¬é…ç½®æ˜¯å¦ä½¿ç”¨åˆ†å·ï¼Œç¼©è¿›çš„æ ¼å¼ç­‰ç­‰ã€‚</li><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.prettier.cn/">Prettier ä¸­æ–‡ç½‘ Â· Prettier æ˜¯ä¸€ä¸ªâ€œæœ‰æ€åº¦â€çš„ä»£ç æ ¼å¼åŒ–å·¥å…·</a></li></ul><h3 id="å®‰è£…ä¾èµ–-1"><a href="#å®‰è£…ä¾èµ–-1" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D prettier</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ é…ç½®æ–‡ä»¶"><a href="#æ·»åŠ é…ç½®æ–‡ä»¶" class="headerlink" title="æ·»åŠ é…ç½®æ–‡ä»¶"></a>æ·»åŠ é…ç½®æ–‡ä»¶</h3><ul><li>Prettieré…ç½®æ–‡ä»¶åç§°å¯ä»¥ä¸ºï¼š<code>.ptettierrc.js</code>ã€<code>.ptettier.config.js</code> ï¼ˆæ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©å³å¯ï¼‰</li><li>ä¸‹é¢æ˜¯æˆ‘å¸¸ç”¨çš„ä¸€äº›é…ç½®ï¼Œæ›´å¤šé…ç½®è§„åˆ™å¤§å®¶å¯ä»¥å‰å®˜ç½‘æŸ¥çœ‹ï¼š<a href="https://www.prettier.cn/docs/options.html">Options Â· Prettier ä¸­æ–‡ç½‘</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">printWidth</span>: <span class="number">80</span>, <span class="comment">//å•è¡Œé•¿åº¦</span></span><br><span class="line">  <span class="attr">tabWidth</span>: <span class="number">2</span>, <span class="comment">//ç¼©è¿›é•¿åº¦</span></span><br><span class="line">  <span class="attr">useTabs</span>: <span class="literal">false</span>, <span class="comment">//ä½¿ç”¨ç©ºæ ¼ä»£æ›¿tabç¼©è¿›</span></span><br><span class="line">  <span class="attr">semi</span>: <span class="literal">true</span>, <span class="comment">//å¥æœ«ä½¿ç”¨åˆ†å·</span></span><br><span class="line">  <span class="attr">singleQuote</span>: <span class="literal">true</span>, <span class="comment">//ä½¿ç”¨å•å¼•å·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é…ç½®ä¸€ä¸ªæŒ‡ä»¤ä¾¿äºæˆ‘ä»¬ä½¿ç”¨prettierè¿›è¡Œä¿®å¤ä»£ç é£æ ¼</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;script&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;lint:prettier&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write **/*.&#123;js,json,tsx,css,less,scss,vue,html,md&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="è§£å†³ESLintä¸Prettierå†²çªé—®é¢˜"><a href="#è§£å†³ESLintä¸Prettierå†²çªé—®é¢˜" class="headerlink" title="è§£å†³ESLintä¸Prettierå†²çªé—®é¢˜"></a>è§£å†³ESLintä¸Prettierå†²çªé—®é¢˜</h3><h4 id="å®‰è£…ä¾èµ–-2"><a href="#å®‰è£…ä¾èµ–-2" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D eslint-config-prettier eslint-plugin-prettier</span><br></pre></td></tr></table></figure><ul><li>eslint-config-prettier çš„ä½œç”¨æ˜¯å…³é—­eslintä¸­ä¸prettierç›¸äº’å†²çªçš„è§„åˆ™ã€‚</li><li>eslint-plugin-prettier çš„ä½œç”¨æ˜¯èµ‹äºˆeslintç”¨prettieræ ¼å¼åŒ–ä»£ç çš„èƒ½åŠ›ã€‚ å®‰è£…ä¾èµ–å¹¶ä¿®æ”¹.eslintrcæ–‡ä»¶ã€‚</li></ul><h4 id="é…ç½®ESLint"><a href="#é…ç½®ESLint" class="headerlink" title="é…ç½®ESLint"></a>é…ç½®ESLint</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¤é…ç½®åœ¨eslinté…ç½®æ–‡ä»¶ä¸­æ–°å¢ </span></span><br><span class="line"><span class="string">&quot;extends&quot;</span>: [</span><br><span class="line">  <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">  <span class="string">&quot;plugin:vue/vue3-recommended&quot;</span>,</span><br><span class="line">  <span class="string">&quot;plugin:@typescript-eslint/recommended&quot;</span>,</span><br><span class="line">  <span class="string">&quot;plugin:prettier/recommended&quot;</span> <span class="comment">// åœ¨æœ€åé¢æ–°å¢extends</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆä¹‹åæˆ‘ä»¬å¯¹ä»£ç é£æ ¼çš„é…ç½®åªä¼šä½¿ç”¨prettierçš„é…ç½®ï¼Œç›¸å½“äºå°†eslintä¸­å†²çªçš„è§„åˆ™è¦†ç›–æ‰äº†ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥é…ç½®å¿½ç•¥æ–‡ä»¶ï¼Œè®© Prettier ä¸å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œæ ¡éªŒã€‚</p><p>æ–°å»º <code>.prettierignore</code> è¿›è¡Œé…ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/dist/*</span><br><span class="line">/node_modules/**</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-StyleLint"><a href="#é…ç½®-StyleLint" class="headerlink" title="é…ç½® StyleLint"></a>é…ç½® StyleLint</h2><ul><li>tylelint æ˜¯ä¸€ä¸ªå¼ºå¤§ã€å…ˆè¿›çš„ CSS ä»£ç æ£€æŸ¥å™¨ï¼ˆlinterï¼‰ï¼Œå¯ä»¥å¸®åŠ©ä½ è§„é¿ CSS ä»£ç ä¸­çš„é”™è¯¯å¹¶ä¿æŒä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚</li><li>ä½ å¯èƒ½ä¼šæƒ³ï¼šWTFğŸ˜“ï¼Œæ€ä¹ˆæœ‰æœ‰ä¸€ä¸ªé…ç½®ç¼–ç é£æ ¼çš„ï¼Œä¸æ˜¯å·²ç»æœ‰Prettieräº†ä¹ˆã€‚StyleLintï¼Œæ˜¯ä¸“ç”¨äºè§„èŒƒæ ·å¼ä»£ç çš„å·¥å…·ï¼Œå¯ä»¥åšåˆ°ä¸€äº›Prettieråšä¸åˆ°çš„åŠŸèƒ½ï¼Œæœ‰äº†å®ƒèƒ½è®©æˆ‘ä»¬çš„æ ·å¼ä»£ç ï¼ˆCSS&#x2F;Less&#x2F;Scssï¼‰æ›´åŠ ç¾è§‚ï¼Œæ¯”å¦‚è¯´å¯¹CSSæ ·å¼ä»£ç è¿›è¡Œé¡ºåºè§„å®šã€‚</li><li>ä½†æ˜¯ StyleLint ä¸ Prettier ä¹Ÿæœ‰é…ç½®å†²çªï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿè¦å°† StyleLint ä¸­ä¸ Prettier å†²çªçš„é…ç½®å…³é—­ã€‚</li></ul><h3 id="å®‰è£…ä¾èµ–-3"><a href="#å®‰è£…ä¾èµ–-3" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D stylelint stylelint-config-standard</span><br><span class="line"></span><br><span class="line">pnpm install -D stylelint-config-prettier stylelint-config-html stylelint-order stylelint-scss postcss-html postcss-scss stylelint-config-standard-vue</span><br></pre></td></tr></table></figure><ul><li>stylelint-config-standardï¼šStyleLint æ¨èé…ç½®</li><li>stylelint-config-prettierï¼šå…³é—­ä¸ prettier å†²çªçš„é…ç½®</li><li>stylelint-config-standard-vueï¼šStyleLint Vue é¡¹ç›®æ¨èé…ç½®</li><li>postcss-html postcss-scssï¼šæ”¯æŒæ£€æŸ¥ scss ä¸ html</li><li>stylelint-orderï¼šæ”¯æŒ css æ ·å¼æ’åº</li></ul><h3 id="æ·»åŠ é…ç½®æ–‡ä»¶-1"><a href="#æ·»åŠ é…ç½®æ–‡ä»¶-1" class="headerlink" title="æ·»åŠ é…ç½®æ–‡ä»¶"></a>æ·»åŠ é…ç½®æ–‡ä»¶</h3><ul><li>Prettieré…ç½®æ–‡ä»¶åç§°å¯ä»¥ä¸ºï¼š<code>.stylelintrc.js</code>ã€<code>.stylelint.config.js</code> ï¼ˆæ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©å³å¯ï¼‰</li><li>æ›´å¤šè¯¦ç»†é…ç½®è§„åˆ™è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://stylelint.bootcss.com/user-guide/rules/list">List of rules | Stylelint ä¸­æ–‡æ–‡æ¡£ (bootcss.com)</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ç»§æ‰¿æ¨èè§„èŒƒé…ç½®</span></span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;stylelint-config-standard&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;stylelint-config-prettier&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;stylelint-config-recommended-scss&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;stylelint-config-standard-vue&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// æ·»åŠ è§„åˆ™æ’ä»¶</span></span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&#x27;stylelint-order&#x27;</span>],</span><br><span class="line">  <span class="comment">// ä¸åŒæ ¼å¼çš„æ–‡ä»¶æŒ‡å®šè‡ªå®šä¹‰è¯­æ³•</span></span><br><span class="line">  <span class="attr">overrides</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">files</span>: [<span class="string">&#x27;**/*.(scss|css|vue|html)&#x27;</span>],</span><br><span class="line">      <span class="attr">customSyntax</span>: <span class="string">&#x27;postcss-scss&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">files</span>: [<span class="string">&#x27;**/*.(html|vue)&#x27;</span>],</span><br><span class="line">      <span class="attr">customSyntax</span>: <span class="string">&#x27;postcss-html&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// å¿½ç•¥æ£€æµ‹æ–‡ä»¶</span></span><br><span class="line">  <span class="attr">ignoreFiles</span>: [</span><br><span class="line">    <span class="string">&#x27;**/*.js&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;**/*.jsx&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;**/*.tsx&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;**/*.ts&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;**/*.json&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;**/*.md&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;**/*.yaml&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// è‡ªå®šä¹‰é…ç½®è§„åˆ™</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// ä¾¿äºé…ç½®å˜é‡ å…³é—­æœªçŸ¥å±æ€§æ£€æµ‹</span></span><br><span class="line">    <span class="string">&#x27;property-no-unknown&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="comment">// æŒ‡å®šç±»é€‰æ‹©å™¨çš„æ¨¡å¼</span></span><br><span class="line">    <span class="string">&#x27;selector-class-pattern&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="comment">// å…è®¸ Vue çš„ global</span></span><br><span class="line">    <span class="string">&#x27;selector-pseudo-class-no-unknown&#x27;</span>: [</span><br><span class="line">      <span class="literal">true</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">ignorePseudoClasses</span>: [<span class="string">&#x27;global&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// å…è®¸ Vue çš„ v-deep</span></span><br><span class="line">    <span class="string">&#x27;selector-pseudo-element-no-unknown&#x27;</span>: [</span><br><span class="line">      <span class="literal">true</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">ignorePseudoElements</span>: [<span class="string">&#x27;v-deep&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// å…è®¸å¯¹åº”å†…æ ¸å‰ç¼€</span></span><br><span class="line">    <span class="string">&#x27;property-no-vendor-prefix&#x27;</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="comment">// æŒ‡å®šæ ·å¼çš„æ’åº ä¿®å¤åä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨æ•´ç†CSSæ ·å¼çš„é¡ºåº</span></span><br><span class="line">    <span class="string">&#x27;order/properties-order&#x27;</span>: [</span><br><span class="line">      <span class="string">&#x27;position&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;z-index&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;display&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;justify-content&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;align-items&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;float&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;clear&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;overflow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;overflow-x&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;overflow-y&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-top&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-right&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-bottom&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;padding-left&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-top&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-right&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-bottom&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;margin-left&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;min-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;max-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;min-height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;max-height&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-size&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-family&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-align&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-justify&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-indent&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-overflow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-decoration&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;white-space&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background-position&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background-repeat&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background-size&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background-clip&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-top-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-top-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-top-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-right-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-right-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-right-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-bottom-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-bottom-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-bottom-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-left-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-left-width&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-left-color&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;border-radius&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;opacity&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;filter&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;list-style&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;outline&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;visibility&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;box-shadow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;text-shadow&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;resize&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;transition&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥é…ç½®å¿½ç•¥æ–‡ä»¶ï¼Œè®© StyleLint ä¸å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œæ ¡éªŒã€‚</p><p>æ–°å»º <code>.stylelintignore</code> è¿›è¡Œé…ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/dist/*</span><br><span class="line">/public/*</span><br><span class="line">public/*</span><br><span class="line">/mock/*</span><br><span class="line">/node_modules/*</span><br><span class="line">/plop-templates/*</span><br><span class="line">/types/*</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-Husky"><a href="#é…ç½®-Husky" class="headerlink" title="é…ç½® Husky"></a>é…ç½® Husky</h2><ul><li>å›¢é˜Ÿåä½œæ—¶ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°å¤šç§é—®é¢˜ï¼Œæœ€è®©äººéš¾å—çš„å°±æ˜¯æ¯ä¸ªäººä¹¦å†™çš„ä»£ç é£æ ¼ä¸ä¸€è‡´ğŸ˜…ï¼Œä½¿ç”¨çš„è§„èŒƒä¸ä¸€è‡´ï¼Œå¯¼è‡´å›¢é˜Ÿåä½œæ•ˆç‡æä½ï¼Œä»£ç å¯è¯»æ€§å·®ã€‚</li><li>è¿™æ—¶å€™å°±éœ€è¦ Husky æ¥å¸®å¿™äº†ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ä»£ç æäº¤å‰åè¿›è¡Œä¸€äº›è‡ªå®šä¹‰çš„æ“ä½œï¼Œåƒæ˜¯ä»£ç é£æ ¼çš„æ ¡éªŒï¼Œå¹¶ä¸”å®ƒæ”¯æŒæ‰€æœ‰çš„ Git é’©å­ï¼ˆé’©å­æ˜¯ä½ å¯ä»¥æ”¾åœ¨é’©å­ç›®å½•ä¸­è§¦å‘çš„ç¨‹åº åœ¨ Git æ‰§è¡Œçš„æŸäº›ç‚¹æ‰§è¡Œçš„æ“ä½œï¼‰ã€‚</li></ul><p>Gitå…¨éƒ¨é’©å­çš„è¯¦ç»†ä»‹ç»ï¼š<a href="https://git-scm.com/docs/githooks">Git - githooks Documentation (git-scm.com)</a></p><p><strong>æœ¬æ–‡ç”¨åˆ°çš„é’©å­</strong>ï¼š</p><ul><li>åœ¨ <code>pre-commit</code> è§¦å‘æ—¶è¿›è¡Œä»£ç æ ¼å¼éªŒè¯ï¼Œåœ¨ <code>commit-msg</code> è§¦å‘æ—¶å¯¹ commit æ¶ˆæ¯å’Œæäº¤ç”¨æˆ·è¿›è¡ŒéªŒè¯ã€‚</li></ul><table><thead><tr><th>git hook</th><th>æ‰§è¡Œæ—¶æœŸ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>pre-commit</td><td>git commit æ‰§è¡Œå‰</td><td>git commit â€“no verify å‘½ä»¤å¯ä»¥ç»•è¿‡è¯¥é’©å­</td></tr><tr><td>commit-msg</td><td>git commit æ‰§è¡Œå‰</td><td>git commit â€“no verify å‘½ä»¤å¯ä»¥ç»•è¿‡è¯¥é’©å­</td></tr></tbody></table><h3 id="å®‰è£…ä¾èµ–-4"><a href="#å®‰è£…ä¾èµ–-4" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D husky</span><br></pre></td></tr></table></figure><p>ç„¶åé…ç½®ä¸€ä¸ªåˆå§‹åŒ– Hysky çš„å‘½ä»¤</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;script&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;husky install&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œè¿™ä¸ªå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œåä¼šåˆå§‹åŒ–husky</span></span><br><span class="line">pnpm run prepare</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¹‹åå°±ä¼šå‡ºç°<code>.husky</code>æ–‡ä»¶å¤¹ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥é…ç½®åœ¨<code>GItHook</code>ä¸­æ‰§è¡Œçš„æ“ä½œå•¦ğŸ˜€ã€‚</p><h2 id="é…ç½®-LintStaged"><a href="#é…ç½®-LintStaged" class="headerlink" title="é…ç½® LintStaged"></a>é…ç½® LintStaged</h2><ul><li>æœ‰äº›åŒå­¦æ„Ÿè§‰ä½¿ç”¨IDEçš„ä¿å­˜è‡ªåŠ¨ä¿®å¤ç›¸å½“éº»çƒ¦ï¼Œæˆ‘æ¯æ¬¡æ”¹å®Œä¹‹åéƒ½éœ€è¦ç­‰ä»–ä¿®å¤ä¸€ä¸‹ğŸ˜¡ï¼Œå¤ªä¸æ–¹ä¾¿å•¦ï¼</li><li>æ¥ä¸‹æ¥å°±è¦è¯·å‡ºæˆ‘ä»¬çš„å¥½å¸®æ‰‹ï¼šlint-stagedï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ git ç¼“å­˜ä¸­è¿›è¡Œä»£ç è´¨é‡ä¸é£æ ¼çš„ä¿®å¤ï¼Œåœ¨ä»£ç æäº¤å‰è¿›è¡Œç»Ÿä¸€æ ¡éªŒï¼Œé€šè¿‡åæ‰å¯ä»¥æäº¤ã€‚</li></ul><h3 id="å®‰è£…ä¾èµ–-5"><a href="#å®‰è£…ä¾èµ–-5" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D lint-staged</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>åœ¨ package.json é…ç½®ä¸€ä¸ªæŒ‡ä»¤æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;script&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;lint:lint-staged&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lint-staged&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ husky é…ç½®ä¸€ä¸ª pre-commit é’©å­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --no-install ä»£è¡¨å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—</span></span><br><span class="line">npx husky add .husky/pre-commit <span class="string">&quot;npm run lint:lint-staged&quot;</span></span><br></pre></td></tr></table></figure><p>LintStaged çš„é…ç½®æ–‡ä»¶æ–¹å¼ä¹Ÿæœ‰å¤šç§ï¼š</p><ul><li>åœ¨ <code>package.json</code> ä¸­é…ç½®</li><li><code>lint-staged.js</code> æˆ– <code>lint-staged.config.js</code></li><li><code>.lintstagedrc.json</code> æˆ– <code>.lintstagedrc.yaml</code></li><li>ç­‰ç­‰</li></ul><p>è¿™é‡Œæˆ‘ä»¬ç›´æ¥åœ¨ <code>package.json</code> ä¸­é…ç½®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æˆ‘ä»¬ç›´æ¥é…ç½®åœ¨ package.json ä¸­</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">é…ç½®çš„å«ä¹‰ï¼š</span></span><br><span class="line"><span class="comment">&lt;éœ€è¦æ‰§è¡Œçš„æ–‡ä»¶&gt;: &lt;å¯¹åº”æ–‡ä»¶éœ€è¦æ‰§è¡Œçš„å‘½ä»¤æ•°ç»„&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;*.&#123;js,jsx,ts,tsx&#125;&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;eslint --fix&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;prettier --write&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;&#123;!(package)*.json,*.code-snippets,.!(browserslist)*rc&#125;&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;prettier --write--parser json&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;package.json&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;prettier --write&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;*.vue&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;eslint --fix&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;prettier --write&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;stylelint --fix&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;*.&#123;scss,less,styl,html&#125;&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;stylelint --fix&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;prettier --write&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;*.md&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;prettier --write&quot;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±é…ç½®å®Œæ¯•å•¦ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <code>git commit -m &quot;xxx&quot;</code> æ—¶ï¼Œlint-staged ä¼šè‡ªåŠ¨æ‰§è¡Œå¸®æˆ‘ä»¬è¿›è¡Œä»£ç è´¨é‡ä¸é£æ ¼çš„ä¿®å¤ã€‚</p><h2 id="é…ç½®-CommitLint"><a href="#é…ç½®-CommitLint" class="headerlink" title="é…ç½® CommitLint"></a>é…ç½® CommitLint</h2><ul><li>æ¯æ¬¡çœ‹ Github ä»“åº“çš„æ—¶å€™ï¼Œæ€»æ„Ÿè§‰æœ‰äº›ä¸é¡ºçœ¼ã€‚åŸæ¥æ˜¯æäº¤é™„å¸¦çš„ä¿¡æ¯ä¹±ç³Ÿç³Ÿçš„ï¼Œéƒ½æ˜¯â€æ–°å¢xxåŠŸèƒ½â€ï¼Œâ€ä¿®å¤xxBUGâ€ï¼Œéå¸¸çš„ä¸å·¥æ•´ï¼Œçœ‹ç€å¤ªä¸èˆ’æœå•¦ğŸ¤¯ã€‚</li><li>ä¸è¦æ…Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CommitLint å¯¹æäº¤çš„ä¿¡æ¯è¿›è¡Œè§„èŒƒã€‚</li><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://commitlint.js.org/#/">commitlint - Lint commit messages</a></li></ul><h3 id="å®‰è£…ä¾èµ–-6"><a href="#å®‰è£…ä¾èµ–-6" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D @commitlint/cli  @commitlint/config-conventional</span><br></pre></td></tr></table></figure><ul><li>@commitlint&#x2F;config-conventionalï¼šcommitlintè‡ªå®šä¹‰é…ç½®è§„åˆ™æ’ä»¶</li></ul><h3 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="è§„åˆ™é…ç½®"><a href="#è§„åˆ™é…ç½®" class="headerlink" title="è§„åˆ™é…ç½®"></a>è§„åˆ™é…ç½®</h4><ul><li>CommitLinté…ç½®æ–‡ä»¶åç§°å¯ä»¥ä¸ºï¼š<code>.commitlintrc.js</code>ã€<code>.commitlint.config.js</code> ï¼ˆæ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©å³å¯ï¼‰</li></ul><p><strong>é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹</strong></p><ul><li>å®˜æ–¹æ–‡æ¡£çš„é…ç½®è§„åˆ™è®²è§£ï¼š<a href="https://commitlint.js.org/#/reference-rules?id=rules">Rules (commitlint.js.org)</a></li></ul><p>è§„åˆ™ç”±åç§°å’Œé…ç½®æ•°ç»„ç»„æˆï¼š</p><p>&lt;é…ç½®åç§°&gt;: [&lt;è­¦æŠ¥çº§åˆ«&gt;, &lt;æ˜¯å¦å¯ç”¨&gt;, &lt;è§„åˆ™å¯¹åº”çš„å€¼&gt;]</p><ul><li>è­¦æŠ¥çº§åˆ«<ul><li>0 æ— æç¤º disable</li><li>1 è­¦å‘Š warning</li><li>2 é”™è¯¯ error</li></ul></li><li>æ˜¯å¦å¯ç”¨<ul><li>always å¯ç”¨</li><li>never ç¦ç”¨</li></ul></li><li>è§„åˆ™å¯¹åº”çš„å€¼ï¼šæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£è¿›è¡Œé…ç½®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œæ˜¯é€šä¿—çš„è§£é‡Š è¯¦æƒ…è¯·å‰å¾€å®˜æ–¹æ–‡æ¡£æŸ¥é˜…</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">ignores</span>: [<span class="function">(<span class="params">commit</span>) =&gt;</span> commit.<span class="title function_">includes</span>(<span class="string">&#x27;init&#x27;</span>)],</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&#x27;@commitlint/config-conventional&#x27;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// ä¿¡æ¯ä»¥ç©ºæ ¼å¼€å¤´</span></span><br><span class="line">    <span class="string">&#x27;body-leading-blank&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;footer-leading-blank&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;always&#x27;</span>],</span><br><span class="line">    <span class="comment">// ä¿¡æ¯æœ€å¤§é•¿åº¦</span></span><br><span class="line">    <span class="string">&#x27;header-max-length&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;always&#x27;</span>, <span class="number">108</span>],</span><br><span class="line">    <span class="comment">// ä¿¡æ¯ä¸èƒ½æœªç©º</span></span><br><span class="line">    <span class="string">&#x27;subject-empty&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">    <span class="comment">// ä¿¡æ¯ç±»å‹ä¸èƒ½æœªç©º</span></span><br><span class="line">    <span class="string">&#x27;type-empty&#x27;</span>: [<span class="number">2</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">    <span class="comment">// æäº¤ä¿¡æ¯çš„ç±»å‹ ä¸‹æ–‡æœ‰ä»‹ç»</span></span><br><span class="line">    <span class="string">&#x27;type-enum&#x27;</span>: [</span><br><span class="line">      <span class="number">2</span>,</span><br><span class="line">      <span class="string">&#x27;always&#x27;</span>,</span><br><span class="line">      [</span><br><span class="line">        <span class="string">&#x27;feat&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;fix&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;perf&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;style&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;docs&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;refactor&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;build&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;ci&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;chore&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;revert&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;wip&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;workflow&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;types&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;release&#x27;</span>,</span><br><span class="line">      ],</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>æäº¤ä¿¡æ¯çš„ç±»å‹ä¸€èˆ¬æœ‰å¦‚ä¸‹è§„èŒƒ</strong>ï¼ˆå¯æ ¹æ®å›¢é˜Ÿä¹ æƒ¯è¿›è¡Œæ›´æ”¹ï¼‰ï¼š</p><ul><li>feat : å¢åŠ ä¸€ä¸ªæ–°ç‰¹æ€§</li><li>fix : ä¿®å¤ä¸€ä¸ª bug</li><li>perf : æ›´æ”¹ä»£ç ä»¥æé«˜æ€§èƒ½</li><li>build : æ›´æ”¹æ„å»ºç³»ç»Ÿå’Œå¤–éƒ¨ä¾èµ–é¡¹ï¼ˆå¦‚å°† gulp æ”¹ä¸º webpackï¼Œæ›´æ–°æŸä¸ª npm åŒ…ï¼‰</li><li>ci : å¯¹ CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„æ›´æ”¹</li><li>docs : ä»…ä»…ä¿®æ”¹æ–‡æ¡£è¯´æ˜</li><li>refactor : ä»£ç é‡æ„æ—¶ä½¿ç”¨</li><li>style : ä¸å½±å“ä»£ç å«ä¹‰çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚å»æ‰ç©ºæ ¼ã€æ”¹å˜ç¼©è¿›ã€å¢åˆ åˆ†å·</li><li>test : å¢åŠ æ–°çš„æµ‹è¯•åŠŸèƒ½æˆ–æ›´æ”¹åŸæœ‰çš„æµ‹è¯•æ¨¡å—</li></ul><h3 id="é’©å­é…ç½®"><a href="#é’©å­é…ç½®" class="headerlink" title="é’©å­é…ç½®"></a>é’©å­é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½® commit-msg é’©å­ è¿è¡Œ commitlint</span></span><br><span class="line"><span class="comment"># --no-install ä»£è¡¨å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—</span></span><br><span class="line">npx husky add .husky/commit-msg <span class="string">&quot;npx --no-install commitlint --edit <span class="variable">$1</span>&quot;</span></span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>git commit</code>æ—¶è¿›è¡Œä¿¡æ¯çš„è§„èŒƒ</p><p>æˆ‘ä»¬éœ€è¦æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿›è¡Œæäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git commit -m &quot;ç±»å‹: ä¿¡æ¯&quot;</span></span><br><span class="line"><span class="comment"># æ–°å¢åŠŸèƒ½ç¤ºä¾‹</span></span><br><span class="line">git commit -m <span class="string">&quot;feat: æ–°å¢ç”¨æˆ·ç™»å½•åŠŸèƒ½&quot;</span></span><br><span class="line"><span class="comment"># ä¿®å¤Bugç¤ºä¾‹</span></span><br><span class="line">git commit -m <span class="string">&quot;fix: ä¿®å¤é¦–é¡µç”¨æˆ·å¤´åƒä¸æ˜¾ç¤ºé—®é¢˜&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ç»ˆäºé…ç½®å®Œå•¦ï¼Œç”¨åˆ°çš„ä¾èµ–å®åœ¨æ˜¯å¤ªå¤šå•¦ğŸ˜­ï¼Œé…ç½®çš„å¤´éƒ½å¤§äº†ï¼Œå¸Œæœ›æ—¥åèƒ½æœ‰ä¸€ä¸ªåº“èƒ½é›†æˆå®ƒä»¬çš„æ‰€æœ‰åŠŸèƒ½ï¼Œè¿™æ ·å°±ä¼šæ–¹ä¾¿çš„ä¸æ­¢ä¸€ç‚¹ï¼Œå¾…æˆ‘æ—¥åæˆé•¿èµ·æ¥ï¼Œå¦‚æœæ²¡äººå»æâ›ï¼Œæˆ‘å¯ä»¥å°è¯•ä¸€ä¸‹ï¼ˆèƒ¡è¨€ä¹±è¯­ï¼‰ã€‚</p><p><strong>ç³»åˆ—æ–‡ç« </strong>ï¼š</p><ul><li><a href="https://juejin.cn/post/7207615983950987320">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„ Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href="https://juejin.cn/post/7209542304863649852">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£… é™ä½è€¦åˆåº¦ å°è£… axios pinia router</a></li><li><a href="https://juejin.cn/post/7213310111623725117">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</a></li><li><a href="https://juejin.cn/post/7214759986802294844">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</a></li><li><a href="https://juejin.cn/post/7300460850011521078">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</a></li></ul><p><strong>å‚è€ƒå­¦ä¹ é¡¹ç›®</strong>ï¼š</p><ul><li><a href="https://github.com/tobe-fe-dalao/fast-vue3">fast-vue3</a></li><li><a href="https://github.com/pure-admin/vue-pure-admin">vue-pure-admin</a></li></ul><blockquote><p>å¦‚æœæœ‰ä»»ä½•ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡æ­£ï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ã€‚</p><p>æ›´æ–‡ä¸æ˜“ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ‘</p><p>å…³æ³¨æˆ‘ï¼Œåç»­æ–‡ç« ä¸è¿·è·¯â›„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæ‰‹æ¶ </tag>
            
            <tag> Prettier </tag>
            
            <tag> ESLint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£…  é™ä½è€¦åˆåº¦ å°è£… axios pinia router</title>
      <link href="/2023/03/27/sv3-template/2-encapsulateCode/"/>
      <url>/2023/03/27/sv3-template/2-encapsulateCode/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£…-é™ä½è€¦åˆåº¦-å°è£…-axios-pinia-router"><a href="#ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£…-é™ä½è€¦åˆåº¦-å°è£…-axios-pinia-router" class="headerlink" title="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£…  é™ä½è€¦åˆåº¦ å°è£… axios pinia router"></a>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£…  é™ä½è€¦åˆåº¦ å°è£… axios pinia router</h1><blockquote><p>Helloå¤§å®¶å¥½æˆ‘æ˜¯â›„ï¼Œå‰ä¸€èŠ‚æˆ‘ä»¬è®²è§£äº†è„šæ‰‹æ¶çš„åŸºç¡€é¡¹ç›®æ­å»ºã€‚æ¥ä¸‹æ¥æ•™å¤§å®¶å°†VueæŠ€æœ¯æ ˆå¸¸ç”¨çš„å·¥å…·è¿›è¡Œå°è£…ï¼Œè®©æˆ‘ä»¬é¡¹ç›®çš„ä»£ç æ›´æ˜“ç»´æŠ¤ã€‚</p><ul><li><strong>GitHub</strong>ï¼š<a href="https://github.com/LonelySnowman/sv3-template">LonelySnowman&#x2F;sv3-template</a></li><li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://sv3-docs.snowhouse.space/">SV3-Family | Vue3</a></li></ul></blockquote><ul><li>å‰ç½®çŸ¥è¯†ï¼šVueå…¨å®¶æ¡¶ï¼Œäº†è§£Viteæˆ–WebPackç­‰æ„å»ºå·¥å…·ï¼ŒNode.js</li><li>æ‚¨å°†æ”¶è·åˆ°ï¼šä»é›¶åˆ°ä¸€æ„å»ºä¸€ä¸ªè§„èŒƒçš„ Vue3+TS+Vite è„šæ‰‹æ¶</li></ul><h2 id="å°è£…axios"><a href="#å°è£…axios" class="headerlink" title="å°è£…axios"></a>å°è£…axios</h2><h4 id="çŠ¶æ€ç æç¤º"><a href="#çŠ¶æ€ç æç¤º" class="headerlink" title="çŠ¶æ€ç æç¤º"></a>çŠ¶æ€ç æç¤º</h4><ul><li>å½“æµè§ˆå™¨æ¥æ”¶å¹¶æ˜¾ç¤ºç½‘é¡µå‰ï¼Œæ­¤ç½‘é¡µæ‰€åœ¨çš„æœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªåŒ…å« HTTP çŠ¶æ€ç çš„ä¿¡æ¯å¤´ï¼ˆserver headerï¼‰ç”¨ä»¥å“åº”æµè§ˆå™¨çš„è¯·æ±‚ã€‚</li><li>æ¯ä¸ªçŠ¶æ€ç éƒ½ä»£è¡¨ä¸€ç§æç¤ºä¿¡æ¯</li></ul><table><thead><tr><th align="left">åˆ†ç±»</th><th align="left">åˆ†ç±»æè¿°</th></tr></thead><tbody><tr><td align="left">1**</td><td align="left">ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ</td></tr><tr><td align="left">2**</td><td align="left">æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†</td></tr><tr><td align="left">3**</td><td align="left">é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">4**</td><td align="left">å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">5**</td><td align="left">æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯</td></tr></tbody></table><p>ä½†æ˜¯ç”¨æˆ·ä¸ä¸€å®šäº†è§£æ¯ç§çŠ¶æ€ç å¯¹åº”çš„æç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†çŠ¶æ€ç è¿›è¡Œå°è£…ï¼Œå°†å¯¹åº”çš„ä¸­æ–‡å«ä¹‰è¿”å›ç»™äºˆç”¨æˆ·æç¤ºã€‚</p><p>æˆ‘ä»¬å°è£…ä¸€ä¸ªæ–¹æ³•ç”¨äºè·å–å¸¸è§çŠ¶æ€ç å¯¹åº”çš„ä¸­æ–‡ä¿¡æ¯ï¼Œå°†ä»–æ”¾ç½®åœ¨ <code>/src/utils/http/status.ts</code>:</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ å…¥çŠ¶æ€ç è·å–å¯¹åº”æç¤ºä¿¡æ¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getMessage = (<span class="attr">status</span>: <span class="built_in">number</span> | <span class="built_in">string</span>): <span class="function"><span class="params">string</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">let</span> message = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">   <span class="keyword">switch</span> (status) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">400</span>:</span><br><span class="line">         message = <span class="string">&#x27;è¯·æ±‚é”™è¯¯(400)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">         message = <span class="string">&#x27;æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•(401)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">         message = <span class="string">&#x27;æ‹’ç»è®¿é—®(403)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">         message = <span class="string">&#x27;è¯·æ±‚å‡ºé”™(404)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">408</span>:</span><br><span class="line">         message = <span class="string">&#x27;è¯·æ±‚è¶…æ—¶(408)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">         message = <span class="string">&#x27;æœåŠ¡å™¨é”™è¯¯(500)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">501</span>:</span><br><span class="line">         message = <span class="string">&#x27;æœåŠ¡æœªå®ç°(501)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">502</span>:</span><br><span class="line">         message = <span class="string">&#x27;ç½‘ç»œé”™è¯¯(502)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">503</span>:</span><br><span class="line">         message = <span class="string">&#x27;æœåŠ¡ä¸å¯ç”¨(503)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">504</span>:</span><br><span class="line">         message = <span class="string">&#x27;ç½‘ç»œè¶…æ—¶(504)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">505</span>:</span><br><span class="line">         message = <span class="string">&#x27;HTTPç‰ˆæœ¬ä¸å—æ”¯æŒ(505)&#x27;</span>;</span><br><span class="line">         <span class="keyword">break</span>;</span><br><span class="line">      <span class="attr">default</span>:</span><br><span class="line">         message = <span class="string">`è¿æ¥å‡ºé”™(<span class="subst">$&#123;status&#125;</span>)!`</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;message&#125;</span>ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ï¼`</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨å“åº”æ‹¦æˆªå™¨å¯¹å“åº”ç è¿›è¡Œåˆ¤æ–­æç¤ºï¼Œå¦‚æœä¸æ˜¯æˆåŠŸå“åº”å‘å‡ºæç¤ºç»™ç”¨æˆ·ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨ElementPlusçš„Messageç»„ä»¶ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ä¹ æƒ¯é€‰æ‹©å…¶ä»–æ–¹å¼ã€‚</p><p><strong>&#x2F;src&#x2F;utils&#x2F;http&#x2F;index.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getMessage &#125; <span class="keyword">from</span> <span class="string">&#x27;./status&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// axioså“åº”æ‹¦æˆª</span></span><br><span class="line"><span class="comment">// ç»™äºˆç”¨æˆ·å‹å¥½æç¤º</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">   <span class="function">(<span class="params">response: AxiosResponse</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (response.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> response;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">         <span class="attr">message</span>: <span class="title function_">getMessage</span>(response.<span class="property">status</span>),</span><br><span class="line">         <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> response;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">// è¯·æ±‚å¤±è´¥</span></span><br><span class="line">   <span class="function">(<span class="params">error: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; response &#125; = error;</span><br><span class="line">      <span class="keyword">if</span> (response) &#123;</span><br><span class="line">         <span class="comment">// è¯·æ±‚å·²å‘å‡ºï¼Œä½†æ˜¯ä¸åœ¨2xxçš„èŒƒå›´</span></span><br><span class="line">         <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">            <span class="attr">message</span>: <span class="title function_">getMessage</span>(response.<span class="property">status</span>),</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">         &#125;);</span><br><span class="line">         <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response.<span class="property">data</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">         <span class="attr">message</span>: <span class="string">&#x27;ç½‘ç»œè¿æ¥å¼‚å¸¸,è¯·ç¨åå†è¯•!&#x27;</span>,</span><br><span class="line">         <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="æ¥å£ç®¡ç†"><a href="#æ¥å£ç®¡ç†" class="headerlink" title="æ¥å£ç®¡ç†"></a>æ¥å£ç®¡ç†</h4><ul><li>åœ¨æˆ‘ä»¬æˆåŠŸå°†axiosè¿›é¡¹ç›®ä¹‹åï¼Œæ€»æ˜¯åœ¨ç»„ä»¶ä¸­ç›´æ¥å•ç‹¬å¼•ç”¨axioså†è¿›è¡Œé…ç½®è¯·æ±‚æ˜¯ååˆ†ä¸æ–¹ä¾¿çš„ï¼Œå¯¹äºä¸€ä¸ªæ¥å£æˆ‘ä»¬å¯èƒ½ä¼šæœ‰å¤šä¸ªç»„ä»¶ä¼šç”¨åˆ°ã€‚</li></ul><p><strong>æ¥å£ä¸€èˆ¬ä¼šæœ‰ä¸€å±‚æœ€å¤–å›´çš„è§„èŒƒ</strong>ï¼Œä¸‹é¢ä»¥ä¸€ä¸ªæœ€ç®€å•çš„ä¸ºä¾‹ï¼š</p><table><thead><tr><th align="left">å‚æ•°</th><th align="left">ç±»å‹</th><th align="left">è¯´æ˜</th><th align="left">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="left">code</td><td align="left">Number</td><td align="left">ç»“æœç </td><td align="left">æˆåŠŸ&#x3D;1å¤±è´¥&#x3D;-1æœªç™»å½•&#x3D;401æ— æƒé™&#x3D;403</td></tr><tr><td align="left">message</td><td align="left">String</td><td align="left">æ˜¾ç¤ºä¿¡æ¯</td><td align="left">ç»™äºˆç”¨æˆ·çš„æç¤ºä¿¡æ¯</td></tr><tr><td align="left">data</td><td align="left">Object</td><td align="left">æ•°æ®</td><td align="left">JSON æ ¼å¼</td></tr></tbody></table><p>æ‰€æœ‰æ¥å£å‡ä¼šæŒ‰ç…§è¿™æ ·çš„æ ¼å¼è¿”å›ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨TSè®¾è®¡ä¸€ä¸ªç±»å‹ï¼Œä¾¿äºæˆ‘ä»¬è·å¾—ç±»å‹æç¤ºä¸æ ¡éªŒã€‚</p><p>æˆ‘ä»¬å°†ä»–æ”¾ç½®åœ¨ <code>/src/utils/http/types.ts</code> ä¸‹ï¼Œå¹¶ä¸”å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ³›å‹è¿›è¡Œ data æ•°æ®æ ¼å¼çš„ç±»å‹æ ¡éªŒã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">BaseResponse</span>&lt;T = <span class="built_in">any</span>&gt; &#123;</span><br><span class="line">   <span class="attr">code</span>: <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">message</span>: <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">data</span>: T;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯¹ç¬¬ä¸€å±‚å“åº”è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œå¦‚æœcodeä¸ä¸º1åˆ™è¯´æ˜å‘ç”Ÿé”™è¯¯ï¼Œç›´æ¥ç»™äºˆç”¨æˆ·æç¤ºã€‚</p><p><strong>&#x2F;src&#x2F;utils&#x2F;http&#x2F;index.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BaseResponse ä¸º res.data çš„ç±»å‹</span></span><br><span class="line"><span class="comment">// T ä¸º res.data.data çš„ç±»å‹ ä¸åŒçš„æ¥å£ä¼šè¿”å›ä¸åŒçš„ data æ‰€ä»¥æˆ‘ä»¬åŠ ä¸€ä¸ªæ³›å‹è¡¨ç¤º</span></span><br><span class="line"><span class="comment">// æ­¤å¤„ç›¸å½“äºäºŒæ¬¡å“åº”æ‹¦æˆª</span></span><br><span class="line"><span class="comment">// ä¸ºå“åº”æ•°æ®è¿›è¡Œå®šåˆ¶åŒ–å¤„ç†</span></span><br><span class="line"><span class="keyword">const</span> msgRequest = &lt;T = <span class="built_in">any</span>&gt;(<span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>): <span class="title class_">Promise</span>&lt;T&gt; =&gt; &#123;</span><br><span class="line">   <span class="keyword">const</span> conf = config;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      service</span><br><span class="line">         .<span class="property">request</span>&lt;<span class="built_in">any</span>, <span class="title class_">AxiosResponse</span>&lt;<span class="title class_">BaseResponse</span>&gt;&gt;(conf)</span><br><span class="line">         .<span class="title function_">then</span>(<span class="function">(<span class="params">res: AxiosResponse&lt;BaseResponse&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> data = res.<span class="property">data</span>;</span><br><span class="line">            <span class="comment">// å¦‚æœdata.codeä¸ºé”™è¯¯ä»£ç è¿”å›messageä¿¡æ¯</span></span><br><span class="line">            <span class="keyword">if</span> (data.<span class="property">code</span> != <span class="number">1</span>) &#123;</span><br><span class="line">               <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                  <span class="attr">message</span>: data.<span class="property">message</span>,</span><br><span class="line">                  <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">               &#125;);</span><br><span class="line">               <span class="title function_">reject</span>(data.<span class="property">message</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">                  <span class="attr">message</span>: data.<span class="property">message</span>,</span><br><span class="line">                  <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">               &#125;);</span><br><span class="line">               <span class="comment">// æ­¤å¤„è¿”å›dataä¿¡æ¯ ä¹Ÿå°±æ˜¯ api ä¸­é…ç½®å¥½çš„ Responseç±»å‹</span></span><br><span class="line">               <span class="title function_">resolve</span>(data.<span class="property">data</span> <span class="keyword">as</span> T);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¯·æ±‚æ–¹å¼æœ‰å¤šç§ï¼ŒPOSTã€GETã€PUTã€DELETEç­‰ç­‰ï¼Œä¸ºäº†ç®€åŒ–axiosé…ç½®é¡¹çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸åŒçš„è¯·æ±‚æ–¹å¼è¿›è¡Œå°è£…ã€‚</p><p>ä¸ºäº†è·å¾—TSçš„ç±»å‹æ ¡éªŒä¸æç¤ºï¼Œæˆ‘ä»¬ä¼ å…¥ä¸¤ä¸ªæ³›å‹ï¼Œä¸€ä¸ªä»£è¡¨è¯·æ±‚å‚æ•°ç±»å‹ï¼Œä¸€ä¸ªä»£è¡¨è¿”å›çš„dataç±»å‹ã€‚</p><p><strong>&#x2F;src&#x2F;utils&#x2F;http&#x2F;index.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æœ€åä½¿ç”¨å°è£…è¿‡çš„axioså¯¼å‡ºä¸åŒçš„è¯·æ±‚æ–¹å¼</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> get&lt;T = <span class="built_in">any</span>, U = <span class="built_in">any</span>&gt;(</span><br><span class="line">   <span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>,</span><br><span class="line">   <span class="attr">url</span>: <span class="built_in">string</span>,</span><br><span class="line">   parms?: U</span><br><span class="line">): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="title function_">msgRequest</span>(&#123; ...config, url, <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>, <span class="attr">params</span>: parms &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> post&lt;T = <span class="built_in">any</span>, U = <span class="built_in">any</span>&gt;(</span><br><span class="line">   <span class="attr">config</span>: <span class="title class_">AxiosRequestConfig</span>,</span><br><span class="line">   <span class="attr">url</span>: <span class="built_in">string</span>,</span><br><span class="line">   <span class="attr">data</span>: U</span><br><span class="line">): <span class="title class_">Promise</span>&lt;T&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="title function_">msgRequest</span>(&#123; ...config, url, <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>, <span class="attr">data</span>: data &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¥å£åˆ†ç±»"><a href="#æ¥å£åˆ†ç±»" class="headerlink" title="æ¥å£åˆ†ç±»"></a>æ¥å£åˆ†ç±»</h4><p>æœ€åŸºç¡€çš„æ¥å£å°è£…å®Œæ¯•äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦ä½¿ç”¨è¿™äº›æ¥å£ã€‚å°±éœ€è¦å°†è¿™äº›æ¥å£åˆ†ç±»ç®¡ç†ï¼Œè´Ÿè´£ç”¨æˆ·ä¿¡æ¯ç®¡ç†çš„æ¥å£æ”¾åœ¨ä¸€èµ·ï¼Œè´Ÿè´£æƒé™ç®¡ç†çš„æ¥å£æ”¾åœ¨ä¸€èµ·ç­‰ç­‰ã€‚</p><p>æˆ‘ä»¬åœ¨<code>/src/api</code>ä¸‹å»ºç«‹ä¸åŒçš„æ–‡ä»¶å¤¹ä»£è¡¨ä¸åŒç±»å‹çš„APIï¼Œåœ¨<code>index.ts</code>ä¸­ç¼–å†™æ¥å£é…ç½®ï¼Œåœ¨<code>types.ts</code>ä¸­ç¼–å†™æ¥å£æ‰€éœ€çš„è¯·æ±‚å‚æ•°ç±»å‹ä»¥åŠå“åº”ç±»å‹ã€‚</p><p><strong>&#x2F;src&#x2F;api&#x2F;user&#x2F;types.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç™»å½•æ‰€éœ€çš„å‚æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">LoginRequest</span> = &#123;</span><br><span class="line">   <span class="attr">username</span>: <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">password</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ·æ–°ç™»å½•ä¿¡æ¯éœ€è¦çš„å‚æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> reLoginRequest = &#123;</span><br><span class="line">   <span class="attr">accessToken</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç™»å½•åè¿”å›çš„å“åº”ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">LoginResponse</span> = &#123;</span><br><span class="line">   <span class="attr">username</span>: <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">roles</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line">   <span class="attr">accessToken</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¯¹æ­¤ç±»å‹ä¸åŒçš„æ¥å£è¿›è¡Œå°è£…ï¼Œä¹‹ååœ¨ç»„ä»¶ä¸­æˆ–è€…å†æ¬¡å°è£…åœ¨Storeä¸­ä½¿ç”¨å³å¯ã€‚</p><p><strong>&#x2F;src&#x2F;api&#x2F;user&#x2F;index.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; post &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/http&#x27;</span>;</span><br><span class="line"><span class="comment">// å¯¼å…¥ç±»å‹</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">LoginRequest</span>, <span class="title class_">LoginResponse</span>, reLoginRequest &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user/types&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// post è¯·æ±‚ç›´æ¥ä¼ å…¥ä¸€ä¸ª data å³å¯ url æˆ‘ä»¬ç›´æ¥åœ¨æ­¤å¤„å°è£…å¥½</span></span><br><span class="line"><span class="comment">// éœ€è¦æ›´æ”¹æ—¶ä¹Ÿåªéœ€åœ¨æ­¤å¤„æ›´æ”¹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userLogin</span> = <span class="keyword">async</span> (<span class="params">data?: LoginRequest</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> post&lt;<span class="title class_">LoginResponse</span>&gt;(&#123;&#125;, <span class="string">&#x27;/login&#x27;</span>, data);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">refreshUserInfo</span> = <span class="keyword">async</span> (<span class="params">data?: reLoginRequest</span>) =&gt; &#123;</span><br><span class="line">   <span class="keyword">return</span> post&lt;<span class="title class_">LoginResponse</span>&gt;(&#123;&#125;, <span class="string">&#x27;/getUserInfo&#x27;</span>, data);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸­å¼•ç”¨ï¼Œä¹Ÿå¯å°†å…¶å°è£…åœ¨storeçš„actionä¸­ï¼Œå°†ç›¸å…³çš„storeä¸æ¥å£å…³è”èµ·æ¥</p></blockquote><h2 id="å°è£…router"><a href="#å°è£…router" class="headerlink" title="å°è£…router"></a>å°è£…router</h2><p>routeråœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¦‚æœæˆ‘ä»¬ç›´æ¥åœ¨ä¸€ä¸ªæ–‡ä»¶çš„ä¸€ä¸ªæ•°ç»„ä¸­é…ç½®ï¼Œæœ€åè·¯ç”±è¶Šæ¥è¶Šå¤šä¼šå¯¼è‡´ä¸æ˜“ç®¡ç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªé¡µé¢çš„è·¯ç”±é…ç½®åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æœ€åç»Ÿä¸€å¯¼å…¥ï¼Œè¿™æ ·å°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚</p><p>æˆ‘ä»¬å°†ä¸åŒé¡µé¢çš„è·¯ç”±æ”¾ç½®åœ¨<code>/src/router/modules/xxx.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">   <span class="attr">name</span>: <span class="string">&#x27;LoginPage&#x27;</span>,</span><br><span class="line">   <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/index.vue&#x27;</span>),</span><br><span class="line">   <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">role</span>: [<span class="string">&#x27;common&#x27;</span>, <span class="string">&#x27;admin&#x27;</span>],</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">children</span>: [],</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="title class_">RouteRecordRaw</span>;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨<code>/src/router/index.ts</code>å¯¼å…¥è¿™ä¸ªè·¯ç”±</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory, <span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// import.meta.glob ä¸º vite æä¾›çš„ç‰¹æ®Šå¯¼å…¥æ–¹å¼</span></span><br><span class="line"><span class="comment">// å®ƒå¯ä»¥å°†æ¨¡å—ä¸­å…¨éƒ¨å†…å®¹å¯¼å…¥å¹¶è¿”å›ä¸€ä¸ªRecordå¯¹è±¡</span></span><br><span class="line"><span class="comment">// é»˜è®¤ä¸ºæ‡’åŠ è½½æ¨¡å¼ åŠ å…¥é…ç½®é¡¹ eager å–æ¶ˆæ‡’åŠ è½½</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">modules</span>: <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt; = <span class="keyword">import</span>.<span class="property">meta</span>.<span class="title function_">glob</span>([<span class="string">&#x27;./modules/*.ts&#x27;</span>], &#123;</span><br><span class="line">   <span class="attr">eager</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">Array</span>&lt;<span class="title class_">RouteRecordRaw</span>&gt; = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†è·¯ç”±å…¨éƒ¨å¯¼å…¥æ•°ç»„</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(modules).<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">   routes.<span class="title function_">push</span>(modules[key].<span class="property">default</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¼å…¥ç”Ÿæˆçš„è·¯ç”±æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">   <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">   routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">async</span> (_to, _from, next) =&gt; &#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">_to</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="title class_">NProgress</span>.<span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨moduleä¸­ç›´æ¥åˆ›å»ºè·¯ç”±ï¼Œæ— éœ€å†æ¬¡åœ¨<code>index.ts</code>ä¸­æ‰‹åŠ¨å¼•å…¥äº†ã€‚</p><h2 id="å°è£…store"><a href="#å°è£…store" class="headerlink" title="å°è£…store"></a>å°è£…store</h2><p>åŒaxiosä¸touterä¸€æ ·ï¼Œä¹Ÿæ‹¥æœ‰è®¸å¤šåŒç±»åˆ«çš„storeæ•°æ®ï¼Œæˆ‘ä»¬å°†ä»–ä»¬æ”¾ç½®åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ä¾¿äºè°ƒç”¨ï¼Œä¾‹å¦‚ user æ¨¡å—ä¸“é—¨ç”¨äºä¿å­˜ä¸ç”¨æˆ·ç›¸å…³çš„ä¿¡æ¯ä¸æ–¹æ³•ã€‚</p><p><strong>&#x2F;src&#x2F;store&#x2F;index.ts</strong></p><ul><li>è¿™é‡Œç”¨äºå¯¼å‡ºéœ€è¦ä½¿ç”¨çš„piniaå¹¶ä½¿ç”¨æŒä¹…åŒ–æ’ä»¶</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> piniaPluginPersistedstate <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>();</span><br><span class="line">pinia.<span class="title function_">use</span>(piniaPluginPersistedstate);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pinia;</span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;store&#x2F;xxx&#x2F;types.ts</strong></p><ul><li>ä»¥ user ä¸ºä¾‹</li><li>è¿™é‡Œç”¨äºå®šä¹‰stroeä¸­stateæ•°æ®çš„ç±»å‹</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">UserState</span> &#123;</span><br><span class="line">   <span class="attr">username</span>: <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">accessToken</span>: <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">refreshToken</span>: <span class="built_in">string</span>;</span><br><span class="line">   <span class="attr">roles</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;store&#x2F;xxx&#x2F;index.ts</strong></p><ul><li>å®šä¹‰storeæ¨¡å—çš„ä¸»è¦å†…å®¹ï¼Œstateã€getterã€actions</li><li>stateç”¨äºæŠ¥é”™ä¸ç”¨æˆ·ç›¸å…³çš„æ•°æ®</li><li>getterä¿å­˜éœ€è¦äºŒæ¬¡å¤„ç†çš„æ•°æ®</li><li>actionå°è£…ä¸€äº›ä¸useræ¨¡å—ç›¸å…³çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åˆšåˆšå°è£…è¿‡çš„apiå¦‚æœéœ€è¦ç›´æ¥æ”¹å˜ç”¨æˆ·æ•°æ®ç›´æ¥åœ¨actionä¸­è°ƒç”¨å³å¯</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">UserState</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./types&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; refreshUserInfo, userLogin &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useUserStoreHook = <span class="title function_">defineStore</span>(</span><br><span class="line">   <span class="comment">// å”¯ä¸€ID</span></span><br><span class="line">   <span class="string">&#x27;User&#x27;</span>,</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">         <span class="attr">username</span>: <span class="string">&#x27;æ¸¸å®¢&#x27;</span>,</span><br><span class="line">         <span class="attr">accessToken</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">         <span class="attr">roles</span>: [<span class="string">&#x27;common&#x27;</span>],</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="attr">getters</span>: &#123;&#125;,</span><br><span class="line">      <span class="attr">actions</span>: &#123;</span><br><span class="line">         <span class="comment">// ç”¨äºæ›´æ–°storeæ•°æ®</span></span><br><span class="line">         <span class="comment">// UserStateä¸ºå®šä¹‰å¥½çš„stateç±»å‹</span></span><br><span class="line">         <span class="title function_">updateInfo</span>(<span class="params">partial: Partial&lt;UserState&gt;</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.$patch(partial);</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="comment">// ç”¨æˆ·ç™»å½•</span></span><br><span class="line">         <span class="title function_">storeUserLogin</span>(<span class="params">data</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">userLogin</span>(data).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">               <span class="variable language_">this</span>.<span class="property">username</span> = res.<span class="property">username</span>;</span><br><span class="line">               <span class="variable language_">this</span>.<span class="property">roles</span> = res.<span class="property">roles</span>;</span><br><span class="line">               <span class="variable language_">this</span>.<span class="property">accessToken</span> = res.<span class="property">accessToken</span>;</span><br><span class="line">               <span class="keyword">return</span> res;</span><br><span class="line">            &#125;);</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="comment">// åˆ·æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">         <span class="title function_">refreshUserInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">username</span> == <span class="string">&#x27;æ¸¸å®¢&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">accessToken</span> != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">               <span class="title function_">refreshUserInfo</span>(&#123;</span><br><span class="line">                  <span class="attr">accessToken</span>: <span class="variable language_">this</span>.<span class="property">accessToken</span>,</span><br><span class="line">               &#125;)</span><br><span class="line">                  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">                     <span class="variable language_">this</span>.<span class="property">username</span> = res.<span class="property">username</span>;</span><br><span class="line">                     <span class="variable language_">this</span>.<span class="property">roles</span> = res.<span class="property">roles</span>;</span><br><span class="line">                     <span class="variable language_">this</span>.<span class="property">accessToken</span> = res.<span class="property">accessToken</span>;</span><br><span class="line">                  &#125;)</span><br><span class="line">                  .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                     <span class="variable language_">this</span>.<span class="property">accessToken</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                  &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// æŒä¹…åŒ–ä¿å­˜ accessToken</span></span><br><span class="line">      <span class="attr">persist</span>: &#123;</span><br><span class="line">         <span class="attr">key</span>: <span class="string">&#x27;userInfo&#x27;</span>,</span><br><span class="line">         <span class="attr">storage</span>: sessionStorage,</span><br><span class="line">         <span class="attr">paths</span>: [<span class="string">&#x27;accessToken&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">   &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºè¯¥Store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useUserStore</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="title function_">useUserStoreHook</span>(pinia);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨çš„æ—¶å€™æˆ‘ä»¬ç›´æ¥åœ¨éœ€è¦ä½¿ç”¨storeæ•°æ®çš„ç»„ä»¶ä¸­å¼•ç”¨å¹¶ä½¿ç”¨å³å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=&#x27;ts&#x27; setup&gt;</span><br><span class="line">import &#123; useUserStore &#125; from &#x27;@/store/modules/user&#x27;</span><br><span class="line">const userStore = useUserStore()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>vue3æŠ€æœ¯æ ˆçš„å¸¸ç”¨çš„åŸºç¡€å°è£…å°±å®Œæˆäº†ï¼Œæ¯ä¸ªäººçš„å°è£…ä¹ æƒ¯å„ä¸ç›¸åŒï¼Œåªè¦å›¢é˜Ÿç”¨èµ·æ¥æ–¹ä¾¿å¿«æ·å°±å¥½ã€‚</p><p>ä¸€ä¸ªåŸºç¡€çš„ Vue3+TypeScrpit+Vite çš„é¡¹ç›®å°±æ­¤æ„é€ å®Œæ¯•ï¼</p><p><strong>ç³»åˆ—æ–‡ç« </strong>ï¼š</p><ul><li><a href="https://juejin.cn/post/7207615983950987320">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„ Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href="https://juejin.cn/post/7209542304863649852">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£… é™ä½è€¦åˆåº¦ å°è£… axios pinia router</a></li><li><a href="https://juejin.cn/post/7213310111623725117">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</a></li><li><a href="https://juejin.cn/post/7214759986802294844">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</a></li><li><a href="https://juejin.cn/post/7300460850011521078">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</a></li></ul><p><strong>å‚è€ƒå­¦ä¹ é¡¹ç›®</strong>ï¼š</p><ul><li><a href="https://github.com/tobe-fe-dalao/fast-vue3">fast-vue3</a></li><li><a href="https://github.com/pure-admin/vue-pure-admin">vue-pure-admin</a></li></ul><blockquote><p>å¦‚æœæœ‰ä»»ä½•ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡æ­£ï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ã€‚</p><p>æ›´æ–‡ä¸æ˜“ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ‘</p><p>å…³æ³¨æˆ‘ï¼Œåç»­æ–‡ç« ä¸è¿·è·¯â›„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæ‰‹æ¶ </tag>
            
            <tag> axios </tag>
            
            <tag> pinia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„  Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</title>
      <link href="/2023/03/27/sv3-template/1-createBaseProject/"/>
      <url>/2023/03/27/sv3-template/1-createBaseProject/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„-Vite-TypeScrpit-Vue3-åˆå§‹åŒ–é¡¹ç›®"><a href="#ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶-ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„-Vite-TypeScrpit-Vue3-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„  Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®"></a>ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„  Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</h1><blockquote><p>helloå¤§å®¶å¥½æˆ‘æ˜¯é›ªäººâ›„ï¼Œä¸çŸ¥ä¸è§‰æ–­æ›´å¥½ä¹…äº†ğŸ˜„ï¼Œç»è¿‡äº†é•¿æ—¶é—´çš„å­¦ä¹ ï¼Œç»ˆäºè¸å…¥äº†å‰ç«¯å·¥ç¨‹åŒ–çš„å¤§é—¨ï¼Œå¤§å®¶å†æ—¥å¸¸å¼€å‘ä¸­æ€»æ˜¯ä¼šç”¨åˆ°ä¸€ä¸ªå¼€å‘å·¥å…·ï¼šè„šæ‰‹æ¶ï¼Œå¤§å®¶åœ¨ä½¿ç”¨å…¶ä»–äººçš„è„šæ‰‹æ¶æˆ–è€…ä¸€äº›å®˜æ–¹è„šæ‰‹æ¶çš„æ—¶å€™ï¼Œå¯èƒ½åªæ‡‚å¾—ä½¿ç”¨å¹¶ä¸æ‡‚å¾—å¦‚ä½•å®ç°ï¼Œçœ‹åˆ°ä¸€äº›ä»£ç åªæ˜¯çŸ¥å…¶ç„¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥ä¸€å¥—æ•™ç¨‹ï¼Œæ•™å¤§å®¶å…¥é—¨â€œè„šæ‰‹æ¶â€ï¼Œç›¸ä¿¡ä½ ä¸€å®šä¼šæœ‰æ‰€æ”¶è·ã€‚</p><ul><li><strong>GitHub</strong>ï¼š<a href="https://github.com/LonelySnowman/sv3-template">LonelySnowman&#x2F;sv3-template</a></li><li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://sv3-docs.snowhouse.space/">SV3-Family | Vue3</a></li></ul></blockquote><ul><li>å‰ç½®çŸ¥è¯†ï¼šVueå…¨å®¶æ¡¶ï¼Œäº†è§£Viteæˆ–WebPackç­‰æ„å»ºå·¥å…·ï¼ŒNode.js</li><li>æ‚¨å°†æ”¶è·åˆ°ï¼šä»é›¶åˆ°ä¸€æ„å»ºä¸€ä¸ªè§„èŒƒçš„ Vue3+TS+Vite è„šæ‰‹æ¶</li></ul><p><strong>é¡¹ç›®ä½¿ç”¨çš„ä¾èµ–</strong>ï¼š</p><ul><li>ä½¿ç”¨ Vite è¿›è¡Œé¡¹ç›®æ„å»º</li><li>ä½¿ç”¨ TypeScript</li><li>ä½¿ç”¨ Sass ç¼–å†™æ ·å¼</li><li>å¯¹ piniaï¼Œvue-routerï¼Œaxios è¿›è¡Œæ¨¡å—åŒ–å°è£…</li><li>ä½¿ç”¨ CommitLintï¼ŒESLintï¼ŒStyleLintï¼ŒPrettierï¼ŒLintStage è¿›è¡Œå›¢é˜Ÿé¡¹ç›®è§„èŒƒ</li><li>ä½¿ç”¨ Mock.js æ¨¡æ‹Ÿæ•°æ®ï¼Œä½¿ç”¨ plop å¿«é€Ÿç”Ÿæˆå¼€å‘æ¨¡æ¿</li><li>ä½¿ç”¨ ElementPlus ç»„ä»¶åº“</li></ul><h2 id="ç¡®å®šé¡¹ç›®ç›®å½•ç»“æ„"><a href="#ç¡®å®šé¡¹ç›®ç›®å½•ç»“æ„" class="headerlink" title="ç¡®å®šé¡¹ç›®ç›®å½•ç»“æ„"></a>ç¡®å®šé¡¹ç›®ç›®å½•ç»“æ„</h2><ul><li>é¦–å…ˆåˆ—å‡ºç›®å½•ç»“æ„ï¼Œå¤§å®¶æ ¹æ®ç›®å½•ç»“æ„ç›´æ¥åˆ›å»ºç›®å½•å³å¯ï¼Œåç»­ä¼šç»™å¤§å®¶è¯¦è§£è¿™äº›ç›®å½•ã€‚</li></ul><blockquote><p>ä¸‹é¢æ˜¯æˆ‘å­¦ä¹ åˆ°çš„ä¸€äº›é¡¹ç›®ç›®å½•ç»“æ„ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒï¼Œå­¦ä¹ å®Œæ¯•åå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯è¿›è¡Œæ›´æ”¹ã€‚</p></blockquote><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sv3-template/</span><br><span class="line">|- .husky/# gité’©å­é…ç½®</span><br><span class="line">|- build/# é¡¹ç›®æ‰“åŒ…é…ç½® </span><br><span class="line">|- mock/# æ•°æ®è¯·æ±‚æ¨¡æ‹Ÿ</span><br><span class="line">|- plop-templates/# é¡¹ç›®å¼€å‘æ¨¡æ¿</span><br><span class="line">|- public/# ä¸ç»è¿‡æ‰“åŒ…çš„é™æ€èµ„æº</span><br><span class="line">|- type/# tsç±»å‹å®šä¹‰</span><br><span class="line">|- src/# é¡¹ç›®èµ„æº</span><br><span class="line">|- api/# httpè¯·æ±‚ç®¡ç†</span><br><span class="line">|- assets/# ç»è¿‡æ‰“åŒ…çš„é™æ€èµ„æº</span><br><span class="line">|- components/# é€šç”¨ç»„ä»¶</span><br><span class="line">|- hooks/# é€šç”¨ç»„ä»¶çŠ¶æ€é€»è¾‘å‡½æ•°</span><br><span class="line">|- router/# é¡¹ç›®è·¯ç”±ç®¡ç†</span><br><span class="line">|- store/# ç»„ä»¶çŠ¶æ€ç®¡ç†</span><br><span class="line">|- styles/# é¡¹ç›®é€šç”¨æ ·å¼</span><br><span class="line">|- utils/# å·¥å…·å‡½æ•°</span><br><span class="line">|- http/axios/ # axioså°è£…</span><br><span class="line">|- views/# é¡µé¢ç»„ä»¶</span><br></pre></td></tr></table></figure><ul><li>æ¥ä¸‹æ¥è®²è§£ä¸€ä¸ªåŸºæœ¬çš„Vue3è„šæ‰‹æ¶éœ€è¦å…·å¤‡å“ªåŠŸèƒ½</li></ul><h2 id="Vue3å…¨å®¶æ¡¶"><a href="#Vue3å…¨å®¶æ¡¶" class="headerlink" title="Vue3å…¨å®¶æ¡¶"></a>Vue3å…¨å®¶æ¡¶</h2><ul><li>æˆ‘ä»¬æ—¢ç„¶è¦å¼€å‘Vueé¡¹ç›®ï¼ŒVueå…¨å®¶æ¡¶å½“ç„¶æ˜¯æœ€é‡è¦çš„ï¼Œä½¿ç”¨piniaè¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œä½¿ç”¨vue-routerè¿›è¡Œè·¯ç”±ç®¡ç†ï¼Œaxiosè¿›è¡Œhttpè¯·æ±‚ç­‰ç­‰ã€‚</li><li>ä¸‹é¢ä¼šè®²è§£å…¨å®¶æ¡¶çš„å®‰è£…ä¸åŸºç¡€é…ç½®ï¼Œæ¨¡å—åŒ–çš„å°è£…å°†ä¼šåœ¨ä¸‹ä¸€èŠ‚è®²è§£ã€‚</li></ul><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><ul><li>è¿™é‡Œæˆ‘æ¨èå¤§å®¶ä½¿ç”¨pnpmè¿›è¡Œä¾èµ–ç®¡ç†ï¼Œpnpmçš„ä¼˜ç‚¹å¤§å®¶å¯åœ¨ç½‘ä¸ŠæŸ¥é˜…ï¼Œè¿™é‡Œå°±ä¸è¿›è¡Œæ¦‚è¿°äº†ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pnpm install axios pinia pinia-plugin-persistedstate vue vue-router nprogress</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬é¡¹ç›®ä½¿ç”¨ element plus å¤§å®¶å¯ä»¥æ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©è‡ªå·±å¸¸ç”¨çš„ç»„ä»¶åº“</span></span><br><span class="line">pnpm install element-plus @element-plus/icons-vue</span><br><span class="line"></span><br><span class="line">pnpm install -D typescript sass</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹è¿™äº›ä¾èµ–çš„ä½œç”¨ï¼Œå¤§å®¶æ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©å®‰è£…å³å¯ã€‚</p><ul><li>vueï¼š(âŠ™ï¹âŠ™)è¿™ä¸ªåº”è¯¥ä¸ç”¨å¤šè¯´</li><li>axiosï¼švueå®˜æ–¹æ¨èhttpè¯·æ±‚åº“</li><li>piniaï¼švueå®˜æ–¹æ¨èçŠ¶æ€ç®¡ç†å·¥å…·</li><li>pinia-plugin-persistedstateï¼špiniaæ•°æ®æŒä¹…åŒ–æ’ä»¶</li><li>vue-routerï¼šè·¯ç”±ç®¡ç†å·¥å…·</li><li>typescriptï¼šä½¿ç”¨TSè¯­è¨€</li><li>sassï¼šcssé¢„å¤„ç†</li><li>element-plusï¼šäº²æ°‘è€ç‰Œç»„ä»¶åº“</li><li>nprogresï¼šç®€æ´ç¾è§‚çš„è¿›åº¦åŠ è½½æ¡ç»„ä»¶</li></ul><p><strong>é¦–å…ˆåº”è¯¥æ­å»ºä¸€ä¸ªåŸºç¡€çš„Vueé¡¹ç›®ç»“æ„</strong></p><ul><li>æ–°å»ºä»¥ä¸‹ç›®å½•</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sv3-template/</span><br><span class="line">|- public/# ä¸ç»è¿‡æ‰“åŒ…çš„é™æ€èµ„æº</span><br><span class="line">|- src/# é¡¹ç›®èµ„æº</span><br><span class="line">|- assets/# ç»è¿‡æ‰“åŒ…çš„é™æ€èµ„æº</span><br><span class="line">|- components/# é€šç”¨ç»„ä»¶</span><br><span class="line">|- styles/# é¡¹ç›®é€šç”¨æ ·å¼</span><br><span class="line">|- utils/# å·¥å…·å‡½æ•°</span><br><span class="line">|- http/axios/ # axioså°è£…</span><br><span class="line">|- views/# é¡µé¢ç»„ä»¶</span><br><span class="line">|- App.vue  # é¡¹ç›®çš„ä¸»ç»„ä»¶</span><br><span class="line">|- main.ts# å…¥å£tsæ–‡ä»¶</span><br><span class="line">| - index.html # å…¥å£htmlæ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h3><p><strong>index.html</strong></p><ul><li>å¯¹é¡µé¢è¿›è¡ŒåŸºç¡€é…ç½®</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon.ico&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">title</span>&gt;</span>sv3-template<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ä»¤ id=&quot;app&quot; ä¾¿äºvueè¿›è¡ŒæŒ‚è½½ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- å¼•å…¥main.tsæ–‡ä»¶ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/src/main.ts&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;App.vue</strong></p><ul><li>ç¼–å†™é¡¹ç›®çš„ä¸»ç»„ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;!-- ä¸€èˆ¬vueé¡¹ç›®éƒ½ä¼šä½¿ç”¨vue-router --&gt;</span><br><span class="line">   &lt;!-- æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç›´æ¥å†™ä¸€ä¸ª router-view --&gt;</span><br><span class="line">   &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;styles&#x2F;_reset.scss</strong></p><ul><li><code>_reset.scss</code>æ˜¯è¿›è¡Œä¸€ä¸ªå¯¹åŸºç¡€HTMLé»˜è®¤æ ·å¼çš„é‡ç½®</li><li>è¿™éƒ¨åˆ†ä¹Ÿæ˜¯æ ¹æ®ä¸ªäººä¹ æƒ¯é…ç½®å³å¯</li><li>è¿™é‡Œå¼•ç”¨ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š<a href="https://github.com/jgthms/minireset.css/blob/master/minireset.css">minireset.css</a></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-tag">p</span>,</span><br><span class="line"><span class="selector-tag">ol</span>,</span><br><span class="line"><span class="selector-tag">ul</span>,</span><br><span class="line"><span class="selector-tag">li</span>,</span><br><span class="line"><span class="selector-tag">dl</span>,</span><br><span class="line"><span class="selector-tag">dt</span>,</span><br><span class="line"><span class="selector-tag">dd</span>,</span><br><span class="line"><span class="selector-tag">blockquote</span>,</span><br><span class="line"><span class="selector-tag">figure</span>,</span><br><span class="line"><span class="selector-tag">fieldset</span>,</span><br><span class="line"><span class="selector-tag">legend</span>,</span><br><span class="line"><span class="selector-tag">textarea</span>,</span><br><span class="line">pre,</span><br><span class="line"><span class="selector-tag">iframe</span>,</span><br><span class="line">hr,</span><br><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">input</span>,</span><br><span class="line">select &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">::before</span>, *<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span>,</span><br><span class="line"><span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">iframe</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">  <span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">td</span>,</span><br><span class="line"><span class="selector-tag">th</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;main.ts</strong></p><ul><li>å¼•å…¥æ ·å¼æ–‡ä»¶ï¼ŒæŒ‚è½½Vue</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./styles/_reset.scss&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><p><strong>&#x2F;views&#x2F;xxx.vue</strong></p><p>åˆ›å»ºé¡µé¢ç»“æ„</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">views/</span><br><span class="line">|- home/# é¡µé¢æ–‡ä»¶</span><br><span class="line">|- components/# æ”¾ç½®é¡µé¢ä½¿ç”¨çš„ç»„ä»¶</span><br><span class="line">|- xxx.vue</span><br><span class="line">|- index.vue# ç»è¿‡æ‰“åŒ…çš„é™æ€èµ„æº</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿™é‡Œå¯ä»¥éšä¾¿å†™ä¸€ä¸ªç®€å•çš„ç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;Hello Vue&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><ul><li>ç„¶åæˆ‘ä»¬éœ€è¦è¿›è¡Œå¯¹è·¯ç”±çš„é…ç½®</li></ul><p><strong>&#x2F;src&#x2F;router&#x2F;index.ts</strong></p><ul><li>è¿™é‡Œè·¯å¾„ä¸­ç”¨åˆ°äº† <code>@</code> æ˜¯æˆ‘ä»¬é…ç½®çš„åˆ«åï¼ŒæŒ‡å‘äº†srcï¼Œåœ¨åé¢ä¼šè®²è§£åˆ°å¦‚ä½•é…ç½®</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory, <span class="title class_">RouteRecordRaw</span>, <span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NProgress</span> <span class="keyword">from</span> <span class="string">&#x27;nprogress&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;nprogress/nprogress.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®è·¯ç”±</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">Array</span>&lt;<span class="title class_">RouteRecordRaw</span>&gt; = [&#123;</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">   <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">   <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/viwes/home/index.vue&#x27;</span>),</span><br><span class="line">   <span class="attr">meta</span>: &#123;&#125;,</span><br><span class="line">   <span class="attr">children</span>: [],</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">async</span> (_to, _from, next) =&gt; &#123;</span><br><span class="line">    <span class="title class_">NProgress</span>.<span class="title function_">start</span>();</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">_to</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">NProgress</span>.<span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;main.ts</strong></p><ul><li>åœ¨main.tsä¸­ï¼Œä»¤appä½¿ç”¨routeræ’ä»¶</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>; <span class="comment">// ++</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./styles/_reset.scss&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line">app.<span class="title function_">use</span>(router); <span class="comment">// ++</span></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="pinia"><a href="#pinia" class="headerlink" title="pinia"></a>pinia</h3><p><strong>&#x2F;src&#x2F;store&#x2F;index.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> piniaPluginPersistedstate <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>();</span><br><span class="line"><span class="comment">// ä½¿ç”¨piniaæ•°æ®æŒä¹…åŒ–æ’ä»¶</span></span><br><span class="line">pinia.<span class="title function_">use</span>(piniaPluginPersistedstate);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pinia;</span><br></pre></td></tr></table></figure><p><strong>&#x2F;src&#x2F;main.ts</strong></p><ul><li>åœ¨main.tsä¸­ï¼Œä»¤appä½¿ç”¨storeæ’ä»¶</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> pinia <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>; <span class="comment">// ++</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./styles/_reset.scss&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line">app.<span class="title function_">use</span>(router);</span><br><span class="line">app.<span class="title function_">use</span>(pinia); <span class="comment">// ++</span></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><p><strong>&#x2F;src&#x2F;utils&#x2F;http&#x2F;index.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123;</span><br><span class="line">   <span class="title class_">AxiosInstance</span>,</span><br><span class="line">   <span class="title class_">AxiosRequestConfig</span>,</span><br><span class="line">   <span class="title class_">AxiosResponse</span>,</span><br><span class="line">   <span class="title class_">AxiosError</span>,</span><br><span class="line">   <span class="title class_">InternalAxiosRequestConfig</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">service</span>: <span class="title class_">AxiosInstance</span> = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">   <span class="attr">baseURL</span>: <span class="string">&#x27;/&#x27;</span></span><br><span class="line">   <span class="attr">timeout</span>: <span class="number">15000</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// axioså®ä¾‹æ‹¦æˆªè¯·æ±‚</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">   <span class="function">(<span class="params">config: InternalAxiosRequestConfig</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> config;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="function">(<span class="params">error: AxiosError</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">   &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// axioså®ä¾‹æ‹¦æˆªå“åº”</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">   <span class="function">(<span class="params">response: AxiosResponse</span>) =&gt;</span> &#123;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="function">(<span class="params">error: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">   &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> service</span><br></pre></td></tr></table></figure><h2 id="æ„å»ºå·¥å…·"><a href="#æ„å»ºå·¥å…·" class="headerlink" title="æ„å»ºå·¥å…·"></a>æ„å»ºå·¥å…·</h2><ul><li>æˆ‘ä»¬å·²ç»å°†vue3çš„åŸºç¡€é¡¹ç›®ç»“æ„æ­å»ºå®Œæ¯•ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ‰èƒ½è®©è¿™ä¸ªé¡¹ç›®è·‘èµ·æ¥å‘¢ï¼Ÿ</li><li>å› ä¸ºæµè§ˆå™¨æ˜¯ä¸èƒ½è¯†åˆ«Vueï¼ŒTSï¼ŒSassè¿™äº›è¯­è¨€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå·¥å…·å°†å®ƒä»¬è½¬å˜æˆæµè§ˆå™¨å¯ä»¥è¯†åˆ«çš„è¯­è¨€ï¼šHtmlï¼ŒCSSï¼ŒJSã€‚Viteå°±å¯ä»¥åšåˆ°è¿™äº›äº‹æƒ…ï¼Œæ¥ä¸‹æ¥æ•™å¤§å®¶é…ç½®Viteå¸®åŠ©æˆ‘ä»¬æ„å»ºé¡¹ç›®ã€‚</li></ul><h3 id="å®‰è£…ä¾èµ–-1"><a href="#å®‰è£…ä¾èµ–-1" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pnpm install -D vite @vitejs/plugin-vue @vitejs/plugin-vue-jsx</span><br><span class="line"></span><br><span class="line">pnpm install -D @types/node @types/nprogress vue-tsc</span><br></pre></td></tr></table></figure><ul><li>viteï¼šé¡¹ç›®æ„å»ºå·¥å…·</li><li>@vitejs&#x2F;plugin-vueï¼šä½¿viteèƒ½å¤Ÿç¼–è¯‘vueç»„ä»¶</li><li>@vitejs&#x2F;plugin-vue-jsxï¼šä½¿viteèƒ½å¤Ÿç¼–è¯‘jsxç»„ä»¶</li><li>@types&#x2F;nodeï¼šnodeç±»å‹åŒ…ï¼Œä½¿tsæ”¯æŒnode</li><li>@types&#x2F;nprogressï¼šnprogressçš„ç±»å‹æ”¯æŒ</li><li>vue-tscï¼švueæ–‡ä»¶çš„ç±»å‹æ£€æŸ¥å·¥å…·</li></ul><h3 id="viteç¯å¢ƒå˜é‡"><a href="#viteç¯å¢ƒå˜é‡" class="headerlink" title="viteç¯å¢ƒå˜é‡"></a>viteç¯å¢ƒå˜é‡</h3><p>Viteå®˜æ–¹æ–‡æ¡£å¯¹ç¯å¢ƒå˜é‡çš„ä»‹ç»ï¼š<a href="https://cn.vitejs.dev/guide/env-and-mode.html">ç¯å¢ƒå˜é‡å’Œæ¨¡å¼ | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.dev)</a></p><ul><li>Vite åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ <strong><code>import.meta.env</code></strong> å¯¹è±¡ä¸Šæš´éœ²ç¯å¢ƒå˜é‡ã€‚</li><li>æˆ‘ä»¬ä¸ºäº†é…ç½®æ–¹ä¾¿ï¼Œå¯ä»¥å°†ä¸€äº›é…ç½®é¡¹å†™åœ¨ç¯å¢ƒå˜é‡ä¸­ã€‚</li></ul><p><strong>æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸‰ä¸ªæ–‡ä»¶</strong>ï¼š<code>.env</code>ï¼Œ<code>.env.production</code>ï¼Œ<code>.env.development</code></p><ul><li>.envï¼šæ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½</li><li>.env.[mode]ï¼šåªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½</li></ul><blockquote><p>npm run dev ä¼šåŠ è½½ .env å’Œ .env.development å†…çš„é…ç½®</p><p>npm run build ä¼šåŠ è½½ .env å’Œ .env.production å†…çš„é…ç½®</p><p>mode å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œ â€“mode é€‰é¡¹æ¥é‡å†™ã€‚</p></blockquote><p><strong>.env</strong></p><ul><li><strong>æ³¨æ„</strong>ï¼šç¯å¢ƒå˜é‡åç§°å¿…é¡»ä¸VITEä½œä¸ºå‰ç¼€ï¼Œå‰ç¼€å¯ä»¥åœ¨Viteé…ç½®ä¸­ä¿®æ”¹</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># axiosè¯·æ±‚çš„ baseURL</span><br><span class="line">VITE_APP_API_BASEURL = /api</span><br></pre></td></tr></table></figure><ul><li>å‰©ä¸‹çš„<code>.env.[mode]</code>ä¹‹åä¼šä»‹ç»åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬å°±å…ˆé…ç½®è¿™ä¸€é¡¹å³å¯</li></ul><p><strong>&#x2F;src&#x2F;utils&#x2F;http&#x2F;index.ts</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">service</span>: <span class="title class_">AxiosInstance</span> = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">   <span class="comment">// è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ç¯å¢ƒå˜é‡ä¸­æ”¹å˜ axios çš„ baseURL</span></span><br><span class="line">   <span class="attr">baseURL</span>: <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_API_BASEURL</span></span><br><span class="line">   <span class="attr">timeout</span>: <span class="number">15000</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="ç¯å¢ƒå˜é‡ç±»å‹æ”¯æŒ"><a href="#ç¯å¢ƒå˜é‡ç±»å‹æ”¯æŒ" class="headerlink" title="ç¯å¢ƒå˜é‡ç±»å‹æ”¯æŒ"></a>ç¯å¢ƒå˜é‡ç±»å‹æ”¯æŒ</h3><p>æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç¯å¢ƒå˜é‡å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦è·å¾—æ™ºèƒ½çš„TypeScriptè¯­æ³•æç¤ºæ¥è®©æˆ‘ä»¬çŸ¥é“æœ‰å“ªäº›ç¯å¢ƒå˜é‡ã€‚</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º<code>types</code>æ–‡ä»¶å¤¹</p><p><strong>&#x2F;types&#x2F;env.d.ts</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ImportMetaEnv</span> &#123;</span><br><span class="line">   <span class="comment">// æˆ‘ä»¬æ¯æ¬¡æ·»åŠ å®Œæ–°çš„ç¯å¢ƒå˜é‡å°±åœ¨æ­¤æ·»åŠ ä¸€æ¬¡tsç±»å‹</span></span><br><span class="line">   <span class="comment">// è¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨ä½¿ç”¨ import.meta.env æ—¶è·å¾—tsè¯­æ³•æç¤º</span></span><br><span class="line">   <span class="keyword">readonly</span> <span class="attr">VITE_APP_API_BASEURL</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ImportMeta</span> &#123;</span><br><span class="line">   <span class="keyword">readonly</span> <span class="attr">env</span>: <span class="title class_">ImportMetaEnv</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="viteé…ç½®æ–‡ä»¶"><a href="#viteé…ç½®æ–‡ä»¶" class="headerlink" title="viteé…ç½®æ–‡ä»¶"></a>viteé…ç½®æ–‡ä»¶</h3><p><strong>vite.config.ts</strong></p><ul><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>vite.config.ts</code> æ–‡ä»¶</li><li>ä¸‹é¢çš„é…ç½®é¡¹çš„è§£é‡Šå‡å·²æ³¨é‡Š</li><li>å®˜ç½‘æœ‰æ›´åŠ è¯¦ç»†çš„é…ç½®ä»‹ç»ï¼š<a href="https://cn.vitejs.dev/config/">é…ç½® Vite | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.dev)</a></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig, loadEnv &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">UserConfig</span>, <span class="title class_">ConfigEnv</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; fileURLToPath &#125; <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vueJsx <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue-jsx&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>((&#123; mode &#125;: <span class="title class_">ConfigEnv</span>): <span class="function"><span class="params">UserConfig</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰å·¥ä½œç›®å½•</span></span><br><span class="line">    <span class="keyword">const</span> root = process.<span class="title function_">cwd</span>();</span><br><span class="line">    <span class="comment">// è·å–ç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="keyword">const</span> env = <span class="title function_">loadEnv</span>(mode, root);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="comment">// é¡¹ç›®æ ¹ç›®å½• </span></span><br><span class="line">      root,</span><br><span class="line">        <span class="comment">// é¡¹ç›®éƒ¨ç½²çš„åŸºç¡€è·¯å¾„</span></span><br><span class="line">      <span class="attr">base</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="attr">publicDir</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./public&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>)), <span class="comment">// æ— éœ€å¤„ç†çš„é™æ€èµ„æºä½ç½®</span></span><br><span class="line">      <span class="attr">assetsInclude</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src/assets&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>)), <span class="comment">// éœ€è¦å¤„ç†çš„é™æ€èµ„æºä½ç½®</span></span><br><span class="line">      <span class="attr">plugins</span>: [</span><br><span class="line">          <span class="comment">// Vueæ¨¡æ¿æ–‡ä»¶ç¼–è¯‘æ’ä»¶</span></span><br><span class="line">          <span class="title function_">vue</span>(),</span><br><span class="line">          <span class="comment">// jsxæ–‡ä»¶ç¼–è¯‘æ’ä»¶</span></span><br><span class="line">          <span class="title function_">vueJsx</span>(),</span><br><span class="line">      ],</span><br><span class="line">      <span class="comment">// è¿è¡Œåæœ¬åœ°é¢„è§ˆçš„æœåŠ¡å™¨</span></span><br><span class="line">      <span class="attr">server</span>: &#123;</span><br><span class="line">         <span class="comment">// æ˜¯å¦å¼€å¯https</span></span><br><span class="line">         <span class="attr">https</span>: <span class="literal">false</span>,</span><br><span class="line">         <span class="comment">// æŒ‡å®šæœåŠ¡å™¨åº”è¯¥ç›‘å¬å“ªä¸ª IP åœ°å€ã€‚ å¦‚æœå°†æ­¤è®¾ç½®ä¸º 0.0.0.0 æˆ–è€… true å°†ç›‘å¬æ‰€æœ‰åœ°å€ï¼ŒåŒ…æ‹¬å±€åŸŸç½‘å’Œå…¬ç½‘åœ°å€ã€‚</span></span><br><span class="line">         <span class="attr">host</span>: <span class="literal">true</span>,</span><br><span class="line">         <span class="comment">// å¼€å‘ç¯å¢ƒé¢„è§ˆæœåŠ¡å™¨ç«¯å£</span></span><br><span class="line">         <span class="attr">port</span>: <span class="number">3000</span>,</span><br><span class="line">         <span class="comment">// å¯åŠ¨åæ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">         <span class="attr">open</span>: <span class="literal">false</span>,</span><br><span class="line">         <span class="comment">// æ˜¯å¦å¼€å¯CORSè·¨åŸŸ</span></span><br><span class="line">         <span class="attr">cors</span>: <span class="literal">true</span>,</span><br><span class="line">         <span class="comment">// ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">         <span class="comment">// å¸®åŠ©æˆ‘ä»¬å¼€å‘æ—¶è§£å†³è·¨åŸŸé—®é¢˜</span></span><br><span class="line">         <span class="attr">proxy</span>: &#123;</span><br><span class="line">            <span class="comment">// è¿™é‡Œçš„æ„æ€æ˜¯ ä»¥/apiå¼€å¤´å‘é€çš„è¯·æ±‚éƒ½ä¼šè¢«è½¬å‘åˆ° http://xxx:3000</span></span><br><span class="line">            <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">               <span class="attr">target</span>: <span class="string">&#x27;http://xxx:3000&#x27;</span>,</span><br><span class="line">               <span class="comment">// æ”¹å˜ Host Header</span></span><br><span class="line">               <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">               <span class="comment">// å‘èµ·è¯·æ±‚æ—¶å°† &#x27;/api&#x27; æ›¿æ¢ä¸º &#x27;&#x27;</span></span><br><span class="line">               <span class="attr">rewrite</span>: <span class="function">(<span class="params">path</span>) =&gt;</span> path.<span class="title function_">replace</span>(<span class="regexp">/^\/api/</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">            &#125;,</span><br><span class="line">         &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// æ‰“åŒ…é…ç½®</span></span><br><span class="line">      <span class="attr">build</span>: &#123;</span><br><span class="line">         <span class="comment">// å…³é—­ sorcemap æŠ¥é”™ä¸ä¼šæ˜ å°„åˆ°æºç </span></span><br><span class="line">         <span class="attr">sourcemap</span>: <span class="literal">false</span>,</span><br><span class="line">         <span class="comment">// æ‰“åŒ…å¤§å°è¶…å‡º 4000kb æç¤ºè­¦å‘Š</span></span><br><span class="line">         <span class="attr">chunkSizeWarningLimit</span>: <span class="number">4000</span>,</span><br><span class="line">         <span class="attr">rollupOptions</span>: &#123;</span><br><span class="line">            <span class="comment">// æ‰“åŒ…å…¥å£æ–‡ä»¶ æ ¹ç›®å½•ä¸‹çš„ index.html</span></span><br><span class="line">            <span class="comment">// ä¹Ÿå°±æ˜¯é¡¹ç›®ä»å“ªä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</span></span><br><span class="line">            <span class="attr">input</span>: &#123;</span><br><span class="line">               <span class="attr">index</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./index.html&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>)),</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// é™æ€èµ„æºåˆ†ç±»æ‰“åŒ…</span></span><br><span class="line">            <span class="attr">output</span>: &#123;</span><br><span class="line">               <span class="attr">format</span>: <span class="string">&#x27;esm&#x27;</span>,</span><br><span class="line">               <span class="attr">chunkFileNames</span>: <span class="string">&#x27;static/js/[name]-[hash].js&#x27;</span>,</span><br><span class="line">               <span class="attr">entryFileNames</span>: <span class="string">&#x27;static/js/[name]-[hash].js&#x27;</span>,</span><br><span class="line">               <span class="attr">assetFileNames</span>: <span class="string">&#x27;static/[ext]/[name]-[hash].[ext]&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">         &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// é…ç½®åˆ«å</span></span><br><span class="line">      <span class="attr">resolve</span>: &#123;</span><br><span class="line">         <span class="attr">alias</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;@&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./src&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>)),</span><br><span class="line">            <span class="string">&#x27;#&#x27;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;./types&#x27;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>)),</span><br><span class="line">         &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="tsé…ç½®æ–‡ä»¶"><a href="#tsé…ç½®æ–‡ä»¶" class="headerlink" title="tsé…ç½®æ–‡ä»¶"></a>tsé…ç½®æ–‡ä»¶</h3><ul><li>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º<code>tsconfig.json</code></li></ul><p><strong>&#x2F;tsconfig.json</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">// ç¼–è¯‘å‡ºJSçš„ç›®æ ‡ESç‰ˆæœ¬</span></span><br><span class="line">      <span class="string">&quot;target&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">      <span class="comment">// ä½¿ç”¨çš„ESç‰ˆæœ¬</span></span><br><span class="line">      <span class="string">&quot;module&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">      <span class="comment">// ç”¨äºé€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼Œæœ‰&#x27;node&#x27;å’Œ&#x27;classic&#x27;ä¸¤ç§ç±»å‹</span></span><br><span class="line">      <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">      <span class="comment">// å¼€å¯ä¸¥æ ¼æ¨¡å¼</span></span><br><span class="line">      <span class="string">&quot;strict&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// å¼ºåˆ¶ä»£ç ä¸­ä½¿ç”¨çš„æ¨¡å—æ–‡ä»¶åå¿…é¡»å’Œæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶åä¿æŒå¤§å°å†™ä¸€è‡´</span></span><br><span class="line">      <span class="string">&quot;forceConsistentCasingInFileNames&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// å…è®¸ä½¿ç”¨ xxx ä»£æ›¿ * as xxx å¯¼å…¥</span></span><br><span class="line">      <span class="string">&quot;allowSyntheticDefaultImports&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: &#x27;preserve&#x27;, &#x27;react-native&#x27;, or &#x27;react&#x27;</span></span><br><span class="line">      <span class="string">&quot;jsx&quot;</span>: <span class="string">&quot;preserve&quot;</span>,</span><br><span class="line">      <span class="comment">// ç”¨æ¥æŒ‡å®šç¼–è¯‘æ—¶æ˜¯å¦ç”Ÿæˆ.mapæ–‡ä»¶</span></span><br><span class="line">      <span class="string">&quot;sourceMap&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// é€šè¿‡ä¸ºå¯¼å…¥å†…å®¹åˆ›å»ºå‘½åç©ºé—´ï¼Œå®ç°CommonJSå’ŒESæ¨¡å—ä¹‹é—´çš„äº’æ“ä½œæ€§</span></span><br><span class="line">      <span class="string">&quot;esModuleInterop&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// æ˜¯å¦å¯ä»¥å¯¼å…¥ json module</span></span><br><span class="line">      <span class="string">&quot;resolveJsonModule&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// æ˜¯å¦æ£€æµ‹å®šä¹‰äº†ä½†æ˜¯æ²¡ä½¿ç”¨çš„å˜é‡</span></span><br><span class="line">      <span class="string">&quot;noUnusedLocals&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// æ˜¯å¦æ£€æŸ¥æ˜¯å¦æœ‰åœ¨å‡½æ•°ä½“ä¸­æ²¡æœ‰ä½¿ç”¨çš„å‚æ•°</span></span><br><span class="line">      <span class="string">&quot;noUnusedParameters&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// æ˜¯å¦å¯ç”¨å®éªŒæ€§çš„è£…é¥°å™¨ç‰¹æ€§</span></span><br><span class="line">      <span class="string">&quot;experimentalDecorators&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// tsä¸­å¯ä»¥ä½¿ç”¨çš„åº“ è¿™é‡Œé…ç½®ä¸º dom ä¸ esæ¨¡å—</span></span><br><span class="line">      <span class="string">&quot;lib&quot;</span>: [<span class="string">&quot;dom&quot;</span>, <span class="string">&quot;esnext&quot;</span>],</span><br><span class="line">      <span class="comment">// ä¸å…è®¸å˜é‡æˆ–å‡½æ•°å‚æ•°å…·æœ‰éšå¼anyç±»å‹</span></span><br><span class="line">      <span class="string">&quot;noImplicitAny&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">// å¯ç”¨é˜»æ­¢å¯¹ä¸‹è½½åº“çš„ç±»å‹æ£€æŸ¥</span></span><br><span class="line">      <span class="string">&quot;skipLibCheck&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// typesç”¨æ¥æŒ‡å®šéœ€è¦åŒ…å«çš„æ¨¡å—</span></span><br><span class="line">      <span class="string">&quot;types&quot;</span>: [<span class="string">&quot;vite/client&quot;</span>, <span class="string">&quot;element-plus/global&quot;</span>],</span><br><span class="line">      <span class="comment">// ç¼–è¯‘çš„æ—¶å€™åˆ é™¤æ³¨é‡Š</span></span><br><span class="line">      <span class="string">&quot;removeComments&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// ä½¿ç”¨ç»å¯¹è·¯å¾„æ—¶ä½¿ç”¨baseUrlå»è§£æå¯¼å…¥è·¯å¾„</span></span><br><span class="line">      <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">      <span class="comment">// ä¸ºå¯¼å…¥è·¯å¾„é…ç½®åˆ«å</span></span><br><span class="line">      <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">         <span class="string">&quot;@/*&quot;</span>: [<span class="string">&quot;src/*&quot;</span>],</span><br><span class="line">         <span class="string">&quot;#/*&quot;</span>: [<span class="string">&quot;types/*&quot;</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// é…ç½®è™šæ‹Ÿç›®å½•</span></span><br><span class="line">      <span class="string">&quot;rootDirs&quot;</span>: []</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">// æŒ‡å®šéœ€è¦ç¼–è¯‘æ–‡ä»¶</span></span><br><span class="line">   <span class="string">&quot;include&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;src/**/*.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;src/**/*.d.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;src/**/*.tsx&quot;</span>,</span><br><span class="line">      <span class="string">&quot;src/**/*.vue&quot;</span>,</span><br><span class="line">      <span class="string">&quot;types/**/*.d.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;types/**/*.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;build/**/*.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;build/**/*.d.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mock/**/*.ts&quot;</span>,</span><br><span class="line">      <span class="string">&quot;vite.config.ts&quot;</span></span><br><span class="line">   ],</span><br><span class="line">   <span class="comment">// æŒ‡å®šä¸éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶</span></span><br><span class="line">   <span class="string">&quot;exclude&quot;</span>: [<span class="string">&quot;node_modules&quot;</span>, <span class="string">&quot;dist&quot;</span>, <span class="string">&quot;**/*.js&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡ä»¤é…ç½®"><a href="#æŒ‡ä»¤é…ç½®" class="headerlink" title="æŒ‡ä»¤é…ç½®"></a>æŒ‡ä»¤é…ç½®</h3><ul><li>æœ€åæˆ‘ä»¬å°†æ„å»ºæŒ‡ä»¤åŠ å…¥ package.jsonä¸­</li></ul><p><strong>&#x2F;package.json</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">   <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite --mode development&quot;</span><span class="punctuation">,</span></span><br><span class="line">   <span class="comment">// å…ˆè¿›è¡Œè¯­æ³•æ£€æŸ¥ å†è¿›è¡Œé¡¹ç›®æ‰“åŒ…</span></span><br><span class="line">   <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc --noEmit --skipLibCheck &amp;&amp; vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œé¡¹ç›®å§é¡¹ç›®è·‘èµ·æ¥å•¦ï¼</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm run dev</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªåŸºç¡€çš„ Vue3+TypeScrpit+Vite çš„é¡¹ç›®å°±æ­¤æ„é€ å®Œæ¯•ï¼</p><p><strong>ç³»åˆ—æ–‡ç« </strong>ï¼š</p><ul><li><a href="https://juejin.cn/post/7207615983950987320">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸€èŠ‚ã€‘é…ç½®åŸºç¡€é¡¹ç›®ç»“æ„ Vite + TypeScrpit + Vue3 åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href="https://juejin.cn/post/7209542304863649852">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äºŒèŠ‚ã€‘æ¨¡å—åŒ–å°è£… é™ä½è€¦åˆåº¦ å°è£… axios pinia router</a></li><li><a href="https://juejin.cn/post/7213310111623725117">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬ä¸‰èŠ‚ã€‘é¡¹ç›®é›†æˆCommitLInt+ESLint+Prettier+StyleLint+LintStaged</a></li><li><a href="https://juejin.cn/post/7214759986802294844">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬å››èŠ‚ã€‘åŠ é€Ÿå¼€å‘æ•ˆç‡ ä½¿ç”¨plopç”Ÿæˆå¼€å‘æ¨¡æ¿ ä½¿ç”¨mockè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿ</a></li><li><a href="https://juejin.cn/post/7300460850011521078">ã€ä»é›¶åˆ°ä¸€æ‰‹æ’•è„šæ‰‹æ¶ | ç¬¬äº”èŠ‚ã€‘è‡ªå®šä¹‰å‘½ä»¤è¡Œä¸‹è½½cliå·¥å…·</a></li></ul><p><strong>å‚è€ƒå­¦ä¹ é¡¹ç›®</strong>ï¼š</p><ul><li><a href="https://github.com/tobe-fe-dalao/fast-vue3">fast-vue3</a></li><li><a href="https://github.com/pure-admin/vue-pure-admin">vue-pure-admin</a></li></ul><blockquote><p>å¦‚æœæœ‰ä»»ä½•ä¸æ­£ç¡®çš„åœ°æ–¹è¯·æŒ‡æ­£ï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ã€‚</p><p>æ›´æ–‡ä¸æ˜“ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ‘</p><p>å…³æ³¨æˆ‘ï¼Œåç»­æ–‡ç« ä¸è¿·è·¯â›„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vite </tag>
            
            <tag> è„šæ‰‹æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€é›ªäººæ—¥è®°ã€‘å¤§äºŒä¸‹åŠå­¦æœŸå·²è¿‡å››åˆ†ä¹‹ä¸€</title>
      <link href="/2023/03/17/diary/2023-3-17/"/>
      <url>/2023/03/17/diary/2023-3-17/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="f9d67664abf50dd45c2a2201dc777e81e9abeb7aaf024726740592b714a392e3">470d40a13319dd5202c7e8667eadc5c9dff3ccb84d4bcff22c717d465e98526a3aef0124637f4316ef35591b77e4dddf5589913b87a47bd72899154d764dc63cc8fabf6f23ebb9e8140f5dc535143d950052d6f500d45712f3d13fc0e4d4c61cd409760d13560a8b27a53f88cd0d7c02da52b36a4f2ce5d84f2355355b5cd8af85937bba41a81df081a316eb7cefad1cb2b0642c5a97a55798ae25b8165fdce923056a8d7224316806d09f3f38bdcd681bc65a986abd067304188d08978ae4782d11c7798f60ddb2027b60819921356b08bd203e9c340d44c5d6a764b349cccf2e141a0bd09f99af5e1c0f8a21ebf00c811a1a874f7ff98f6be43fe33d1c75764c5471f5f67336a04a7517c6b2e5ec60d27b55daeca1d31540420089b1495021c4b6063b467819efdfa61c6c4c92422c1794559c03c2a1dde8669a5c8d842b245a3d2f87e5ae3d5ee9ef76e772b3a70a39d95b646fd07438f8242585fd7c08f87f890bf32bcd799efe0a9acc2fef693f71f88529ba4d1b50860fa934e14ee12bc8d15cf118ff40b0bcd0b3cb672dfb7abd5447a245e4d9d28317e9e4bebe35e8608920b104d94d1f522d1cd29fa35ae1c1c1e1c48f098576c237fa50c7e8b78606e83efa6376b988013625e8c451a354782fbd42137b008440bac8c39d225a7359ebd28aa45f10c4e160ee074ba362cfa8acffa73f4526ef9c8efd6d000a8d0a9d7d22575d4e4e9db76ed722f052905e94e7dd0c59fa6a8ab17a26f5c5c1969ad7fd02ce774eb51a5a401d2d6ab31c806947d9f0fa4e6240885240d0eaaf1c245007f00ec89f28e0a81ca47ac238c653ecc1f725b5e1295c7b8aed3d526392a9f8944b4800b6f0cc9813e049061d08854696ea55250a1d77b0fa094b4976610caad718818e6d13033da6438e230414a2132a120651ad8292e9280bed9d95c9420e4dfc362fc955e2ee195acd0f1d00fe191e7afbd69550bc986e955bf63c529a60d057b812b5c6c0ebbd1f26526d15910a1c5af4e454af7c01d05590a6a928dfef1b446e2f4a91b0d3965b6bf9be918a7b1b917399ace30a26ebfdea1c897d0150f7c0c7056d9c9dd95d489ed485929607ffa64806f9eb7bdc44b2948f5e9e18d712c2c2f54c9d5019815980b180e73d38f53851e14ef9dc8ff173919f692a2bf4fc52b0d4b91ac031481ff54ef55897e6ff16c7990dc620d55ee082f0463463415b03ad782125cb7d0ea00baef076ffb907ef8c3acb995f479ebe23c29681e599c2e4c3460916b4b21ac662245e02154687093e6798e51c9efc4b548ceac3bdc067e2e674a5846ae6ceed8445484fe82e666a1ef251d0e2c9de8bcd74b04f33e9c4df587e4ffb0335a61887b3d87ec731988d4cfc9f105f2a64005521d4f9a4749e1a868da228da99dd342536c6bcbef7fbaf6f809fb6fdc998036fbd22d794924223bcef2cb0a2576d2ee485898efe229ba2968e19473f6e6b06d4765b77f0b2725333e8bd7739029b46ea93102eb4a1407a16161a341dd599bbc444852b9a7c1c5a99217f2e6ce3c36bdd8a917ab5b4f6a3e36cfb7d239b3255b35a3ee5d7da393d61bc6eb06402f5cfd43508b6481048800d5e714d437a41df78f2c5d54c23b1b5d99b2d368c61ea57b54c922da52a519bb346705e6867952f35f3612e9b2fb4715de32e10d8a87cf069c3a6f323425e612b59b7bffe0376fd30ffa1d265105a866d38182aedbc5024b9f36319bad0b48e826795e5b3e4e34622ebd177a27302d23d2854773ab28d3a5b18323e97c3dcf91d9403c04521f1c86f4a7c9f918acff91076557abc68d00e0c1082603b31608364a3df2382cba84b42bb7d013f37beafc36fe7fe0ad0c8a1fc8a5655e7e9fd7ca63e4128a14f02364020562dc326a960d8db5ce759172b68572cfac7a755419b36f96e0098ddb9f2452443126ebd19f700933554e4fa7edae0c82ac42acc48cb2ef605c811a23bb64b5dfa0b7c3039142d8de83154dcc66c91694b103f1fa331fd068e8fc015e76fabbe12270c4eaba5a443c4f005e56526871c4207714d03a617fa9bdc1b48cfab4f50a9ab8e157d1bdb2bc4c1e1adf4dde8c914a753bf31d0f27142016fe25ac9860160847549a88136d0cae1f237752f5cba17972a0c2ca9878af1623b1f0c00c43523010ca83633a1fb8c348f4e8dc53f8cb63298e47025739971ea8c296a27ce03fa61aa89eb53578672b663242a2c34b190a25842a8a3fd38f1c358b04c1d00bffdd515172f7674bcc209bd794b73af4332ae26e329518f7b733617e1afdc55d8a5bbbfb27ea35b08eeee5fdd5932b4e8652f22</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">è¯¥æ–‡ç« éœ€è¦å¯†ç </span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é›ªäººæ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é›ªäººæ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç®—æ³•æ—¥è®°ã€‘æ ¼é›·ç¼–ç </title>
      <link href="/2023/02/23/leetcode/GrayCode/"/>
      <url>/2023/02/23/leetcode/GrayCode/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¶¨çŸ¥è¯†äº†ï¼Œæœ€è¿‘çš„æ¯æ—¥ä¸€é¢˜éƒ½å¥½éš¾ğŸ’¥</p></blockquote><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p>ç™¾åº¦ç™¾ç§‘ï¼šã€Œ<a href="https://baike.baidu.com/item/%E6%A0%BC%E9%9B%B7%E7%A0%81">æ ¼é›·ç </a>ã€</p><h2 id="æˆ‘ä»¬å…ˆçœ‹çœ‹æ™®é€šçš„æ ¼é›·ç¼–ç "><a href="#æˆ‘ä»¬å…ˆçœ‹çœ‹æ™®é€šçš„æ ¼é›·ç¼–ç " class="headerlink" title="æˆ‘ä»¬å…ˆçœ‹çœ‹æ™®é€šçš„æ ¼é›·ç¼–ç "></a>æˆ‘ä»¬å…ˆçœ‹çœ‹æ™®é€šçš„æ ¼é›·ç¼–ç </h2><p><a href="https://leetcode.cn/problems/gray-code/solutions/">LeetCode89</a></p><h3 id="æ ¼é›·ç è§„å¾‹è§£æ"><a href="#æ ¼é›·ç è§„å¾‹è§£æ" class="headerlink" title="æ ¼é›·ç è§„å¾‹è§£æ"></a>æ ¼é›·ç è§„å¾‹è§£æ</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># nä¸º1æ—¶ 0 1 å› ä¸ºåªæœ‰è¿™ä¸¤ä¸ªæ•°</span><br><span class="line">n = 1  [0, 1]</span><br><span class="line"></span><br><span class="line"># nä¸º2æ—¶å‰ä¸¤ä¸ªæ•°ä¸å˜åªæ˜¯å› ä¸ºä½æ•°å˜äº†å‘å‰è¡¥0 [00, 01]</span><br><span class="line"># nä¸º2æ—¶åä¸¤ä¸ªæ•°å¯ä»¥æ€»ç»“å‡ºä¸€ä¸ªè§„å¾‹ </span><br><span class="line">    # æœ€é«˜ä½è¡¥1 ä½ä½æ•°ç”±n-1çš„æ•°å€’åºæ’åˆ— [11, 10]</span><br><span class="line">n = 2  [00ï¼Œ01ï¼Œ11ï¼Œ10]</span><br><span class="line"></span><br><span class="line"># n=3 æ—¶è§„å¾‹ä¹Ÿæ˜¯å¦‚æ­¤</span><br><span class="line">n = 3  [000, 001, 011, 010, 110, 111, 101, 100]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ul><li>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ€è·¯å®ç°ä»£ç </li></ul><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> grayCode = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="comment">// èµ·å§‹æ•°å­—ä¸º0</span></span><br><span class="line">    <span class="keyword">const</span> ret = [<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// i æ˜¯éœ€è¦åœ¨ç¬¬i-1ä½è¡¥1</span></span><br><span class="line">    <span class="comment">// åˆšå¼€å§‹éœ€è¦åœ¨ç¬¬0ä½è¡¥æ„æˆ [0, 1]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="comment">// æˆ‘ä»¬åœ¨è¿™é‡Œè·å–lengthè¿›è¡Œå€’åºéå†å…ˆåè¡¥å……</span></span><br><span class="line">        <span class="keyword">const</span> m = ret.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = m - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="comment">// (1 &lt;&lt; (i - 1)) ä»£è¡¨æœ€é«˜ä½è¡¥1</span></span><br><span class="line">            <span class="comment">// ret[j] ä¸ä½ä½çš„ 0 è¿›è¡Œæˆ–è¿ç®—è¿˜æ˜¯ ret[j]</span></span><br><span class="line">            <span class="comment">// è€Œæˆ‘ä»¬çš„jæ˜¯å€’åºéå† è¿™æ ·å°±å¯ä»¥åšåˆ°æ ¼é›·ç¼–ç çš„è§„å¾‹äº†</span></span><br><span class="line">            ret.<span class="title function_">push</span>(ret[j] | (<span class="number">1</span> &lt;&lt; (i - <span class="number">1</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="æœ¬é¢˜æ ¼é›·ç¼–ç "><a href="#æœ¬é¢˜æ ¼é›·ç¼–ç " class="headerlink" title="æœ¬é¢˜æ ¼é›·ç¼–ç "></a>æœ¬é¢˜æ ¼é›·ç¼–ç </h2><p><a href="https://leetcode.cn/problems/circular-permutation-in-binary-representation/">LeetCode1238</a></p><h2 id="å¼‚æˆ–-è§„å¾‹è§£æ"><a href="#å¼‚æˆ–-è§„å¾‹è§£æ" class="headerlink" title="å¼‚æˆ– ^ è§„å¾‹è§£æ"></a>å¼‚æˆ– ^ è§„å¾‹è§£æ</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸‰ä¸ªæ¨è®º</span><br><span class="line">    # å¼‚æˆ–ä¸¤æ¬¡å¾—åŸå€¼</span><br><span class="line">    # å¼‚æˆ–æœ¬èº«ä¸º0</span><br><span class="line">    # å¼‚æˆ–0ä¸ºæœ¬èº«</span><br><span class="line"></span><br><span class="line"># ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°å¼‚æˆ–åŒä¸€ä¸ªæ•°ä¸¤æ¬¡ï¼Œç»“æœè¿˜æ˜¯é‚£ä¸ªæ•°</span><br><span class="line">1 ^ 1 ^ 1 = 1</span><br><span class="line">1 ^ 1 ^ 0 = 0</span><br><span class="line">111 ^ 111 ^ 111 = 111</span><br><span class="line"></span><br><span class="line"># ä¸€ä¸ªæ•°å¼‚æˆ–å®ƒè‡ªå·±ä¸€å®šä¸ºé›¶</span><br><span class="line">1 ^ 1 = 0</span><br><span class="line">111 ^ 111 = 000</span><br><span class="line">101 ^ 101 = 000</span><br><span class="line"></span><br><span class="line"># ä¸€ä¸ªæ•°å¼‚æˆ–0ä¸€å®šä¸ºæœ¬èº«</span><br><span class="line">010 ^ 000 = 010</span><br><span class="line">111 ^ 000 = 111</span><br><span class="line"></span><br><span class="line"># ä¹Ÿå¯ä»¥ç†è§£æˆæˆ‘ä»¬å…ˆæ±‚å‡ºæ­£å¸¸ç‰ˆçš„æ ¼é›·ç¼–ç </span><br><span class="line"># å†å°†æ¯ä¸ªæ•°éƒ½ ^ start å°±æ±‚å‡ºæ¥äº†</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ul><li>é‚£ä¹ˆæˆ‘ä»¬å²‚ä¸æ˜¯å¯ä»¥å…ˆå¼‚æˆ–è‡ªå·±å°†èµ·å§‹å€¼æ¢ä¸º0</li><li>å†è¿›è¡Œæ ¼é›·ç¼–ç è§„å¾‹çš„è¿ç®—</li><li>æœ€åå†å¼‚æˆ–å˜å›å»</li><li>å°±å¯ä»¥è§£å‡ºæœ¬é¢˜å‘¢ï¼Ÿ</li></ul><h3 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">start</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> circularPermutation = <span class="keyword">function</span>(<span class="params">n, start</span>) &#123;</span><br><span class="line">    <span class="comment">// èµ·å§‹æ•°å­—ä¸º start</span></span><br><span class="line">    <span class="keyword">const</span> ret = [start];</span><br><span class="line">    <span class="comment">// i æ˜¯éœ€è¦åœ¨ç¬¬i-1ä½è¡¥1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="comment">// m æ˜¯éœ€è¦å°†å¤šå°‘æ•°ç¿»è½¬</span></span><br><span class="line">        <span class="keyword">const</span> m = ret.<span class="property">length</span>;</span><br><span class="line">        <span class="comment">// å°†ä¹‹å‰çš„æ•°å€’åºç¿»è½¬å¹¶å‘å‰è¡¥1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = m - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="comment">// æ­¤å¤„ç¿»è½¬å¡«è¡¥æ¯ä¸ªæ•°</span></span><br><span class="line">            <span class="comment">// (1 &lt;&lt; (i - 1)) ä»£è¡¨æœ€é«˜ä½è¡¥1</span></span><br><span class="line">            <span class="comment">// ret[j] ä¸ä½ä½çš„ 0 è¿›è¡Œæˆ–è¿ç®—è¿˜æ˜¯ ret[j]</span></span><br><span class="line">            <span class="comment">// è€Œæˆ‘ä»¬çš„jæ˜¯å€’åºéå† å°±å¯ä»¥åšåˆ°æ ¼é›·ç¼–ç çš„è§„å¾‹äº†</span></span><br><span class="line">            <span class="comment">// ^ start å¯ä»¥è®© èµ·å§‹ä½å˜ä¸º 000 å†æ¬¡ ^ å°±ä¼šå˜å›åŸæ¥çš„æ•°</span></span><br><span class="line">            <span class="comment">// ç”±äºåˆå§‹ä½ç½® ^ äº† start ä¸ºäº†åé¢çš„è§„å¾‹ä¿æŒä¸€è‡´ä¹Ÿè¦ ^ start</span></span><br><span class="line">            ret.<span class="title function_">push</span>(((ret[j] ^ start) | (<span class="number">1</span> &lt;&lt; (i - <span class="number">1</span>))) ^ start);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾¿äºç†è§£ç‰ˆ</span></span><br><span class="line"><span class="keyword">var</span> circularPermutation = <span class="keyword">function</span>(<span class="params">n, start</span>) &#123;</span><br><span class="line">    <span class="comment">// å…ˆæ±‚å¸¸è§„æ ¼é›·ç¼–ç </span></span><br><span class="line">    <span class="keyword">const</span> ret = [<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> m = ret.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = m - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            ret.<span class="title function_">push</span>(ret[j] | (<span class="number">1</span> &lt;&lt; (i - <span class="number">1</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å†å°†æ¯ä¸ªæ•°å¼‚æˆ–start</span></span><br><span class="line">    <span class="keyword">return</span> ret.<span class="title function_">map</span>(<span class="function"><span class="params">x</span>=&gt;</span>x^start);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•æ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ ¼é›·ç¼–ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç®—æ³•æ—¥è®°ã€‘å¿«é€Ÿå¹‚ï¼šå…³äºæˆ‘çŸ¥é“ç­”æ¡ˆå´åšä¸å‡ºæ¥è¿™æ¡£äº‹</title>
      <link href="/2023/02/05/leetcode/QuicklyMOD/"/>
      <url>/2023/02/05/leetcode/QuicklyMOD/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ç®—æ³•æ—¥è®°ã€‘å¿«é€Ÿå¹‚ï¼šå…³äºæˆ‘çŸ¥é“ç­”æ¡ˆå´åšä¸å‡ºæ¥è¿™æ¡£äº‹"><a href="#ã€ç®—æ³•æ—¥è®°ã€‘å¿«é€Ÿå¹‚ï¼šå…³äºæˆ‘çŸ¥é“ç­”æ¡ˆå´åšä¸å‡ºæ¥è¿™æ¡£äº‹" class="headerlink" title="ã€ç®—æ³•æ—¥è®°ã€‘å¿«é€Ÿå¹‚ï¼šå…³äºæˆ‘çŸ¥é“ç­”æ¡ˆå´åšä¸å‡ºæ¥è¿™æ¡£äº‹"></a>ã€ç®—æ³•æ—¥è®°ã€‘å¿«é€Ÿå¹‚ï¼šå…³äºæˆ‘çŸ¥é“ç­”æ¡ˆå´åšä¸å‡ºæ¥è¿™æ¡£äº‹</h1><blockquote><p>â­LeetCodeç¬¬330åœºå‘¨èµ›ï¼Œç›´æ¥å¡åœ¨äº†ç¬¬äºŒé¢˜ğŸ˜­ï¼Œæ‰å¤§åˆ†ï¼Œå­¦åˆ°ä¸€æ‰‹å¿«é€Ÿå¹‚ã€‚</p><p>â­æœ¬æ–‡åŒ…å«ä»¥ä¸‹å†…å®¹ï¼šå¿«é€Ÿå¹‚ï¼Œå¿«é€Ÿå¹‚å–ä½™ã€‚</p><p>â­å‚è€ƒæ•™ç¨‹ï¼š</p><ul><li><a href="https://leetcode.cn/problems/count-collisions-of-monkeys-on-a-polygon/solutions/2081357/by-xuhuayy-fycy/?languageTags=javascript">2550. çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰</a></li><li><a href="https://leetcode.cn/problems/powx-n/solutions/238559/powx-n-by-leetcode-solution/">50. Pow(x, n) - åŠ›æ‰£ï¼ˆLeetcodeï¼‰</a></li><li><a href="https://leetcode.cn/problems/powx-n/solutions/1538132/jsjie-ti-si-lu-qing-xi-ming-liao-by-inte-iv1p/?languageTags=javascript">50. Pow(x, n) - åŠ›æ‰£ï¼ˆLeetcodeï¼‰</a></li></ul></blockquote><ul><li><code>Math.pow(x, n)</code> è¿™ä¸ªå‡½æ•°å¤§å®¶åº”è¯¥å¹¶ä¸é™Œç”Ÿï¼Œä»–å°±æ˜¯ç”¨æ¥è®¡ç®— x^n^ çš„å‡½æ•°ï¼Œé‚£ä¹ˆä»–æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</li><li>å¿«é€Ÿå¹‚çš„è®²è§£æ¨èå¤§å®¶å»çœ‹ä¸€ä¸ªè§†é¢‘ï¼š<a href="https://leetcode.cn/problems/powx-n/solutions/238559/powx-n-by-leetcode-solution/">50. Pow(x, n) - åŠ›æ‰£ï¼ˆLeetcodeï¼‰</a></li><li>ä¸‹é¢ç»™å‡ºä»£ç å®ç°ï¼Œä½¿ç”¨è¯­è¨€ï¼šTypeScript</li></ul><h2 id="æš´åŠ›è®¡ç®—"><a href="#æš´åŠ›è®¡ç®—" class="headerlink" title="æš´åŠ›è®¡ç®—"></a>æš´åŠ›è®¡ç®—</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥å°†xè¿ä¹˜næ¬¡å³å¯</span></span><br><span class="line"><span class="comment">// æ—¶é—´å¤æ‚åº¦ O(n)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myPow</span>(<span class="params">x: <span class="built_in">number</span>, n: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">m</span>: <span class="built_in">number</span> = <span class="number">1</span></span><br><span class="line">    <span class="comment">// é‡åˆ°è´Ÿæ•°éœ€è¦è¿ä¹˜ 1/x</span></span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>) x = <span class="number">1</span>/x</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="title class_">Math</span>.<span class="title function_">abs</span>(n);i++) &#123;</span><br><span class="line">        m*=x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿå¹‚ï¼ˆç†è§£ï¼‰"><a href="#å¿«é€Ÿå¹‚ï¼ˆç†è§£ï¼‰" class="headerlink" title="å¿«é€Ÿå¹‚ï¼ˆç†è§£ï¼‰"></a>å¿«é€Ÿå¹‚ï¼ˆç†è§£ï¼‰</h2><ul><li>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­<ul><li>è®¡ç®— 2^4^ æ­£å¸¸æ¥è¯´æˆ‘ä»¬ä¼šç›´æ¥ä¾æ¬¡è¿ä¹˜ <code>2*2*2*2</code></li><li>æˆ‘ä»¬æŠŠä»–æ‹†æˆä¸¤åŠæ¥çœ‹ <code>(2*2)*(2*2)</code> æˆ‘ä»¬å‘ç° 2*2 ä»…éœ€è®¡ç®—ä¸€æ¬¡ å†å°†ä¸¤ä»½ç›¸ä¹˜å³å¯å¾—åˆ°ç­”æ¡ˆ å¯ä»¥å‡å°‘è®¡ç®—æ¬¡æ•°</li><li>å¦‚æœnä¸ºåŸºæ•°åˆ™æ‹†æˆ ä¸¤ä»½ç›¸ä¹˜å†ä¹˜ä»¥ xï¼Œä¾‹ï¼š2^7^ <code>(2*2*2) * (2*2*2) * 2</code> ä¾ç„¶å¯ä»¥å‡å°‘è®¡ç®—æ¬¡æ•°</li></ul></li><li>é‚£ä¹ˆæˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°ä¸€ä¸ªå…¬å¼<ul><li>xä¸ºå¶æ•°ï¼šx^n^ &#x3D;&#x3D; (x*x)^n&#x2F;2^</li><li>xä¸ºå¥‡æ•°ï¼šx^n^ &#x3D;&#x3D; (x*x)^n&#x2F;2^ * x</li></ul></li><li>ä»¥ä¸Šä¾¿æ˜¯å¿«é€Ÿå¹‚çš„åŸºæœ¬åŸç†ï¼Œç›´æ¥å¸¦å…¥è®¡ç®—å¹¶åŠ å…¥ä¸€äº›ç‰¹æ®Šæƒ…å†µä¾¿å¯å®ç°å¿«é€Ÿå¹‚ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹ n è¿›è¡ŒæŠ˜åŠè®¡ç®—ï¼Œæ— éœ€é‡å¤è¿ä¹˜</span></span><br><span class="line"><span class="comment">// æ—¶é—´å¤æ‚åº¦ O(logn)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myPow</span>(<span class="params">x: <span class="built_in">number</span>, n: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">myPowHandler</span>(<span class="params">x: <span class="built_in">number</span>, n: <span class="built_in">number</span></span>): <span class="built_in">number</span>&#123;</span><br><span class="line">        <span class="comment">// n ç­‰äº 1 è¿”å›æœ¬èº«å³å¯</span></span><br><span class="line">        <span class="keyword">if</span>(n===<span class="number">1</span>) <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">        <span class="comment">// nä¸ºå¥‡æ•°éœ€è¦è®¡ç®— x**((n-1)/2) * x**((n-1)/2) * x**1</span></span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>!==<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> half = <span class="title function_">myPowHandler</span>(x, <span class="title class_">Math</span>.<span class="title function_">floor</span>(n/<span class="number">2</span>))</span><br><span class="line">            <span class="keyword">return</span> half * half * x</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// nä¸ºå¶æ•°éœ€è¦è®¡ç®— x**(n/2) * x**(n/2)</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> half = <span class="title function_">myPowHandler</span>(x, <span class="title class_">Math</span>.<span class="title function_">floor</span>(n/<span class="number">2</span>))</span><br><span class="line">            <span class="keyword">return</span> half * half</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç‰¹æ®Šæ¡ä»¶</span></span><br><span class="line">    <span class="comment">// xä¸º1 æˆ– nä¸º0 å³è¿”å› 1</span></span><br><span class="line">    <span class="keyword">if</span>(x===<span class="number">1</span> || n===<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="comment">// è´Ÿæ•°æƒ…å†µè¿”å› 1/x**n</span></span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> / <span class="title function_">myPowHandler</span>(x, <span class="title class_">Math</span>.<span class="title function_">abs</span>(n))</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">myPowHandler</span>(x, n)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿå¹‚ï¼ˆç®€åŒ–ï¼‰"><a href="#å¿«é€Ÿå¹‚ï¼ˆç®€åŒ–ï¼‰" class="headerlink" title="å¿«é€Ÿå¹‚ï¼ˆç®€åŒ–ï¼‰"></a>å¿«é€Ÿå¹‚ï¼ˆç®€åŒ–ï¼‰</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myPow</span>(<span class="params">x, n</span>) &#123;</span><br><span class="line">    <span class="comment">// ç‰¹æ®Šæƒ…å†µåˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span>(n===<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n===<span class="number">1</span>) <span class="keyword">return</span> x</span><br><span class="line">    <span class="comment">// è´Ÿæ•°è®¡ç®—ä¸ºå€’æ•°çš„å¹‚</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="title function_">myPow</span>(<span class="number">1</span>/x, <span class="title class_">Math</span>.<span class="title function_">abs</span>(n))</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å¥‡å¶</span></span><br><span class="line">    <span class="comment">// å¦‚æœä¸ºå¶æ•°è®¡ç®— (x*x)**(n/2)</span></span><br><span class="line">    <span class="comment">// å¦‚æœä¸ºå¥‡æ•°è®¡ç®— (x*x)**(n/2)*x</span></span><br><span class="line">    <span class="comment">// é€’å½’ç»“æŸæ¡ä»¶ä¸º n===0 || n===1 ï¼ˆå³æ¡ä»¶ä¸€ï¼‰</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> n%<span class="number">2</span>===<span class="number">0</span> ? <span class="title function_">myPow</span>(x*x, n/<span class="number">2</span>) : <span class="title function_">myPow</span>(x*x, <span class="title class_">Math</span>.<span class="title function_">floor</span>(n/<span class="number">2</span>))*x</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•°ï¼ˆå¿«é€Ÿå¹‚å–ä½™ï¼‰"><a href="#çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•°ï¼ˆå¿«é€Ÿå¹‚å–ä½™ï¼‰" class="headerlink" title="çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•°ï¼ˆå¿«é€Ÿå¹‚å–ä½™ï¼‰"></a>çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•°ï¼ˆå¿«é€Ÿå¹‚å–ä½™ï¼‰</h2><ul><li>æˆ‘ä»¬æ¥çœ‹çœ‹è¿™é“å‘¨èµ›é¢˜å§ï¼ŒLeetCodeé“¾æ¥ï¼š<a href="https://leetcode.cn/problems/count-collisions-of-monkeys-on-a-polygon/description/">2550. çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰</a></li></ul><p>ç°åœ¨æœ‰ä¸€ä¸ªæ­£å‡¸å¤šè¾¹å½¢ï¼Œå…¶ä¸Šå…±æœ‰ <code>n</code> ä¸ªé¡¶ç‚¹ã€‚é¡¶ç‚¹æŒ‰é¡ºæ—¶é’ˆæ–¹å‘ä» <code>0</code> åˆ° <code>n - 1</code> ä¾æ¬¡ç¼–å·ã€‚æ¯ä¸ªé¡¶ç‚¹ä¸Š <strong>æ­£å¥½æœ‰ä¸€åªçŒ´å­</strong> ã€‚ä¸‹å›¾ä¸­æ˜¯ä¸€ä¸ª 6 ä¸ªé¡¶ç‚¹çš„å‡¸å¤šè¾¹å½¢ã€‚</p><p><img src="https://assets.leetcode.com/uploads/2023/01/22/hexagon.jpg" alt="img"></p><p>æ¯ä¸ªçŒ´å­åŒæ—¶ç§»åŠ¨åˆ°ç›¸é‚»çš„é¡¶ç‚¹ã€‚é¡¶ç‚¹ <code>i</code> çš„ç›¸é‚»é¡¶ç‚¹å¯ä»¥æ˜¯ï¼š</p><ul><li>é¡ºæ—¶é’ˆæ–¹å‘çš„é¡¶ç‚¹ <code>(i + 1) % n</code> ï¼Œæˆ–</li><li>é€†æ—¶é’ˆæ–¹å‘çš„é¡¶ç‚¹ <code>(i - 1 + n) % n</code> ã€‚</li></ul><p>å¦‚æœç§»åŠ¨åè‡³å°‘æœ‰ä¸¤ä¸ªçŒ´å­ä½äºåŒä¸€é¡¶ç‚¹ï¼Œåˆ™ä¼šå‘ç”Ÿ <strong>ç¢°æ’</strong> ã€‚</p><p>è¿”å›çŒ´å­è‡³å°‘å‘ç”Ÿ <strong>ä¸€æ¬¡ç¢°æ’</strong> çš„ç§»åŠ¨æ–¹æ³•æ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¿”å›å¯¹ <code>109+7</code> å–ä½™åçš„ç»“æœã€‚</p><p><strong>æ³¨æ„</strong>ï¼Œæ¯åªçŒ´å­åªèƒ½ç§»åŠ¨ä¸€æ¬¡ã€‚</p><ul><li>ä¸€ä¸‹å‘ç°è§„å¾‹çš„æˆ‘ï¼Œåªæœ‰å…¨éƒ¨é¡ºæ—¶é’ˆæˆ–è€…å…¨éƒ¨é€†æ—¶é’ˆä¸¤ç§æƒ…å†µä¸ç¬¦åˆé¢˜æ„</li><li>æˆ‘ç›´æ¥ <code>return ((2**n)) % ((10**9)+7) -2</code> ï¼Œå¤ªå¹´è½»äº†ï¼Œ2**n è¿‡å¤§å˜æˆäº† Infinity å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œç»å°½è„‘æ±è¿˜æ˜¯æ²¡æƒ³å‡ºè§£å†³æ–¹æ¡ˆã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§‚å¯Ÿåå‘ç°æˆ‘ä»¬å¯ä»¥çŸ¥é“ç­”æ¡ˆæ˜¯ x**n - 2</span></span><br><span class="line"><span class="comment">// å¹¶ä¸”ç­”æ¡ˆå¯èƒ½è¿‡å¤§éœ€è¦å–ä½™</span></span><br><span class="line"><span class="comment">// ç”±äºç²¾åº¦é—®é¢˜ å‡éœ€è¦ä½¿ç”¨BigInt è€Œä¸æ˜¯Number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">monkeyMove</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">MOD</span> = <span class="title class_">BigInt</span>(<span class="number">1e9</span> + <span class="number">7</span>)</span><br><span class="line">    <span class="comment">// ç›´æ¥æŠŠå¿«é€Ÿå¹‚æ¬è¿‡æ¥åŠ ä¸Šå–ä½™å³å¯</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">myPow</span>(<span class="params">x: <span class="built_in">bigint</span>, n: <span class="built_in">bigint</span></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n===<span class="number">0n</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(n===<span class="number">1n</span>) <span class="keyword">return</span> x</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> n%<span class="number">2n</span>===<span class="number">0n</span> ? <span class="title function_">myPow</span>(x*x%<span class="variable constant_">MOD</span>, n/<span class="number">2n</span>) : <span class="title function_">myPow</span>(x*x%<span class="variable constant_">MOD</span>, n/<span class="number">2n</span>)*x</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// +MODæ˜¯å› ä¸º-2åç»“æœå¯èƒ½ä¸ºè´Ÿæ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Number</span>((<span class="title function_">myPow</span>(<span class="number">2n</span>, <span class="title class_">BigInt</span>(n)) - <span class="number">2n</span> + <span class="variable constant_">MOD</span>) % <span class="variable constant_">MOD</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>â­ä»¥ä¸Šå°±æ˜¯å…¨éƒ¨è§£é¢˜å†…å®¹å•¦ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©è¯·ç»™æˆ‘ç‚¹ä¸ªèµå§</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•æ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> å¿«é€Ÿå¹‚ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å­¦ä¹ ç¬”è®°ã€‘é»‘é©¬ç¨‹åºå‘˜Node.jså…¨å¥—å…¥é—¨æ•™ç¨‹ | åŸºç¡€ç¯‡</title>
      <link href="/2023/01/29/NodeJS-01/"/>
      <url>/2023/01/29/NodeJS-01/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€å­¦ä¹ ç¬”è®°ã€‘é»‘é©¬ç¨‹åºå‘˜Node-jså…¨å¥—å…¥é—¨æ•™ç¨‹-åŸºç¡€ç¯‡"><a href="#ã€å­¦ä¹ ç¬”è®°ã€‘é»‘é©¬ç¨‹åºå‘˜Node-jså…¨å¥—å…¥é—¨æ•™ç¨‹-åŸºç¡€ç¯‡" class="headerlink" title="ã€å­¦ä¹ ç¬”è®°ã€‘é»‘é©¬ç¨‹åºå‘˜Node.jså…¨å¥—å…¥é—¨æ•™ç¨‹ | åŸºç¡€ç¯‡"></a>ã€å­¦ä¹ ç¬”è®°ã€‘é»‘é©¬ç¨‹åºå‘˜Node.jså…¨å¥—å…¥é—¨æ•™ç¨‹ | åŸºç¡€ç¯‡</h1><blockquote><p>â›„æœ€è¿‘è¦å†™ä¸€äº›npmå‘½ä»¤å‘ç°æ–‡ä»¶è¯»å†™å’Œè·¯å¾„APIå¿˜è®°äº†ï¼Œç´¢æ€§ç›´æ¥å¤ä¹ äº†ä¸€éNodeJSï¼Œè¾¹å­¦è¾¹å¿˜çœŸçš„ç—›è‹¦ã€‚</p><p>â›„æœ¬æ–‡åŒ…å«ä»¥ä¸‹å†…å®¹ï¼šå¯¹NodeJSçš„åŸºç¡€ä»‹ç»ï¼ŒNodeJSçš„å†…ç½®åŒ…çš„ç®€å•ä»‹ç»ï¼ŒCommonJSæ¨¡å—åŒ–ä»‹ç»ï¼ŒnpmåŒ…ä¸‹è½½ä¸å‘å¸ƒä»‹ç»ã€‚</p><p>â­<strong>æ³¨</strong>ï¼šæœ¬æ–‡æ˜¯å¯¹<strong>é»‘é©¬ç¨‹åºå‘˜Node.jså…¨å¥—å…¥é—¨æ•™ç¨‹</strong>çš„å­¦ä¹ ç¬”è®°è®°å½•ï¼ŒåŠ å…¥äº†ä¸€äº›è‡ªå·±çš„ç»ƒä¹ æ”¹åŠ¨ä¸æ€è€ƒã€‚</p><p>â­<strong>æ¨èå¤§å®¶å»çœ‹åŸè§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV1a34y167AZ/?vd_source=f180962fb6ac13c58e2bc143f0318c2a">é»‘é©¬ç¨‹åºå‘˜Node.jså…¨å¥—å…¥é—¨æ•™ç¨‹</a></p></blockquote><h2 id="åˆè¯†NodeJs"><a href="#åˆè¯†NodeJs" class="headerlink" title="åˆè¯†NodeJs"></a>åˆè¯†NodeJs</h2><h3 id="æ€è€ƒä¸è®¤è¯†"><a href="#æ€è€ƒä¸è®¤è¯†" class="headerlink" title="æ€è€ƒä¸è®¤è¯†"></a>æ€è€ƒä¸è®¤è¯†</h3><h4 id="JSä¸ºä»€ä¹ˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¢«æ‰§è¡Œ"><a href="#JSä¸ºä»€ä¹ˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¢«æ‰§è¡Œ" class="headerlink" title="JSä¸ºä»€ä¹ˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¢«æ‰§è¡Œ"></a>JSä¸ºä»€ä¹ˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¢«æ‰§è¡Œ</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">====æµè§ˆå™¨====</span><br><span class="line">å¾…æ‰§è¡Œçš„JSä»£ç </span><br><span class="line">â†“</span><br><span class="line">JavaScriptè§£æå¼•æ“</span><br><span class="line">====æµè§ˆå™¨====</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨ä¸­å«æœ‰JavaScriptè§£æå¼•æ“è´Ÿè´£è§£æJSä»£ç </p><ul><li>ä¸åŒçš„æµè§ˆå™¨ä½¿ç”¨ä¸åŒçš„JavaScriptè§£æå¼•æ“ï¼š<ul><li>Chrome &#x3D;&gt; V8</li><li>Firefox &#x3D;&gt; OdinMonkeyï¼ˆå¥¥ä¸çŒ´ï¼‰</li><li>Safri &#x3D;&gt; JSCore</li><li>IEæµè§ˆå™¨ &#x3D;&gt; Chakraï¼ˆæŸ¥å…‹æ‹‰ï¼‰</li><li>ç­‰â€¦</li></ul></li></ul><p>Chromeæµè§ˆå™¨çš„V8è§£æå¼•æ“æ€§èƒ½æœ€å¥½</p><h4 id="ä¸ºä»€ä¹ˆJavaScriptå¯ä»¥æ“ä½œDOMå’ŒBOM"><a href="#ä¸ºä»€ä¹ˆJavaScriptå¯ä»¥æ“ä½œDOMå’ŒBOM" class="headerlink" title="ä¸ºä»€ä¹ˆJavaScriptå¯ä»¥æ“ä½œDOMå’ŒBOM"></a>ä¸ºä»€ä¹ˆJavaScriptå¯ä»¥æ“ä½œDOMå’ŒBOM</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">====æµè§ˆå™¨====</span><br><span class="line">DOMAPI BOMAPI AjaxAPI</span><br><span class="line">â†“</span><br><span class="line">å¾…æ‰§è¡Œçš„JSä»£ç ï¼ˆè°ƒç”¨WebAPIï¼‰</span><br><span class="line">â†“</span><br><span class="line">JavaScriptè§£æå¼•æ“</span><br></pre></td></tr></table></figure><p>æ¯ä¸ªæµè§ˆå™¨éƒ½å†…ç½®äº†DOMã€BOMè¿™æ ·çš„APIå‡½æ•°ï¼Œå› æ­¤ï¼Œæµè§ˆå™¨ä¸­çš„JavaScriptæ‰å¯ä»¥è°ƒç”¨å®ƒä»¬ã€‚</p><h4 id="æµè§ˆå™¨ä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ"><a href="#æµè§ˆå™¨ä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ" class="headerlink" title="æµè§ˆå™¨ä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ"></a>æµè§ˆå™¨ä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ</h4><ul><li><strong>è¿è¡Œç¯å¢ƒ</strong>æ˜¯æŒ‡<strong>ä»£ç æ­£å¸¸è¿è¡Œæ‰€éœ€çš„å¿…è¦ç¯å¢ƒ</strong>ã€‚</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">====Chromeæµè§ˆå™¨è¿è¡Œç¯å¢ƒ====</span><br><span class="line">V8å¼•æ“ å†…ç½®API</span><br><span class="line">â†‘â†“</span><br><span class="line">å¾…æ‰§è¡Œçš„JavaScriptä»£ç </span><br><span class="line">====Chromeæµè§ˆå™¨è¿è¡Œç¯å¢ƒ====</span><br></pre></td></tr></table></figure><ol><li>V8å¼•æ“è´Ÿè´£è§£æå’Œæ‰§è¡ŒJavaScript ä»£ç ã€‚</li><li>å†…ç½®APIæ˜¯ç”±è¿è¡Œç¯å¢ƒæä¾›çš„ç‰¹æ®Šæ¥å£ï¼Œåªèƒ½åœ¨æ‰€å±çš„è¿è¡Œç¯å¢ƒä¸­è¢«è°ƒç”¨ã€‚</li></ol><h4 id="JavaScriptèƒ½å¦åšåç«¯å¼€å‘"><a href="#JavaScriptèƒ½å¦åšåç«¯å¼€å‘" class="headerlink" title="JavaScriptèƒ½å¦åšåç«¯å¼€å‘"></a>JavaScriptèƒ½å¦åšåç«¯å¼€å‘</h4><ul><li>JSå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡Node.jsè®©JSä»£ç åœ¨æœåŠ¡ç«¯è¿è¡Œ</li></ul><h3 id="Node-js-ç®€ä»‹"><a href="#Node-js-ç®€ä»‹" class="headerlink" title="Node.js ç®€ä»‹"></a>Node.js ç®€ä»‹</h3><h4 id="ä»€ä¹ˆæ˜¯Node-js"><a href="#ä»€ä¹ˆæ˜¯Node-js" class="headerlink" title="ä»€ä¹ˆæ˜¯Node.js"></a>ä»€ä¹ˆæ˜¯Node.js</h4><ul><li>Node.js æ˜¯ä¸€ä¸ªåŸºäºChrome V8å¼•æ“çš„JavaScriptè¿è¡Œç¯å¢ƒã€‚</li><li>å®˜ç½‘åœ°å€ï¼š<a href="https://nodejs.org/en/">Node.js (nodejs.org)</a></li></ul><h4 id="Node-jsä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ"><a href="#Node-jsä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ" class="headerlink" title="Node.jsä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ"></a>Node.jsä¸­çš„JavaScriptè¿è¡Œç¯å¢ƒ</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">====Node.jsè¿è¡Œç¯å¢ƒ====</span><br><span class="line">V8å¼•æ“ å†…ç½®APIï¼ˆfs path http JSå†…ç½®å¯¹è±¡ç­‰ï¼‰</span><br><span class="line">â†‘â†“</span><br><span class="line">å¾…æ‰§è¡Œçš„JavaScriptä»£ç </span><br><span class="line">====Chromeæµè§ˆå™¨è¿è¡Œç¯å¢ƒ====</span><br></pre></td></tr></table></figure><ul><li>æµè§ˆå™¨æ˜¯JavaScript çš„å‰ç«¯è¿è¡Œç¯å¢ƒã€‚</li><li>Node.js æ˜¯JavaScriptçš„åç«¯è¿è¡Œç¯å¢ƒã€‚</li><li>Node.js ä¸­æ— æ³•è°ƒç”¨DOMå’ŒBOMç­‰æµè§ˆå™¨å†…ç½®APIã€‚</li></ul><h4 id="Node-js-å¯ä»¥åšä»€ä¹ˆ"><a href="#Node-js-å¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="Node.js å¯ä»¥åšä»€ä¹ˆ"></a>Node.js å¯ä»¥åšä»€ä¹ˆ</h4><p>Node,jsä½œä¸ºä¸€ä¸ªJavaScript çš„è¿è¡Œç¯å¢ƒï¼Œä»…ä»…æä¾›äº†åŸºç¡€çš„åŠŸèƒ½å’ŒAPIã€‚ç„¶è€Œï¼ŒåŸºäºNode.,jsæä¾›çš„è¿™äº›åŸºç¡€èƒ½ï¼Œå¾ˆå¤šå¼ºå¤§çš„å·¥å…·å’Œæ¡†æ¶å¦‚é›¨åæ˜¥ç¬‹ï¼Œå±‚å‡ºä¸ç©·ï¼Œæ‰€ä»¥å­¦ä¼šäº†Node.jsï¼Œå¯ä»¥è®©å‰ç«¯ç¨‹åºå‘˜èƒœä»»æ›´å¤šçš„å·¥ä½œå’Œå²—ä½ã€‚</p><ul><li>åŸºäº <a href="http://www.expressjs.com.cn/">Express æ¡†æ¶ (opens new window)</a>ï¼Œå¯ä»¥å¿«é€Ÿæ„å»º Web åº”ç”¨</li><li>åŸºäº <a href="https://electronjs.org/">Electron æ¡†æ¶ (opens new window)</a>ï¼Œå¯ä»¥æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨</li><li>åŸºäº <a href="http://restify.com/">restify æ¡†æ¶ (opens new window)</a>ï¼Œå¯ä»¥å¿«é€Ÿæ„å»º API æ¥å£é¡¹ç›®</li><li>è¯»å†™å’Œæ“ä½œæ•°æ®åº“ã€åˆ›å»ºå®ç”¨çš„å‘½ä»¤è¡Œå·¥å…·è¾…åŠ©å‰ç«¯å¼€å‘</li><li>ç­‰â€¦</li></ul><h3 id="å®‰è£…Node-js"><a href="#å®‰è£…Node-js" class="headerlink" title="å®‰è£…Node.js"></a>å®‰è£…Node.js</h3><p>å¦‚æœå¸Œæœ›é€šè¿‡Node.,js æ¥è¿è¡ŒJavascript ä»£ç ï¼Œåˆ™å¿…é¡»åœ¨è®¡ç®—æœºä¸Šå®‰è£…Node.jsç¯å¢ƒæ‰è¡Œã€‚</p><ul><li>å‰å¾€å®˜ç½‘ä¸‹è½½å®‰è£…ï¼š<a href="https://nodejs.org/en/">èŠ‚ç‚¹.js (nodejs.org)</a></li></ul><ol><li><p>åŒºåˆ†<strong>LTS</strong>ç‰ˆæœ¬å’Œ<strong>Current</strong>ç‰ˆæœ¬çš„ä¸åŒ</p><ul><li>LTSä¸ºé•¿æœŸç¨³å®šç‰ˆï¼Œå¯¹äºè¿½æ±‚ç¨³å®šæ€§çš„ä¼ä¸šçº§é¡¹ç›®æ¥è¯´ï¼Œæ¨èå®‰è£…LTSç‰ˆæœ¬çš„Node.jsã€‚</li><li>Current ä¸ºæ–°ç‰¹æ€§å°é²œç‰ˆï¼Œå¯¹çƒ­è¡·äºå°è¯•æ–°ç‰¹æ€§çš„ç”¨æˆ·æ¥è¯´ï¼Œæ¨èå®‰è£…Current ç‰ˆæœ¬çš„Node.jsã€‚ä½†æ˜¯ï¼ŒCurrent ç‰ˆæœ¬ä¸­å¯èƒ½å­˜åœ¨éšè—çš„Bug æˆ–å®‰å…¨æ€§æ¼æ´ï¼Œå› æ­¤ä¸æ¨èåœ¨ä¼ä¸šçº§é¡¹ç›®ä¸­ä½¿ç”¨Currentç‰ˆæœ¬çš„ Node.js</li></ul></li><li><p>æŸ¥çœ‹å·²å®‰è£…çš„Node.jsç‰ˆæœ¬å·</p><ul><li>æ‰“å¼€ç»ˆç«¯è¾“å…¥<code>node -v</code>ï¼Œå³å¯æŸ¥çœ‹node.jsç‰ˆæœ¬å·</li></ul></li><li><p>ä»€ä¹ˆæ˜¯ç»ˆç«¯</p><ul><li>ç»ˆç«¯(è‹±æ–‡: Terminal)æ˜¯ä¸“é—¨ä¸ºå¼€å‘äººå‘˜è®¾è®¡çš„ï¼Œç”¨äºå®ç°äººæœºäº¤äº’çš„ä¸€ç§æ–¹å¼ã€‚</li></ul></li></ol><ul><li>ä½¿ç”¨<code>node &lt;jsæ–‡ä»¶å&gt;</code>è¿è¡Œjsæ–‡ä»¶</li></ul><h2 id="å¸¸ç”¨æ¨¡å—"><a href="#å¸¸ç”¨æ¨¡å—" class="headerlink" title="å¸¸ç”¨æ¨¡å—"></a>å¸¸ç”¨æ¨¡å—</h2><h3 id="fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—"><a href="#fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—" class="headerlink" title="fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—"></a>fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—</h3><ul><li>fs æ¨¡å—æ˜¯Node.js å®˜æ–¹æä¾›çš„ã€ç”¨æ¥æ“ä½œæ–‡ä»¶çš„æ¨¡å—ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨æ¥æ»¡è¶³ç”¨æˆ·å¯¹æ–‡ä»¶çš„æ“ä½œéœ€æ±‚ã€‚</li></ul><h4 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Nodejså†…ç½®æ¨¡å— æ— éœ€é¢å¤–å®‰è£…</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="è¯»å–æ–‡ä»¶å†…å®¹"><a href="#è¯»å–æ–‡ä»¶å†…å®¹" class="headerlink" title="è¯»å–æ–‡ä»¶å†…å®¹"></a>è¯»å–æ–‡ä»¶å†…å®¹</h4><ul><li>ä½¿ç”¨fs.readFile()æ–¹æ³•ï¼Œå¯ä»¥è¯»å–æŒ‡å®šæ–‡ä»¶ä¸­çš„å†…å®¹</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">readFile</span>(path[, options], callback)</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è§£é‡Šï¼š<ol><li>pathï¼šå¿…é€‰å‚æ•°ï¼Œå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–‡ä»¶çš„è·¯å¾„ã€‚</li><li>optionsï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºä»¥ä»€ä¹ˆç¼–ç æ ¼å¼æ¥è¯»å–æ–‡ä»¶ã€‚</li><li>callbackï¼šå¿…é€‰å‚æ•°ï¼Œæ–‡ä»¶è¯»å–å®Œæˆåï¼Œé€šè¿‡å›è°ƒå‡½æ•°æ‹¿åˆ°è¯»å–çš„ç»“æœï¼Œè¯¥å‡½æ•°ä¼šä¼ å…¥ä¸¤ä¸ªå‚æ•°ã€‚<ul><li>errï¼šæ–‡ä»¶è¯»å–é”™è¯¯æ—¶å‘ç”Ÿçš„æŠ¥é”™</li><li>dataStrï¼šæ–‡ä»¶å†…å®¹</li></ul></li></ol></li></ul><p><strong>ç¤ºä¾‹ä»£ç </strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./test.text&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœè¯»å–æˆåŠŸï¼Œåˆ™errä¸ºnull</span></span><br><span class="line">    <span class="comment">// å¦‚æœè¯»å–å¤±è´¥ï¼Œerrçš„å€¼ä¸ºé”™è¯¯å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">if</span>(err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;+++++++++&#x27;</span>)</span><br><span class="line">    <span class="comment">// æ‰“å°æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(dataStr)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å†™å…¥æ–‡ä»¶å†…å®¹"><a href="#å†™å…¥æ–‡ä»¶å†…å®¹" class="headerlink" title="å†™å…¥æ–‡ä»¶å†…å®¹"></a>å†™å…¥æ–‡ä»¶å†…å®¹</h4><ul><li>ä½¿ç”¨fs.writeFile0æ–¹æ³•ï¼Œå¯ä»¥å‘æŒ‡å®šçš„æ–‡ä»¶ä¸­å†™å…¥å†…å®¹ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹</li><li>è¯¥æ–¹æ³•åªèƒ½åˆ›å»ºæ–‡ä»¶ï¼Œä¸èƒ½åˆ›å»ºç›®å½•</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">writeFile</span>(file, data[, options], callback)</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è§£é‡Šï¼š<ol><li>fileï¼šå¿…é€‰å‚æ•°ï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªæ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ã€‚</li><li>dataï¼šå¿…é€‰å‚æ•°ï¼Œè¡¨ç¤ºè¦å†™å…¥çš„å†…å®¹ã€‚</li><li>optionsï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºä»¥ä»€ä¹ˆæ ¼å¼å†™å…¥æ–‡ä»¶å†…å®¹ï¼Œé»˜è®¤å€¼æ˜¯utf8ã€‚</li><li>callbackï¼šå¿…é€‰å‚æ•°ï¼Œæ–‡ä»¶å†™å…¥å®Œæˆåçš„å›è°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šä¼ å…¥ä¸€ä¸ªå‚æ•°ã€‚<ul><li>errï¼šæ–‡ä»¶å†™å…¥é”™è¯¯æ—¶å‘ç”Ÿçš„æŠ¥é”™</li></ul></li></ol></li></ul><p><strong>ç¤ºä¾‹ä»£ç </strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;./write.text&#x27;</span>, <span class="string">&#x27;Hello FS Module!&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå†™å…¥æˆåŠŸï¼Œåˆ™errä¸ºnull</span></span><br><span class="line">    <span class="comment">// å¦‚æœå†™å…¥å¤±è´¥ï¼Œerrçš„å€¼ä¸ºé”™è¯¯å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å¤„ç†è·¯å¾„é—®é¢˜"><a href="#å¤„ç†è·¯å¾„é—®é¢˜" class="headerlink" title="å¤„ç†è·¯å¾„é—®é¢˜"></a>å¤„ç†è·¯å¾„é—®é¢˜</h4><ul><li>åœ¨ä½¿ç”¨fs æ¨¡å—æ“ä½œæ–‡ä»¶æ—¶ï¼Œå¦‚æœæä¾›çš„æ“ä½œè·¯å¾„æ˜¯ä»¥.&#x2F;æˆ–..&#x2F;å¼€å¤´çš„ç›¸å¯¹è·¯å¾„æ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºç°è·¯å¾„åŠ¨æ€æ‹¼æ¥é”™è¯¯çš„é—®é¢˜ã€‚</li><li>åŸå› ï¼šä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šé˜Ÿæ‰§è¡Œnodeå‘½ä»¤æ—¶æ‰€å¤„çš„ç›®å½•ï¼ŒåŠ¨æ€æ‹¼æ¥å‡ºè¢«æ“ä½œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚ï¼ˆç›¸å¯¹äºç”¨æˆ·æ‰€åœ¨ç›®å½•ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºæ–‡ä»¶ç›®å½•ï¼‰</li></ul><p><strong>__dirname</strong></p><ul><li>__dirnameè¡¨ç¤ºå½“å‰æ–‡ä»¶æ‰€å¤„çš„ç›®å½•ï¼Œæ›´æ”¹åå¯è§£å†³è·¯å¾„é—®é¢˜</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(__dirname + <span class="string">&#x27;/test.text&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line">fs.<span class="title function_">writeFile</span>(__dirname + <span class="string">&#x27;/write.text&#x27;</span>, <span class="string">&#x27;Hello FS Module!&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="pathè·¯å¾„æ¨¡å—"><a href="#pathè·¯å¾„æ¨¡å—" class="headerlink" title="pathè·¯å¾„æ¨¡å—"></a>pathè·¯å¾„æ¨¡å—</h3><ul><li>pathæ¨¡å—æ˜¯Node.jså®˜æ–¹æä¾›çš„ã€ç”¨æ¥å¤„ç†è·¯å¾„çš„æ¨¡å—ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨æ¥æ»¡è¶³ç”¨æˆ·å¯¹è·¯å¾„çš„å¤„ç†éœ€æ±‚ã€‚</li></ul><h4 id="å¯¼å…¥æ¨¡å—-1"><a href="#å¯¼å…¥æ¨¡å—-1" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Nodejså†…ç½®æ¨¡å— æ— éœ€é¢å¤–å®‰è£…</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="è·¯å¾„æ‹¼æ¥"><a href="#è·¯å¾„æ‹¼æ¥" class="headerlink" title="è·¯å¾„æ‹¼æ¥"></a>è·¯å¾„æ‹¼æ¥</h4><ul><li>ä½¿ç”¨path.join(æ–¹æ³•ï¼Œå¯ä»¥æŠŠå¤šä¸ªè·¯å¾„ç‰‡æ®µæ‹¼æ¥ä¸ºå®Œæ•´çš„è·¯å¾„å­—ç¬¦ä¸²ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">join</span>([...path])</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è§£é‡Šï¼š<ol><li>pathï¼šè·¯å¾„ç‰‡æ®µçš„åºåˆ—ï¼ˆï¼‰</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pathStr = path.<span class="title function_">join</span>(<span class="string">&#x27;/a&#x27;</span>, <span class="string">&#x27;/b/c&#x27;</span>, <span class="string">&#x27;../&#x27;</span>, <span class="string">&#x27;./d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pathStr) <span class="comment">// \a\b\d\e</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pathStr2 = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./files/1.text&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pathStr2) <span class="comment">// å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„</span></span><br></pre></td></tr></table></figure><ul><li>ä¸ __dirname ä½¿ç”¨å­—ç¬¦ä¸²åŠ æ³•çš„ä¸åŒ<ul><li>å¦‚æœä½¿ç”¨å­—ç¬¦ä¸²åŠ æ³•<code>__dirname + &#39;./a&#39;</code>ä¼šåœ¨è·¯å¾„ä¸­å¤šå‡ºä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰ä½¿ç”¨path.joinå¯ä»¥è§£å†³æ­¤é—®é¢˜</li></ul></li></ul><h4 id="è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å"><a href="#è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å" class="headerlink" title="è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å"></a>è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å</h4><ul><li>ä½¿ç”¨path.basename()æ–¹æ³•ï¼Œå¯ä»¥è·å–è·¯å¾„ä¸­çš„æœ€åä¸€éƒ¨åˆ†ï¼Œç»å¸¸é€šè¿‡è¿™ä¸ªæ–¹æ³•è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶åï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">basename</span>(path[, ext])</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è§£é‡Šï¼š<ol><li>pathï¼šå¿…é€‰å‚æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªè·¯å¾„çš„å­—ç¬¦ä¸²</li><li>extï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºæ–‡ä»¶æ‰©å±•å</li></ol></li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;/a/b/c/index.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fullName = path.<span class="title function_">basename</span>(fpath)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName) <span class="comment">// index.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> nameWithoutExt = path.<span class="title function_">basename</span>(fpath, <span class="string">&#x27;.html&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameWithoutExt) <span class="comment">// index</span></span><br></pre></td></tr></table></figure><h4 id="è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶æ‰©å±•å"><a href="#è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶æ‰©å±•å" class="headerlink" title="è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶æ‰©å±•å"></a>è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶æ‰©å±•å</h4><ul><li>ä½¿ç”¨path.extname)æ–¹æ³•ï¼Œå¯ä»¥è·å–è·¯å¾„ä¸­çš„æ‰©å±•åéƒ¨åˆ†</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">extname</span>(path)</span><br></pre></td></tr></table></figure><p>å‚æ•°è§£é‡Šï¼š</p><ol><li>pathï¼šå¿…é€‰å‚æ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªè·¯å¾„çš„å­—ç¬¦ä¸²</li></ol><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;/a/b/c/index.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fext = path.<span class="title function_">extname</span>(fpath)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fext) <span class="comment">// .html</span></span><br></pre></td></tr></table></figure><h3 id="httpæ¨¡å—"><a href="#httpæ¨¡å—" class="headerlink" title="httpæ¨¡å—"></a>httpæ¨¡å—</h3><ul><li><p>httpæ¨¡å—æ˜¯Node.js å®˜æ–¹æä¾›çš„ã€ç”¨æ¥åˆ›å»º webæœåŠ¡å™¨çš„æ¨¡å—ã€‚é€šè¿‡ httpæ¨¡å—æä¾›çš„ http.createServer()æ–¹æ³•ï¼Œå°±èƒ½æ–¹ä¾¿çš„æŠŠä¸€å°æ™®é€šçš„ç”µè„‘ï¼Œå˜æˆä¸€å°WebæœåŠ¡å™¨ï¼Œä»è€Œå¯¹å¤–æä¾›Webèµ„æºæœåŠ¡ã€‚</p></li><li><p>æœåŠ¡å™¨å’Œæ™®é€šç”µè„‘çš„åŒºåˆ«åœ¨äºï¼ŒæœåŠ¡å™¨ä¸Šå®‰è£…äº†webæœåŠ¡å™¨è½¯ä»¶ï¼Œä¾‹å¦‚:IISã€Apacheç­‰ã€‚é€šè¿‡å®‰è£…è¿™äº›æœåŠ¡å™¨è½¯ä»¶,å°±èƒ½æŠŠä¸€å°æ™®é€šçš„ç”µè„‘å˜æˆä¸€å°webæœåŠ¡å™¨ã€‚</p></li><li><p>åœ¨Node.js ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨IISã€Apacheç­‰è¿™äº›ç¬¬ä¸‰æ–¹webæœåŠ¡å™¨è½¯ä»¶ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥åŸºäºNode,jsæä¾›çš„httpæ¨¡å—ï¼Œé€šè¿‡å‡ è¡Œç®€å•çš„ä»£ç ï¼Œå°±èƒ½è½»æ¾çš„æ‰‹å†™ä¸€ä¸ªæœåŠ¡å™¨è½¯ä»¶ï¼Œä»è€Œå¯¹å¤–æä¾›webæœåŠ¡ã€‚</p></li><li><p><strong>åŸºæœ¬å››æ­¥</strong></p><ol><li>å¯¼å…¥httpæ¨¡å—</li><li>åˆ›å»ºwebæœåŠ¡å™¨å®ä¾‹</li><li>ä¸ºæœåŠ¡å™¨å®ä¾‹ç»‘å®šrequestäº‹ä»¶ï¼Œç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚</li><li>å¯åŠ¨æœåŠ¡å™¨</li></ol></li></ul><h4 id="å¯¼å…¥æ¨¡å—-2"><a href="#å¯¼å…¥æ¨¡å—-2" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºwebæœåŠ¡å™¨å®ä¾‹"><a href="#åˆ›å»ºwebæœåŠ¡å™¨å®ä¾‹" class="headerlink" title="åˆ›å»ºwebæœåŠ¡å™¨å®ä¾‹"></a>åˆ›å»ºwebæœåŠ¡å™¨å®ä¾‹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br></pre></td></tr></table></figure><h4 id="ä¸ºæœåŠ¡å™¨ç»‘å®šrequestäº‹ä»¶"><a href="#ä¸ºæœåŠ¡å™¨ç»‘å®šrequestäº‹ä»¶" class="headerlink" title="ä¸ºæœåŠ¡å™¨ç»‘å®šrequestäº‹ä»¶"></a>ä¸ºæœåŠ¡å™¨ç»‘å®šrequestäº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Someone visit our web server.&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> url = req.<span class="property">url</span> <span class="comment">// è¯·æ±‚åœ°å€</span></span><br><span class="line">    <span class="keyword">const</span> method = req.<span class="property">method</span> <span class="comment">// è¯·æ±‚url</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ ¹æ®è·¯å¾„åˆ¤æ–­è¿”å›ä¸åŒå†…å®¹</span></span><br><span class="line">    <span class="keyword">let</span> content = <span class="string">&#x27;&lt;h1&gt;404 Not found!&lt;/h1&gt;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span>(url === <span class="string">&#x27;/&#x27;</span> || url === <span class="string">&#x27;/index.html&#x27;</span>) &#123;</span><br><span class="line">        content = <span class="string">&#x27;&lt;h1&gt;é¦–é¡µ&lt;/h1&gt;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>) <span class="comment">// è®¾ç½®å“åº”å¤´</span></span><br><span class="line">    res.<span class="title function_">end</span>(content) <span class="comment">// å‘å®¢æˆ·ç«¯å“åº”å†…å®¹</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨æœåŠ¡å™¨"><a href="#å¯åŠ¨æœåŠ¡å™¨" class="headerlink" title="å¯åŠ¨æœåŠ¡å™¨"></a>å¯åŠ¨æœåŠ¡å™¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><h3 id="æ¨¡å—åˆ†ç±»"><a href="#æ¨¡å—åˆ†ç±»" class="headerlink" title="æ¨¡å—åˆ†ç±»"></a>æ¨¡å—åˆ†ç±»</h3><ul><li>Node.js ä¸­æ ¹æ®æ¨¡å—æ¥æºçš„ä¸åŒï¼Œå°†æ¨¡å—åˆ†ä¸ºäº†3å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯<ul><li>å†…ç½®æ¨¡å—(å†…ç½®æ¨¡å—æ˜¯ç”±Node.jså®˜æ–¹æä¾›çš„ï¼Œä¾‹å¦‚fsã€pathã€httpç­‰)</li><li>è‡ªå®šä¹‰æ¨¡å—ï¼ˆç”¨æˆ·åˆ›å»ºçš„æ¯ä¸ª.jsæ–‡ä»¶ï¼Œéƒ½æ˜¯è‡ªå®šä¹‰æ¨¡å—)</li><li>ç¬¬ä¸‰æ–¹æ¨¡å—(ç”±ç¬¬ä¸‰æ–¹å¼€å‘å‡ºæ¥çš„æ¨¡å—ï¼Œå¹¶éå®˜æ–¹æä¾›çš„å†…ç½®æ¨¡å—ï¼Œä¹Ÿä¸æ˜¯ç”¨æˆ·åˆ›å»ºçš„è‡ªå®šä¹‰æ¨¡å—ï¼Œä½¿ç”¨å‰<br>éœ€è¦å…ˆä¸‹è½½)</li></ul></li></ul><h3 id="åŠ è½½æ¨¡å—"><a href="#åŠ è½½æ¨¡å—" class="headerlink" title="åŠ è½½æ¨¡å—"></a>åŠ è½½æ¨¡å—</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ è½½å†…ç½®fsæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> custom - <span class="built_in">require</span>(<span class="string">&#x27;./custom.js&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> moment - <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨requireæ–¹æ³•åŠ è½½å…¶å®ƒæ¨¡å—æ—¶ï¼Œä¼šæ‰§è¡Œè¢«åŠ è½½æ¨¡å—ä¸­çš„ä»£ç ã€‚</li></ul><h3 id="æ¨¡å—ä½œç”¨åŸŸ"><a href="#æ¨¡å—ä½œç”¨åŸŸ" class="headerlink" title="æ¨¡å—ä½œç”¨åŸŸ"></a>æ¨¡å—ä½œç”¨åŸŸ</h3><ul><li>å’Œå‡½æ•°ä½œç”¨åŸŸç±»ä¼¼ï¼Œåœ¨è‡ªå®šä¹‰æ¨¡å—ä¸­å®šä¹‰çš„å˜é‡ã€æ–¹æ³•ç­‰æˆå‘˜ï¼Œåªèƒ½åœ¨å½“å‰æ¨¡å—å†…è¢«è®¿é—®ï¼Œè¿™ç§æ¨¡å—çº§åˆ«çš„è®¿é—®é™åˆ¶ï¼Œå«åšæ¨¡å—ä½œç”¨åŸŸã€‚</li><li>è¯¥ä½œç”¨åŸŸé˜²æ­¢äº†å…¨å±€å˜é‡æ±¡æŸ“çš„é—®é¢˜</li></ul><h3 id="moduleå¯¹è±¡"><a href="#moduleå¯¹è±¡" class="headerlink" title="moduleå¯¹è±¡"></a>moduleå¯¹è±¡</h3><ul><li>åœ¨æ¯ä¸ª.jsè‡ªå®šä¹‰æ¨¡å—ä¸­éƒ½æœ‰ä¸€ä¸ªmoduleå¯¹è±¡ï¼Œå®ƒé‡Œé¢å­˜å‚¨äº†å’Œå½“å‰æ¨¡å—æœ‰å…³çš„ä¿¡æ¯<ul><li>idï¼Œpathï¼Œexportsï¼Œparentï¼Œfilenameç­‰â€¦</li></ul></li></ul><h4 id="module-exports"><a href="#module-exports" class="headerlink" title="module.exports"></a>module.exports</h4><ul><li>åœ¨è‡ªå®šä¹‰æ¨¡å—ä¸­ï¼Œå¯ä»¥ä½¿ç”¨module.exportså¯¹è±¡ï¼Œå°†æ¨¡å—å†…çš„æˆå‘˜å…±äº«å‡ºå»ï¼Œä¾›å¤–ç•Œä½¿ç”¨ã€‚</li><li>å¤–ç•Œç”¨require()æ–¹æ³•å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œå¾—åˆ°çš„å°±æ˜¯ module.exportsæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚</li></ul><p><strong>ä»£ç ç¤ºä¾‹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// moduleA.js</span></span><br><span class="line"><span class="comment">// å¯¼å‡ºå˜é‡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">username</span> = <span class="string">&#x27;zs&#x27;</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">sayHello</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="comment">// å¯¼å…¥å¹¶ä½¿ç”¨å˜é‡</span></span><br><span class="line"><span class="keyword">const</span> moduleA = <span class="built_in">require</span>(<span class="string">&#x27;./moduleA.js&#x27;</span>)</span><br><span class="line">moduleA.<span class="title function_">sayHello</span>()</span><br></pre></td></tr></table></figure><h3 id="exportså¯¹è±¡"><a href="#exportså¯¹è±¡" class="headerlink" title="exportså¯¹è±¡"></a>exportså¯¹è±¡</h3><ul><li>ç”±äºmodule.exportså•è¯å†™èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œä¸ºäº†ç®€åŒ–å‘å¤–å…±äº«æˆå‘˜çš„ä»£ç ï¼ŒNodeæä¾›äº†exportså¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œexportså’Œmodule.exports æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚æœ€ç»ˆå…±äº«çš„ç»“æœï¼Œè¿˜æ˜¯ä»¥module.exportsæŒ‡å‘çš„å¯¹è±¡ä¸ºå‡†ã€‚</li><li>æ—¶åˆ»è°¨è®°ï¼Œrequire)æ¨¡å—æ—¶ï¼Œå¾—åˆ°çš„æ°¸è¿œæ˜¯ module.exportsæŒ‡å‘çš„å¯¹è±¡</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>.<span class="property">exports</span>) <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">exports</span>) <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>.<span class="property">exports</span> === <span class="built_in">exports</span>) <span class="comment">// true </span></span><br></pre></td></tr></table></figure><h3 id="CommonJSè§„èŒƒ"><a href="#CommonJSè§„èŒƒ" class="headerlink" title="CommonJSè§„èŒƒ"></a>CommonJSè§„èŒƒ</h3><p>Node.jséµå¾ªäº†CommonJSæ¨¡å—åŒ–è§„èŒƒï¼ŒCommonJSè§„å®šäº†æ¨¡å—çš„ç‰¹æ€§å’Œå„æ¨¡å—ä¹‹é—´å¦‚ä½•ç›¸äº’ä¾èµ–ã€‚</p><ul><li>CommonJSè§„å®šï¼š<ol><li>æ¯ä¸ªæ¨¡å—å†…éƒ¨,moduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚</li><li>moduleå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„exportså±æ€§(å³module.exports)æ˜¯å¯¹å¤–çš„æ¥å£ã€‚</li><li>åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„ module.exportså±æ€§ã€‚require)æ–¹æ³•ç”¨äºåŠ è½½æ¨¡å—ã€‚</li></ol></li></ul><h3 id="æ¨¡å—åŠ è½½æœºåˆ¶"><a href="#æ¨¡å—åŠ è½½æœºåˆ¶" class="headerlink" title="æ¨¡å—åŠ è½½æœºåˆ¶"></a>æ¨¡å—åŠ è½½æœºåˆ¶</h3><p>æ¨¡å—ç¬¬ä¸€æ¬¡åŠ è½½åä¼šè¢«ç¼“å­˜ï¼Œå³å¤šæ¬¡è°ƒç”¨ <code>require()</code> ä¸ä¼šå¯¼è‡´æ¨¡å—çš„ä»£ç è¢«æ‰§è¡Œå¤šæ¬¡ï¼Œæé«˜æ¨¡å—åŠ è½½æ•ˆç‡ã€‚</p><h4 id="å†…ç½®æ¨¡å—åŠ è½½"><a href="#å†…ç½®æ¨¡å—åŠ è½½" class="headerlink" title="å†…ç½®æ¨¡å—åŠ è½½"></a>å†…ç½®æ¨¡å—åŠ è½½</h4><p>å†…ç½®æ¨¡å—åŠ è½½ä¼˜å…ˆçº§æœ€é«˜ã€‚</p><h4 id="è‡ªå®šä¹‰æ¨¡å—åŠ è½½"><a href="#è‡ªå®šä¹‰æ¨¡å—åŠ è½½" class="headerlink" title="è‡ªå®šä¹‰æ¨¡å—åŠ è½½"></a>è‡ªå®šä¹‰æ¨¡å—åŠ è½½</h4><p>åŠ è½½è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œè·¯å¾„è¦ä»¥ <code>./</code> æˆ– <code>../</code> å¼€å¤´ï¼Œå¦åˆ™ä¼šä½œä¸ºå†…ç½®æ¨¡å—æˆ–ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½ã€‚</p><p>å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œè‹¥çœç•¥æ–‡ä»¶æ‰©å±•åï¼Œåˆ™ Node.js ä¼šæŒ‰é¡ºåºå°è¯•åŠ è½½æ–‡ä»¶ï¼š</p><ul><li>æŒ‰ç¡®åˆ‡çš„æ–‡ä»¶ååŠ è½½</li><li>è¡¥å…¨ <code>.js</code> æ‰©å±•ååŠ è½½</li><li>è¡¥å…¨ <code>.json</code> æ‰©å±•ååŠ è½½</li><li>è¡¥å…¨ <code>.node</code> æ‰©å±•ååŠ è½½</li><li>æŠ¥é”™</li></ul><h4 id="ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½"><a href="#ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½" class="headerlink" title="ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½"></a>ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½</h4><ul><li>è‹¥å¯¼å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œ Node.js ä¼šä»<strong>å½“å‰æ¨¡å—çš„çˆ¶ç›®å½•</strong>å¼€å§‹ï¼Œå°è¯•ä» <code>/node_modules</code> æ–‡ä»¶å¤¹ä¸­åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</li><li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œåˆ™ç§»åŠ¨åˆ°å†<strong>ä¸Šä¸€å±‚çˆ¶ç›®å½•</strong>ä¸­ï¼Œè¿›è¡ŒåŠ è½½ï¼Œç›´åˆ°<strong>æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•</strong>ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå‡è®¾åœ¨ <code>C:\Users\bruce\project\foo.js</code> æ–‡ä»¶é‡Œè°ƒç”¨äº† <code>require(&#39;tools&#39;)</code>ï¼Œåˆ™ Node.js ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ï¼š</p><ul><li><code>C:\Users\bruce\project\node_modules\tools</code></li><li><code>C:\Users\bruce\node_modules\tools</code></li><li><code>C:\Users\node_modules\tools</code></li><li><code>C:\node_modules\tools</code></li></ul><h4 id="ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½"><a href="#ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½" class="headerlink" title="ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½"></a>ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½</h4><p>å½“æŠŠç›®å½•ä½œä¸ºæ¨¡å—æ ‡è¯†ç¬¦è¿›è¡ŒåŠ è½½çš„æ—¶å€™ï¼Œæœ‰ä¸‰ç§åŠ è½½æ–¹å¼ï¼š</p><ul><li>åœ¨è¢«åŠ è½½çš„ç›®å½•ä¸‹æŸ¥æ‰¾ <code>package.json</code> çš„æ–‡ä»¶ï¼Œå¹¶å¯»æ‰¾ <code>main</code> å±æ€§ï¼Œä½œä¸º <code>require()</code> åŠ è½½çš„å…¥å£</li><li>å¦‚æœæ²¡æœ‰ <code>package.json</code> æ–‡ä»¶ï¼Œæˆ–è€… <code>main</code> å…¥å£ä¸å­˜åœ¨æˆ–æ— æ³•è§£æï¼Œåˆ™ Node.js å°†ä¼šè¯•å›¾åŠ è½½ç›®å½•ä¸‹çš„ <code>index.js</code> æ–‡ä»¶ã€‚</li><li>è‹¥å¤±è´¥åˆ™æŠ¥é”™</li></ul><h2 id="npmä¸åŒ…"><a href="#npmä¸åŒ…" class="headerlink" title="npmä¸åŒ…"></a>npmä¸åŒ…</h2><h3 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h3><ul><li>æ¦‚å¿µ<ul><li>Node.js ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—åˆå«åšåŒ…ã€‚</li><li>å°±åƒç”µè„‘å’Œè®¡ç®—æœºæŒ‡çš„æ˜¯ç›¸åŒçš„ä¸œè¥¿ï¼Œç¬¬ä¸‰æ–¹æ¨¡å—å’ŒåŒ…æŒ‡çš„æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼Œåªä¸è¿‡å«æ³•ä¸åŒã€‚</li></ul></li><li>æ¥æº<ul><li>ä¸åŒäºNode.js ä¸­çš„å†…ç½®æ¨¡å—ä¸è‡ªå®šä¹‰æ¨¡å—ï¼ŒåŒ…æ˜¯ç”±ç¬¬ä¸‰æ–¹ä¸ªäººæˆ–å›¢é˜Ÿå¼€å‘å‡ºæ¥çš„ï¼Œå…è´¹ä¾›æ‰€æœ‰äººä½¿ç”¨ã€‚</li><li>Node.js ä¸­çš„åŒ…éƒ½æ˜¯å…è´¹ä¸”å¼€æºçš„ï¼Œä¸éœ€è¦ä»˜è´¹å³å¯å…è´¹ä¸‹è½½ä½¿ç”¨ã€‚</li></ul></li><li>ä¸ºä»€ä¹ˆéœ€è¦åŒ…<ul><li>ç”±äºNode.js çš„å†…ç½®æ¨¡å—ä»…æä¾›äº†ä¸€äº›åº•å±‚çš„APIï¼Œå¯¼è‡´åœ¨åŸºäºå†…ç½®æ¨¡å—è¿›è¡Œé¡¹ç›®å¼€å‘çš„æ—¶ï¼Œæ•ˆç‡å¾ˆä½ã€‚</li><li>åŒ…æ˜¯åŸºäºå†…ç½®æ¨¡å—å°è£…å‡ºæ¥çš„ï¼Œæä¾›äº†æ›´é«˜çº§ã€æ›´æ–¹ä¾¿çš„APIï¼Œæå¤§çš„æé«˜äº†å¼€å‘æ•ˆç‡ã€‚</li><li>åŒ…å’Œå†…ç½®æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œç±»ä¼¼äºjQueryå’Œæµè§ˆå™¨å†…ç½®APIä¹‹é—´çš„å…³ç³»ã€‚</li></ul></li><li>ä»å“ªé‡Œä¸‹è½½åŒ…<ul><li>å›½å¤–æœ‰ä¸€å®¶ITå…¬å¸ï¼Œå«åšnpm, Inc.è¿™å®¶å…¬å¸æ——ä¸‹æœ‰ä¸€ä¸ªéå¸¸è‘—åçš„ç½‘ç«™: <a href="https://www.npmjs.com/%EF%BC%8C%E5%AE%83%E6%98%AF%E5%85%A8%E7%90%83%E6%9C%80%E5%A4%A7%E7%9A%84%E5%8C%85%E5%85%B1%E4%BA%AB%E5%B9%B3%E5%8F%B0%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E4%BB%8E%E8%BF%99%E4%B8%AA%E7%BD%91%E7%AB%99%E4%B8%8A%E6%90%9C%E7%B4%A2%E5%88%B0%E4%BB%BB%E4%BD%95%E4%BD%A0%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85%EF%BC%8C%E5%8F%AA%E8%A6%81%E4%BD%A0%E6%9C%89%E8%B6%B3%E5%A4%9F%E7%9A%84%E8%80%90%E5%BF%83">https://www.npmjs.com/ï¼Œå®ƒæ˜¯å…¨çƒæœ€å¤§çš„åŒ…å…±äº«å¹³å°ï¼Œä½ å¯ä»¥ä»è¿™ä¸ªç½‘ç«™ä¸Šæœç´¢åˆ°ä»»ä½•ä½ éœ€è¦çš„åŒ…ï¼Œåªè¦ä½ æœ‰è¶³å¤Ÿçš„è€å¿ƒ</a>!</li><li>npm, Inc.å…¬å¸æä¾›äº†ä¸€ä¸ªåœ°å€ä¸º<a href="https://registry.npmjs.org/%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E6%9D%A5%E5%AF%B9%E5%A4%96%E5%85%B1%E4%BA%AB%E6%89%80%E6%9C%89%E7%9A%84%E5%8C%85%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BB%8E%E8%BF%99%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E4%B8%8B%E8%BD%BD%E8%87%AA%E5%B7%B1%E6%89%80%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85%E3%80%82">https://registry.npmjs.org/çš„æœåŠ¡å™¨ï¼Œæ¥å¯¹å¤–å…±äº«æ‰€æœ‰çš„åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™ä¸ªæœåŠ¡å™¨ä¸Šä¸‹è½½è‡ªå·±æ‰€éœ€è¦çš„åŒ…ã€‚</a></li></ul></li><li>å¦‚ä½•ä¸‹è½½åŒ…<ul><li>npm, Inc.å…¬å¸æä¾›äº†ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œä»<a href="https://registry.npmjs.org/%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8A%8A%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85%E4%B8%8B%E8%BD%BD%E5%88%B0%E6%9C%AC%E5%9C%B0%E4%BD%BF%E7%94%A8%E3%80%82">https://registry.npmjs.org/æœåŠ¡å™¨æŠŠéœ€è¦çš„åŒ…ä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨ã€‚</a><br>è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·çš„åå­—å«åšNode Package Manager (<strong>ç®€ç§°npmåŒ…ç®¡ç†å·¥å…·</strong>)ï¼Œè¿™ä¸ªåŒ…ç®¡ç†å·¥å…·éšç€Node.jsçš„å®‰è£…åŒ…ä¸€èµ·è¢«å®‰è£…åˆ°äº†ç”¨æˆ·çš„ç”µè„‘ä¸Šã€‚</li></ul></li></ul><h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><ul><li>npmæ˜¯Nodejså®˜æ–¹çš„åŒ…ç®¡ç†å·¥å…·ã€‚</li><li>åˆæ¬¡è£…åŒ…å®Œæˆåï¼Œåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹å¤šä¸€ä¸ªå«åšnode_ modulesçš„æ–‡ä»¶å¤¹å’Œpackage-lockjsonçš„é…ç½®æ–‡ä»¶ã€‚</li><li>node_modules æ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾æ‰€æœ‰å·²å®‰è£…åˆ°é¡¹ç›®ä¸­çš„åŒ…ã€‚require()å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…æ—¶ï¼Œå°±æ˜¯ä»è¿™ä¸ªç›®å½•ä¸­æŸ¥æ‰¾å¹¶åŠ è½½åŒ…ã€‚</li><li>package-lockjson é…ç½®æ–‡ä»¶ç”¨æ¥è®°å½•node modulesç›®å½•ä¸‹çš„æ¯ä¸€ä¸ªåŒ…çš„ä¸‹è½½ä¿¡æ¯ï¼Œä¾‹å¦‚åŒ…çš„åå­—ã€ç‰ˆæœ¬å·ã€ä¸‹è½½åœ°å€ç­‰ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–npmé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># -yè¡¨ç¤ºä½¿ç”¨é…ç½®é»˜è®¤é€‰é¡¹</span></span><br><span class="line"><span class="comment"># æ‰§è¡Œåå‡ºç° package.json æ–‡ä»¶</span></span><br><span class="line">npm init -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½åŒ…</span></span><br><span class="line">npm install &lt;åŒ…åç§°&gt;</span><br><span class="line"><span class="comment"># åˆ é™¤åŒ…</span></span><br><span class="line">npm uninstall &lt;åŒ…åç§°&gt;</span><br><span class="line"><span class="comment"># åˆ‡æ¢é•œåƒæºåŠ é€Ÿä¸‹è½½</span></span><br><span class="line">npm config <span class="built_in">set</span> registry=https://registry.npm.taobao.org/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æ‰§è¡Œnpm installå‘½ä»¤æ—¶ï¼Œå¦‚æœæä¾›äº†-gå‚æ•°ï¼Œåˆ™ä¼šæŠŠåŒ…å®‰è£…ä¸ºå…¨å±€åŒ…ã€‚</span></span><br><span class="line"><span class="comment"># å…¨å±€åŒ…ä¼šè¢«å®‰è£…åˆ°C:\Users\ç”¨æˆ·ç›®å½•VAppData\RoamingInpm\node_modulesç›®å½•ä¸‹ã€‚</span></span><br><span class="line">npm install &lt;åŒ…åç§°&gt; -g</span><br></pre></td></tr></table></figure><ul><li>ä¸Šè¿°å‘½ä»¤åªèƒ½åœ¨è‹±æ–‡çš„ç›®å½•ä¸‹æˆåŠŸè¿è¡Œ!æ‰€ä»¥ï¼Œé¡¹ç›®æ–‡ä»¶å¤¹çš„åç§°ä¸€å®šè¦ä½¿ç”¨è‹±æ–‡å‘½åï¼Œä¸è¦ä½¿ç”¨ä¸­æ–‡ï¼Œä¸èƒ½å‡ºç°ç©ºæ ¼ã€‚</li><li>è¿è¡Œnpm installå‘½ä»¤å®‰è£…åŒ…çš„æ—¶å€™ï¼ŒnpmåŒ…ç®¡ç†å·¥å…·ä¼šè‡ªåŠ¨æŠŠåŒ…çš„åç§°å’Œç‰ˆæœ¬å·ï¼Œè®°å½•åˆ°package.json ä¸­ã€‚</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packge.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nodeNpm&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="å‘å¸ƒåŒ…"><a href="#å‘å¸ƒåŒ…" class="headerlink" title="å‘å¸ƒåŒ…"></a>å‘å¸ƒåŒ…</h3><ul><li>æ–°å»ºitheima-toolsæ–‡ä»¶å¤¹ï¼Œä½œä¸ºåŒ…çš„æ ¹ç›®å½•</li><li>åœ¨itheima-toolsæ–‡ä»¶å¤¹ä¸­ï¼Œæ–°å»ºå¦‚ä¸‹ä¸‰ä¸ªæ–‡ä»¶:<ul><li>package.json(åŒ…ç®¡ç†é…ç½®æ–‡ä»¶)</li><li>index.js(åŒ…çš„å…¥å£æ–‡ä»¶)</li><li>README.md(åŒ…çš„è¯´æ˜æ–‡æ¡£)</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packge.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;myTool&quot;</span>, <span class="comment">// åŒ…åç§°</span></span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>, <span class="comment">// åŒ…ç‰ˆæœ¬</span></span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// åŒ…çš„æè¿°</span></span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>, <span class="comment">// åŒ…çš„å…¥å£æ–‡ä»¶</span></span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123; <span class="comment">// åŒ…çš„å¯æ‰§è¡ŒæŒ‡ä»¤</span></span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;keywords&quot;</span>: [], <span class="comment">// æœç´¢å…³é”®å­—ï¼Œä½¿ç”¨é‚£äº›å…³é”®å­—å¯ä»¥æœç´¢åˆ°è¯¥ä½œè€…</span></span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// åŒ…çš„ä½œè€…</span></span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span> <span class="comment">// åŒ…éµå¾ªçš„å¼€æºåè®®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">export</span> = &#123;</span><br><span class="line">    <span class="title function_">add</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åŒ…æ ¹ç›®å½•ä¸­çš„README.mdæ–‡ä»¶ï¼Œæ˜¯åŒ…çš„ä½¿ç”¨è¯´æ˜æ–‡æ¡£ã€‚é€šè¿‡å®ƒï¼Œæˆ‘ä»¬å¯ä»¥äº‹å…ˆæŠŠåŒ…çš„ä½¿ç”¨è¯´æ˜ï¼Œä»¥ markdownçš„æ ¼å¼å†™å‡ºæ¥ï¼Œæ–¹ä¾¿ç”¨æˆ·å‚è€ƒã€‚</li><li>READMEæ–‡ä»¶ä¸­å…·ä½“å†™ä»€ä¹ˆå†…å®¹ï¼Œæ²¡æœ‰å¼ºåˆ¶æ€§çš„è¦æ±‚;åªè¦èƒ½å¤Ÿæ¸…æ™°åœ°æŠŠåŒ…çš„ä½œç”¨ã€ç”¨æ³•ã€æ³¨æ„äº‹é¡¹ç­‰æè¿°æ¸…æ¥šå³å¯ã€‚æˆ‘ä»¬æ‰€åˆ›å»ºçš„</li><li>è¿™ä¸ªåŒ…çš„ README.mdæ–‡æ¡£ä¸­ï¼Œä¼šåŒ…å«ä»¥ä¸‹6é¡¹å†…å®¹:<ul><li>å®‰è£…æ–¹å¼ã€å¯¼å…¥æ–¹å¼ã€æ ¼å¼åŒ–æ—¶é—´ã€è½¬ä¹‰HTMLä¸­çš„ç‰¹æ®Šå­—ç¬¦ã€è¿˜åŸHTMLä¸­çš„ç‰¹æ®Šå­—ç¬¦ã€å¼€æºåè®®</li></ul></li></ul><h3 id="npmå‘å¸ƒ"><a href="#npmå‘å¸ƒ" class="headerlink" title="npmå‘å¸ƒ"></a>npmå‘å¸ƒ</h3><h4 id="æ³¨å†Œnpmè´¦å·"><a href="#æ³¨å†Œnpmè´¦å·" class="headerlink" title="æ³¨å†Œnpmè´¦å·"></a>æ³¨å†Œnpmè´¦å·</h4><ul><li>è®¿é—®<a href="https://www.npmjs.com/%E7%BD%91%E7%AB%99%EF%BC%8C%E7%82%B9%E5%87%BB">https://www.npmjs.com/ç½‘ç«™ï¼Œç‚¹å‡»</a> sign upæŒ‰é’®ï¼Œè¿›å…¥æ³¨å†Œç”¨æˆ·ç•Œé¢</li><li>å¡«å†™è´¦å·ç›¸å…³çš„ä¿¡æ¯:Full Nameã€Public Emailã€Usernameã€Password</li><li>ç‚¹å‡»Create an AccountæŒ‰é’®ï¼Œæ³¨å†Œè´¦å·</li><li>ç™»å½•é‚®ç®±,ç‚¹å‡»éªŒè¯é“¾æ¥ï¼Œè¿›è¡Œè´¦å·çš„éªŒè¯</li></ul><h4 id="ç™»å½•npmè´¦å·"><a href="#ç™»å½•npmè´¦å·" class="headerlink" title="ç™»å½•npmè´¦å·"></a>ç™»å½•npmè´¦å·</h4><ul><li>npmè´¦å·æ³¨å†Œå®Œæˆåï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œnpm loginå‘½ä»¤ï¼Œä¾æ¬¡è¾“å…¥ç”¨æˆ·åã€å¯†ç ã€é‚®ç®±åï¼Œå³å¯ç™»å½•æˆåŠŸã€‚</li><li><strong>æ³¨æ„</strong>ï¼šåœ¨è¿è¡Œnpm loginå‘½ä»¤ä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠä¸‹åŒ…çš„æœåŠ¡å™¨åœ°å€åˆ‡æ¢ä¸ºnpmçš„å®˜æ–¹æœåŠ¡å™¨ã€‚å¦åˆ™ä¼šå¯¼è‡´å‘å¸ƒåŒ…å¤±è´¥!</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å…¥è´¦å·å¯†ç åå³å¯æˆåŠŸç™»å½•</span></span><br><span class="line">npm login</span><br></pre></td></tr></table></figure><h4 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†åŒ…å‘å¸ƒåœ¨npmä¸Š</span></span><br><span class="line">npm publish</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘å¸ƒçš„åŒ…</span></span><br><span class="line">npm unpublish &lt;åŒ…å&gt; --force</span><br></pre></td></tr></table></figure><ul><li>npm unpublishå‘½ä»¤åªèƒ½åˆ é™¤72å°æ—¶ä»¥å†…å‘å¸ƒçš„åŒ…ã€‚</li><li>npm unpublish åˆ é™¤çš„åŒ…ï¼Œåœ¨24å°æ—¶å†…ä¸å…è®¸é‡å¤å‘å¸ƒå‘å¸ƒåŒ…çš„æ—¶å€™è¦æ…é‡ã€‚</li><li>å°½é‡ä¸è¦å¾€npmä¸Šå‘å¸ƒæ²¡æœ‰æ„ä¹‰çš„åŒ…!</li></ul><blockquote><p>â›„ä»¥ä¸Šä¾¿æ˜¯åŸºç¡€ç¯‡çš„å…¨éƒ¨å†…å®¹äº†ï¼Œå­¦ä¹ åèƒ½è®©ä½ å¯¹NodeJSæœ‰ä¸€ä¸ªå¤§è‡´çš„äº†è§£ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NodeJS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€é›ªäººæ—¥è®°ã€‘2023å¹´çš„é™¤å¤•å¤œ</title>
      <link href="/2023/01/22/diary/2023-1-22/"/>
      <url>/2023/01/22/diary/2023-1-22/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="021b4619a80511215f1021ee9a99ec4bb4b8327b2295aa0635b5c840040a7ac7">470d40a13319dd5202c7e8667eadc5c9dff3ccb84d4bcff22c717d465e98526a3aef0124637f4316ef35591b77e4dddf653ce7f9bcbd21e6e3ca8f83ef35cd6dde4b79bb7240ad92d5ab011b654ecfc2a9199e29312edeb917b0519ed5bfd60e2494aec28fe0a49f31e457d693e4824ff8723adf28ed2c2d8daab0c3cde26088e88078a34a4218348ff11e0e221015793f66ab6cf7e399afa8482a2068dac02495f4bff7b566c5d7707c552b5abb5e0f67bde5b93d82857a9be9055fa730c37f368aea1c2eb4d34ee5151013a31ceacaf03fc12bd149f5be046c39f8170990406f9f84eab1f1b2a833f903922409b9e1d743ee144994255c9b55a93fcc403df6fac62f71c0ecb9d53e9cfd603413b592219f2aee4edcbc6be30f1a5f0ca98a1e2ff83b66e0a565b3096f1b19392ddd1f7455b6fc2bb88c0b8580b543073362c2cf13063ec67505486a3c2f8f7fcd246d2745e144cf32a21ecfa3d109a3b076252a9883585a9334967ad6ae672c56715cdc0f00de7c572ada5cacc062f4f857e890b96736617d515b0e4de8ae125a5a8fb005de0c5afc23f5c591f03bf92d01aa2c3092a990cc33ae2b32ae3013abd0c0d72cc8d03bf45d0d6986fee5990eada9ca3ca5b71c4747c7fac5aaf5f752908bc5411c431ca150c2d4db5c8e14334768c8b81b483919515908dda8e824104209e2db14472c7da637734f48e2bc72fe29d32eb11854586fba0ec6d344d8390964e339489cb0c513fa28ed588889fb8f31a19b074f1d769ce5a03e365e91c998a7a99eaf21d323ffc0829a715998bf9e5fe33336097bbc72b8f926b4ae9c0264240b2cdb137c2a1c3c45bbd51d80f09cfd33222a6a681f21193c9910a2f96c644ef5b51336ec74fcb7ca9455eab32265a6d49b1268f66b6f25af0321701b53b31c53da68542cd385d2733a57946d3324e5c9f09d56fbd7211b4be2276b13fd8f40d61513232823665e2ad6225dfe3db576076f92dd7e95080bff67b7ea48b623d1914c99196ea4389601e465d02aebbb6c332fbc7097c260a9a3370e91d5ef2bd50edcc1b1e3d5dae52eeca4e8d5c2560a3a06dc830233d8b6566a69c47d1e2ae0efc3a658ace045c513a81ed6ee9cd1f260e00a1d64cf9ac55fbd8e7e6aacb10e2586dcd27f8d708643d0128fe13d88affb1bb61120ea45ca1517e27b5271bf52b2772cb654628db1421f6fcf93ac0be8ac945982243bd0b6cfc50d0e160f7bd85ece47fbfcc97d6b3ae2b2b05d5c45c2b5d1dfab308fb4ea2d1a601c7e516c86a00e66c3263d84e02834143dcc2ee6564416fea85a24d9f1e005a64510e245f92aafed6f07ff9c579c2d085989d3bd2608fbc26fb6f8ed7374a6a7f1eee22a45fa47cbfd5e092493a01549912591a68a7ffb3a25d2057b414b8c5946ab57163d207dcd3e69d38a578a182262f51b226225a4419b52cbe5884effa1fdc4be66e64c6a47b639be741d9eb3b65418a32c58ec2463d2bb439176a4a7dc23d41a1d5303706b22f3982c4f8a1c3979d3b090d612af939a699bec07638ff8d3e851de6e277ab3704791d0972bde2147a1afd8e258db7efeb25bcb50faeff246e30706c2861989a75418ff5216a72108b2144ab926a0abdfbc12759f988ae11dfc8602ec4bf51a921bb70b091133f562329a5a9d0a890e828c2f029c33692e034e3aa5314632c9179ebf26a8e5bb2ddaa3fb52d2240f5086ca998dc903aa4f103cf9faefc0a539db4939ae1ab60aad726dfa8565357094e9982ce555108b8f41a0292b2b6ef86348c068076adfc1dec39d14d58baee20bd77ab68718dd7670d8b16ce67d70fd68d8f0efb938ca0f039196be096f8c713545e47fc4826d800e2b230a15d318d528ae3c42de73c7171fd302a0df71025fd88122634c342eb59dfca8618be93ec979748ec718f68a92e3562968bedf</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">è¯¥æ–‡ç« éœ€è¦å¯†ç </span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é›ªäººæ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é›ªäººæ—¥è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å­¦ä¹ ç¬”è®°ã€‘å°šç¡…è°·Webpack5å…¥é—¨åˆ°åŸç† | é«˜çº§ç¯‡</title>
      <link href="/2023/01/18/WebPack5-02/"/>
      <url>/2023/01/18/WebPack5-02/</url>
      
        <content type="html"><![CDATA[<h1 id="WebPack5é«˜çº§ç¯‡"><a href="#WebPack5é«˜çº§ç¯‡" class="headerlink" title="WebPack5é«˜çº§ç¯‡"></a>WebPack5é«˜çº§ç¯‡</h1><blockquote><p>â›„ç»§ç»­å­¦ä¹ WebPack5çš„é«˜çº§ç¯‡ã€‚</p><p>â›„è¿™ä¸€ç¯‡ä¸»è¦è®²çš„æ˜¯WebPack5æ‰“åŒ…ä¼˜åŒ–çš„æ€è·¯ï¼Œå…¨æ˜¯é…ç½®é¡¹ï¼Œæ— æŠ€æœ¯å«é‡ï¼Œä¸»è¦æ˜¯æ€è·¯çš„å­¦ä¹ ã€‚</p><p>â­<strong>æ³¨</strong>ï¼šæœ¬æ–‡æ˜¯å¯¹<strong>å°šç¡…è°· Web å‰ç«¯ä¹‹ Webpack5 æ•™ç¨‹</strong>çš„å­¦ä¹ ç¬”è®°è®°å½•ï¼ŒåŠ å…¥äº†ä¸€äº›è‡ªå·±çš„ç»ƒä¹ æ”¹åŠ¨ä¸æ€è€ƒã€‚</p><p>â­<strong>æ¨èå¤§å®¶å»çœ‹åŸè§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV14T4y1z7sw/">å°šç¡…è°·Webpack5å…¥é—¨åˆ°åŸç†ï¼ˆé¢è¯•å¼€å‘ä¸€æ¡é¾™ï¼‰_å“”å“©å“”å“©_bilibili</a></p></blockquote><h2 id="æˆ‘çš„æ€»ç»“"><a href="#æˆ‘çš„æ€»ç»“" class="headerlink" title="æˆ‘çš„æ€»ç»“"></a>æˆ‘çš„æ€»ç»“</h2><ul><li>ä¸‹é¢éƒ½æ˜¯ä¸€äº›é…ç½®é¡¹ï¼Œåœ¨è¿™é‡Œå¤§æ¦‚æè¿°ä¸€ä¸‹ä¼˜åŒ–çš„æ€è·¯</li></ul><h3 id="å¼€å‘è€…ä½“éªŒä¼˜åŒ–"><a href="#å¼€å‘è€…ä½“éªŒä¼˜åŒ–" class="headerlink" title="å¼€å‘è€…ä½“éªŒä¼˜åŒ–"></a>å¼€å‘è€…ä½“éªŒä¼˜åŒ–</h3><ul><li>SourceMapï¼šæ‰“åŒ…åæŠ¥é”™å¯æ˜ å°„æºç æŠ¥é”™ä½ç½®</li></ul><h3 id="æ‰“åŒ…åŠ é€Ÿ"><a href="#æ‰“åŒ…åŠ é€Ÿ" class="headerlink" title="æ‰“åŒ…åŠ é€Ÿ"></a>æ‰“åŒ…åŠ é€Ÿ</h3><ul><li>HotModuleReplacementï¼šçƒ­æ¨¡å—æ›¿æ¢</li><li>OneOfï¼šæ­£åˆ™åŒ¹é…ä¼˜åŒ–</li><li>Include&#x2F;Excludeï¼šåŒ¹é…éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶ï¼Œå¯¹ä¸éœ€è¦çš„è¿›è¡Œè¿‡æ»¤</li><li>Cacheï¼šç¼“å­˜ä¼˜åŒ–ï¼Œå¯¹Eslintæ£€æŸ¥ä¸Babelç¼–è¯‘ç»“æœè¿›è¡Œç¼“å­˜</li><li>Threadï¼šå¤šè¿›ç¨‹æ‰“åŒ…</li></ul><h3 id="å‹ç¼©ä»£ç ä½“ç§¯"><a href="#å‹ç¼©ä»£ç ä½“ç§¯" class="headerlink" title="å‹ç¼©ä»£ç ä½“ç§¯"></a>å‹ç¼©ä»£ç ä½“ç§¯</h3><ul><li>TreeShakingï¼šåªæ‰“åŒ…æ‰€éœ€åº“çš„è¢«å¼•ç”¨å†…å®¹ï¼Œè€Œä¸æ˜¯æ‰“åŒ…æ•´ä¸ªåº“</li><li>Babelï¼šæœ‰ä¼˜åŒ–Babelä½“ç§¯çš„æ’ä»¶</li><li>ImageMinimizerï¼šæ‰“åŒ…å›¾ç‰‡å‹ç¼©</li></ul><h3 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h3><ul><li>Core-jsï¼šbabelçš„è¡¥ä¸ï¼Œå¯ä»¥å°†asycå‡½æ•°ï¼Œpromiseå¯¹è±¡ç­‰ES6è¯­æ³•åŠå…¶ä»–å†…å®¹è¿›è¡Œå‘ä¸‹å…¼å®¹</li></ul><h3 id="æµè§ˆå™¨æ¸²æŸ“ä¼˜åŒ–"><a href="#æµè§ˆå™¨æ¸²æŸ“ä¼˜åŒ–" class="headerlink" title="æµè§ˆå™¨æ¸²æŸ“ä¼˜åŒ–"></a>æµè§ˆå™¨æ¸²æŸ“ä¼˜åŒ–</h3><ul><li>CodeSplitï¼šå°†JSæ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œéœ€è¦å“ªä¸ªåº“å°±å¯¼å…¥å“ªä¸€ä¸ªã€‚è€Œä¸æ˜¯ç›´æ¥å…¨éƒ¨å¯¼å…¥ã€‚</li><li>Preload&#x2F;Prefetchï¼šå¯ä»¥åœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´è¿›è¡ŒåŠ è½½èµ„æº</li><li>NetworkCacheï¼šå¯¹è¯·æ±‚çš„èµ„æºè¿›è¡Œç¼“å­˜</li><li>PWAï¼šç¦»çº¿æ—¶ä»å¯ä»¥è®¿é—®é¡¹ç›®</li></ul><blockquote><p>â­éƒ½æ˜¯è¦é…ç½®éå¸¸å¤šçš„å†…å®¹ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªç« èŠ‚ä¸éœ€è¦çœ‹å¦‚ä½•é…ç½®ï¼Œåªéœ€è¦è¿‡ä¸€éæ¦‚å¿µä¸ä¼˜åŒ–æ€è·¯ã€‚</p><p>â­åœ¨å¤§å®¶æœ‰éœ€è¦çš„æ—¶å€™ï¼ŒæŒ‰ç…§è¿™ä¸ªæ€è·¯å»å®˜ç½‘æŸ¥æ‰¾æœ€æ–°é…ç½®å³å¯ã€‚</p></blockquote><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>æœ¬ç« èŠ‚ä¸»è¦ä»‹ç» Webpack é«˜çº§é…ç½®ã€‚</p><p>æ‰€è°“é«˜çº§é…ç½®å…¶å®å°±æ˜¯è¿›è¡Œ Webpack ä¼˜åŒ–ï¼Œè®©æˆ‘ä»¬ä»£ç åœ¨ç¼–è¯‘&#x2F;è¿è¡Œæ—¶æ€§èƒ½æ›´å¥½~</p><p>æˆ‘ä»¬ä¼šä»ä»¥ä¸‹è§’åº¦æ¥è¿›è¡Œä¼˜åŒ–ï¼š</p><ol><li>æå‡å¼€å‘ä½“éªŒ</li><li>æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦</li><li>å‡å°‘ä»£ç ä½“ç§¯</li><li>ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½</li></ol><h2 id="æå‡å¼€å‘ä½“éªŒ"><a href="#æå‡å¼€å‘ä½“éªŒ" class="headerlink" title="æå‡å¼€å‘ä½“éªŒ"></a>æå‡å¼€å‘ä½“éªŒ</h2><h3 id="SourceMap"><a href="#SourceMap" class="headerlink" title="SourceMap"></a>SourceMap</h3><h4 id="ä¸ºä»€ä¹ˆ"><a href="#ä¸ºä»€ä¹ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><p>å¼€å‘æ—¶æˆ‘ä»¬è¿è¡Œçš„ä»£ç æ˜¯ç»è¿‡ webpack ç¼–è¯‘åçš„ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ATTENTION: The &quot;eval&quot; devtool has been used (maybe by default in mode: &quot;development&quot;).</span></span><br><span class="line"><span class="comment"> * This devtool is neither made for production nor for readable output files.</span></span><br><span class="line"><span class="comment"> * It uses &quot;eval()&quot; calls to create a separate source file in the browser devtools.</span></span><br><span class="line"><span class="comment"> * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)</span></span><br><span class="line"><span class="comment"> * or disable the default devtool with &quot;devtool: false&quot;.</span></span><br><span class="line"><span class="comment"> * If you are looking for production-ready output files, see mode: &quot;production&quot; (https://webpack.js.org/configuration/mode/).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/******/</span> (<span class="function">() =&gt;</span> &#123; <span class="comment">// webpackBootstrap</span></span><br><span class="line"><span class="comment">/******/</span> <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="comment">/******/</span> <span class="keyword">var</span> __webpack_modules__ = (&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> <span class="string">&quot;./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less&quot;</span>:</span><br><span class="line"><span class="comment">/*!**********************************************************************************************************!*\</span></span><br><span class="line"><span class="comment">  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less ***!</span></span><br><span class="line"><span class="comment">  \**********************************************************************************************************/</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function">(<span class="params"><span class="variable language_">module</span>, __webpack_exports__, __webpack_require__</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, &#123;\n/* harmony export */   \&quot;default\&quot;: () =&gt; (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ &#125;);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \&quot;./node_modules/css-loader/dist/runtime/noSourceMaps.js\&quot;);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \&quot;./node_modules/css-loader/dist/runtime/api.js\&quot;);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \&quot;.box2 &#123;\\n  width: 100px;\\n  height: 100px;\\n  background-color: deeppink;\\n&#125;\\n\&quot;, \&quot;\&quot;]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://webpack5/./src/less/index.less?./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;),</span><br><span class="line"><span class="comment">// å…¶ä»–çœç•¥</span></span><br></pre></td></tr></table></figure><p>æ‰€æœ‰ css å’Œ js åˆå¹¶æˆäº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å¤šäº†å…¶ä»–ä»£ç ã€‚æ­¤æ—¶å¦‚æœä»£ç è¿è¡Œå‡ºé”™é‚£ä¹ˆæç¤ºä»£ç é”™è¯¯ä½ç½®æˆ‘ä»¬æ˜¯çœ‹ä¸æ‡‚çš„ã€‚ä¸€æ—¦å°†æ¥å¼€å‘ä»£ç æ–‡ä»¶å¾ˆå¤šï¼Œé‚£ä¹ˆå¾ˆéš¾å»å‘ç°é”™è¯¯å‡ºç°åœ¨å“ªé‡Œã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´åŠ å‡†ç¡®çš„é”™è¯¯æç¤ºï¼Œæ¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å¼€å‘ä»£ç ã€‚</p><h4 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>SourceMapï¼ˆæºä»£ç æ˜ å°„ï¼‰æ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆæºä»£ç ä¸æ„å»ºåä»£ç ä¸€ä¸€æ˜ å°„çš„æ–‡ä»¶çš„æ–¹æ¡ˆã€‚</p><p>å®ƒä¼šç”Ÿæˆä¸€ä¸ª xxx.map æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«æºä»£ç å’Œæ„å»ºåä»£ç æ¯ä¸€è¡Œã€æ¯ä¸€åˆ—çš„æ˜ å°„å…³ç³»ã€‚å½“æ„å»ºåä»£ç å‡ºé”™äº†ï¼Œä¼šé€šè¿‡ xxx.map æ–‡ä»¶ï¼Œä»æ„å»ºåä»£ç å‡ºé”™ä½ç½®æ‰¾åˆ°æ˜ å°„åæºä»£ç å‡ºé”™ä½ç½®ï¼Œä»è€Œè®©æµè§ˆå™¨æç¤ºæºä»£ç æ–‡ä»¶å‡ºé”™ä½ç½®ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¿«çš„æ‰¾åˆ°é”™è¯¯æ ¹æºã€‚</p><h4 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><p>é€šè¿‡æŸ¥çœ‹<a href="https://webpack.docschina.org/configuration/devtool/">Webpack DevTool æ–‡æ¡£open in new window</a>å¯çŸ¥ï¼ŒSourceMap çš„å€¼æœ‰å¾ˆå¤šç§æƒ…å†µ.</p><p>ä½†å®é™…å¼€å‘æ—¶æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸¤ç§æƒ…å†µå³å¯ï¼š</p><ul><li>å¼€å‘æ¨¡å¼ï¼š<code>cheap-module-source-map</code><ul><li>ä¼˜ç‚¹ï¼šæ‰“åŒ…ç¼–è¯‘é€Ÿåº¦å¿«ï¼ŒåªåŒ…å«è¡Œæ˜ å°„</li><li>ç¼ºç‚¹ï¼šæ²¡æœ‰åˆ—æ˜ å°„</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;cheap-module-source-map&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>ç”Ÿäº§æ¨¡å¼ï¼š<code>source-map</code><ul><li>ä¼˜ç‚¹ï¼šåŒ…å«è¡Œ&#x2F;åˆ—æ˜ å°„</li><li>ç¼ºç‚¹ï¼šæ‰“åŒ…ç¼–è¯‘é€Ÿåº¦æ›´æ…¢</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;source-map&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>ç®€å•æ¥è¯´ï¼Œæ¨èåœ¨å¼€å‘æ¨¡å¼ä½¿ç”¨<code>cheap-module-source-map</code>ï¼Œåœ¨ç”Ÿäº§æ¨¡å¼ä½¿ç”¨<code>source-map</code>ã€‚</strong></p><h2 id="æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦"><a href="#æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦" class="headerlink" title="æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦"></a>æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦</h2><h3 id="HotModuleReplacement"><a href="#HotModuleReplacement" class="headerlink" title="HotModuleReplacement"></a>HotModuleReplacement</h3><h4 id="ä¸ºä»€ä¹ˆ-1"><a href="#ä¸ºä»€ä¹ˆ-1" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>å¼€å‘æ—¶æˆ‘ä»¬ä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªæ¨¡å—ä»£ç ï¼ŒWebpack é»˜è®¤ä¼šå°†æ‰€æœ‰æ¨¡å—å…¨éƒ¨é‡æ–°æ‰“åŒ…ç¼–è¯‘ï¼Œé€Ÿåº¦å¾ˆæ…¢ã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšåˆ°ä¿®æ”¹æŸä¸ªæ¨¡å—ä»£ç ï¼Œå°±åªæœ‰è¿™ä¸ªæ¨¡å—ä»£ç éœ€è¦é‡æ–°æ‰“åŒ…ç¼–è¯‘ï¼Œå…¶ä»–æ¨¡å—ä¸å˜ï¼Œè¿™æ ·æ‰“åŒ…é€Ÿåº¦å°±èƒ½å¾ˆå¿«ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-1"><a href="#æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>HotModuleReplacementï¼ˆHMR&#x2F;çƒ­æ¨¡å—æ›¿æ¢ï¼‰ï¼šåœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p><h4 id="æ€ä¹ˆç”¨-1"><a href="#æ€ä¹ˆç”¨-1" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><h5 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h5><ul><li>æ­¤é…ç½®åœ¨WebPack5æ˜¯é»˜è®¤å¼€å¯çš„</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">    <span class="attr">port</span>: <span class="string">&quot;3000&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">    <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">    <span class="attr">hot</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯HMRåŠŸèƒ½ï¼ˆåªèƒ½ç”¨äºå¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒä¸éœ€è¦äº†ï¼‰</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="JSé…ç½®"><a href="#JSé…ç½®" class="headerlink" title="JSé…ç½®"></a>JSé…ç½®</h5><ul><li>JSé»˜è®¤ä¸èƒ½çƒ­æ¨¡å—æ›¿æ¢ï¼Œä¸Šé¢çš„é…ç½®ä¿®æ”¹åæˆ‘ä»¬å‘ç°ï¼Œä¿®æ”¹JSä»ç„¶ä¼šåˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚</li><li>éœ€è¦ä½¿ç”¨ module.hot.accept ä½¿jså¼€å¯çƒ­åŠ è½½ï¼Œä½†æ˜¯éœ€è¦å…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒ module.hot</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦æ”¯æŒHMRåŠŸèƒ½</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">module</span>.<span class="property">hot</span>) &#123;</span><br><span class="line">    <span class="variable language_">module</span>.<span class="property">hot</span>.<span class="title function_">accept</span>(<span class="string">&quot;./js/count.js&quot;</span>, <span class="keyword">function</span> (<span class="params">count</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> result1 = <span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result1);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">module</span>.<span class="property">hot</span>.<span class="title function_">accept</span>(<span class="string">&quot;./js/sum.js&quot;</span>, <span class="keyword">function</span> (<span class="params">sum</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> result2 = <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result2);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ ·å†™ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥å®é™…å¼€å‘æˆ‘ä»¬ä¼šä½¿ç”¨å…¶ä»– loader æ¥è§£å†³ã€‚</p><p>æ¯”å¦‚ï¼š<a href="https://github.com/vuejs/vue-loader">vue-loader</a>ï¼Œ<a href="https://github.com/gaearon/react-hot-loader">react-hot-loader</a>ã€‚</p><p>åŠ å…¥ä»¥ä¸Šloaderè‡ªåŠ¨é…ç½®jsçƒ­åŠ è½½ã€‚</p><h3 id="OneOf"><a href="#OneOf" class="headerlink" title="OneOf"></a>OneOf</h3><h4 id="ä¸ºä»€ä¹ˆ-2"><a href="#ä¸ºä»€ä¹ˆ-2" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><p>æ‰“åŒ…æ—¶æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šç»è¿‡æ‰€æœ‰ loader å¤„ç†ï¼Œè™½ç„¶å› ä¸º <code>test</code> æ­£åˆ™åŸå› å®é™…æ²¡æœ‰å¤„ç†ä¸Šï¼Œä½†æ˜¯éƒ½è¦è¿‡ä¸€éã€‚æ¯”è¾ƒæ…¢ã€‚</p><h4 id="æ˜¯ä»€ä¹ˆ-2"><a href="#æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>é¡¾åæ€ä¹‰å°±æ˜¯åªèƒ½åŒ¹é…ä¸Šä¸€ä¸ª loader, å‰©ä¸‹çš„å°±ä¸åŒ¹é…äº†ã€‚</p><h4 id="æ€ä¹ˆç”¨-2"><a href="#æ€ä¹ˆç”¨-2" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><ul><li>å°†rulesä¸­é…ç½®oneofæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜æ”¾åŒ¹é…å€¼ã€‚</li><li>åŸæœ¬rulesä¼šå…¨éƒ¨éå†å»åŒ¹é…ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬ä¹¦å†™çš„æ­£åˆ™å…¶å®æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒåŠ å…¥è¿›OneOfä¹‹åï¼ŒåŒ¹é…åˆ°ä¸€ä¸ªå…¶ä»–å°±ä¸ä¼šå»åŒ¹é…äº†ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="literal">undefined</span>, <span class="comment">// å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="comment">// clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">oneOf</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">            <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">            <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">            <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">            <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;stylus-loader&quot;</span>],</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">            <span class="attr">parser</span>: &#123;</span><br><span class="line">              <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">generator</span>: &#123;</span><br><span class="line">              <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">              <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">              <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">              <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">              <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">              <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">            <span class="attr">generator</span>: &#123;</span><br><span class="line">              <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">    <span class="attr">port</span>: <span class="string">&quot;3000&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">    <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">    <span class="attr">hot</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯HMRåŠŸèƒ½</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;cheap-module-source-map&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Include-x2F-Exclude"><a href="#Include-x2F-Exclude" class="headerlink" title="Include&#x2F;Exclude"></a>Include&#x2F;Exclude</h3><h4 id="ä¸ºä»€ä¹ˆ-3"><a href="#ä¸ºä»€ä¹ˆ-3" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><p>å¼€å‘æ—¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“æˆ–æ’ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½ä¸‹è½½åˆ° node_modules ä¸­äº†ã€‚è€Œè¿™äº›æ–‡ä»¶æ˜¯ä¸éœ€è¦ç¼–è¯‘å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åœ¨å¯¹ js æ–‡ä»¶å¤„ç†æ—¶ï¼Œè¦æ’é™¤ node_modules ä¸‹é¢çš„æ–‡ä»¶ã€‚</p><h4 id="æ˜¯ä»€ä¹ˆ-3"><a href="#æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><ul><li>include</li></ul><p>åŒ…å«ï¼Œåªå¤„ç† xxx æ–‡ä»¶</p><ul><li>exclude</li></ul><p>æ’é™¤ï¼Œé™¤äº† xxx æ–‡ä»¶ä»¥å¤–å…¶ä»–æ–‡ä»¶éƒ½å¤„ç†</p><h4 id="æ€ä¹ˆç”¨-3"><a href="#æ€ä¹ˆç”¨-3" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="literal">undefined</span>, <span class="comment">// å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">        <span class="comment">// clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">oneOf</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">                        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">                        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">                        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;stylus-loader&quot;</span>],</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">                        <span class="attr">parser</span>: &#123;</span><br><span class="line">                            <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                                <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        <span class="attr">generator</span>: &#123;</span><br><span class="line">                            <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">                            <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">                            <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">                            <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">                            <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">                            <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">                        <span class="attr">generator</span>: &#123;</span><br><span class="line">                            <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                        <span class="comment">// exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">                        <span class="attr">include</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>), <span class="comment">// ä¹Ÿå¯ä»¥ç”¨åŒ…å«</span></span><br><span class="line">                        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç”Ÿäº§æ¨¡å¼ä¹Ÿæ˜¯å¦‚æ­¤é…ç½®ã€‚</p><h3 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h3><h4 id="ä¸ºä»€ä¹ˆ-4"><a href="#ä¸ºä»€ä¹ˆ-4" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><p>æ¯æ¬¡æ‰“åŒ…æ—¶ js æ–‡ä»¶éƒ½è¦ç»è¿‡ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ï¼Œé€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç¼“å­˜ä¹‹å‰çš„ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ç»“æœï¼Œè¿™æ ·ç¬¬äºŒæ¬¡æ‰“åŒ…æ—¶é€Ÿåº¦å°±ä¼šæ›´å¿«äº†ã€‚</p><h4 id="æ˜¯ä»€ä¹ˆ-4"><a href="#æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>å¯¹Eslintæ£€æŸ¥å’ŒBabelç¼–è¯‘ç»“æœè¿›è¡Œç¼“å­˜</p><h4 id="æ€ä¹ˆç”¨-4"><a href="#æ€ä¹ˆç”¨-4" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="literal">undefined</span>, <span class="comment">// å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">        <span class="comment">// clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">oneOf</span>: [</span><br><span class="line">                    <span class="comment">// ...</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                        <span class="comment">// exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">                        <span class="attr">include</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>), <span class="comment">// ä¹Ÿå¯ä»¥ç”¨åŒ…å«</span></span><br><span class="line">                        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                        <span class="attr">options</span>: &#123;</span><br><span class="line">                            <span class="attr">cacheDirectory</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯babelç¼–è¯‘ç¼“å­˜</span></span><br><span class="line">                            <span class="attr">cacheCompression</span>: <span class="literal">false</span>, <span class="comment">// ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">            <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">            <span class="attr">exclude</span>: <span class="string">&quot;node_modules&quot;</span>, <span class="comment">// é»˜è®¤å€¼</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="attr">cache</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯ç¼“å­˜</span></span><br><span class="line">            <span class="comment">// ç¼“å­˜ç›®å½•</span></span><br><span class="line">            <span class="attr">cacheLocation</span>: path.<span class="title function_">resolve</span>(</span><br><span class="line">                __dirname,</span><br><span class="line">                <span class="string">&quot;../node_modules/.cache/.eslintcache&quot;</span></span><br><span class="line">            ),</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ... </span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Thead"><a href="#Thead" class="headerlink" title="Thead"></a>Thead</h3><h4 id="ä¸ºä»€ä¹ˆ-5"><a href="#ä¸ºä»€ä¹ˆ-5" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><p>å½“é¡¹ç›®è¶Šæ¥è¶Šåºå¤§æ—¶ï¼Œæ‰“åŒ…é€Ÿåº¦è¶Šæ¥è¶Šæ…¢ï¼Œç”šè‡³äºéœ€è¦ä¸€ä¸ªä¸‹åˆæ‰èƒ½æ‰“åŒ…å‡ºæ¥ä»£ç ã€‚è¿™ä¸ªé€Ÿåº¦æ˜¯æ¯”è¾ƒæ…¢çš„ã€‚</p><p>æˆ‘ä»¬æƒ³è¦ç»§ç»­æå‡æ‰“åŒ…é€Ÿåº¦ï¼Œå…¶å®å°±æ˜¯è¦æå‡ js çš„æ‰“åŒ…é€Ÿåº¦ï¼Œå› ä¸ºå…¶ä»–æ–‡ä»¶éƒ½æ¯”è¾ƒå°‘ã€‚</p><p>è€Œå¯¹ js æ–‡ä»¶å¤„ç†ä¸»è¦å°±æ˜¯ eslint ã€babelã€Terser ä¸‰ä¸ªå·¥å…·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æå‡å®ƒä»¬çš„è¿è¡Œé€Ÿåº¦ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å¼€å¯å¤šè¿›ç¨‹åŒæ—¶å¤„ç† js æ–‡ä»¶ï¼Œè¿™æ ·é€Ÿåº¦å°±æ¯”ä¹‹å‰çš„å•è¿›ç¨‹æ‰“åŒ…æ›´å¿«äº†ã€‚</p><h4 id="æ˜¯ä»€ä¹ˆ-5"><a href="#æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>å¤šè¿›ç¨‹æ‰“åŒ…ï¼šå¼€å¯ç”µè„‘çš„å¤šä¸ªè¿›ç¨‹åŒæ—¶å¹²ä¸€ä»¶äº‹ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</p><p><strong>éœ€è¦æ³¨æ„ï¼šè¯·ä»…åœ¨ç‰¹åˆ«è€—æ—¶çš„æ“ä½œä¸­ä½¿ç”¨ï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹å¯åŠ¨å°±æœ‰å¤§çº¦ä¸º 600ms å·¦å³å¼€é”€ã€‚</strong></p><h4 id="æ€ä¹ˆç”¨-5"><a href="#æ€ä¹ˆç”¨-5" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><p>æˆ‘ä»¬å¯åŠ¨è¿›ç¨‹çš„æ•°é‡å°±æ˜¯æˆ‘ä»¬ CPU çš„æ ¸æ•°ã€‚</p><ul><li>å¦‚ä½•è·å– CPU çš„æ ¸æ•°ï¼Œå› ä¸ºæ¯ä¸ªç”µè„‘éƒ½ä¸ä¸€æ ·ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nodejsæ ¸å¿ƒæ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">&quot;os&quot;</span>);</span><br><span class="line"><span class="comment">// cpuæ ¸æ•°</span></span><br><span class="line"><span class="keyword">const</span> threads = os.<span class="title function_">cpus</span>().<span class="property">length</span>;</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½åŒ…</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i thread-loader -D</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">&quot;os&quot;</span>); <span class="comment">// æ·»åŠ æ­¤ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CssMinimizerPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;css-minimizer-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;terser-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// cpuæ ¸æ•°</span></span><br><span class="line"><span class="keyword">const</span> threads = os.<span class="title function_">cpus</span>().<span class="property">length</span>; <span class="comment">// æ·»åŠ æ­¤ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å¤„ç†æ ·å¼çš„Loaders</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getStyleLoaders</span> = (<span class="params">preProcessor</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">        <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">                <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">                    <span class="attr">plugins</span>: [</span><br><span class="line">                        <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">                    ],</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        preProcessor,</span><br><span class="line">    ].<span class="title function_">filter</span>(<span class="title class_">Boolean</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">        <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">oneOf</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">                        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(),</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">                        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;less-loader&quot;</span>),</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">                        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;sass-loader&quot;</span>),</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">                        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;stylus-loader&quot;</span>),</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">                        <span class="attr">parser</span>: &#123;</span><br><span class="line">                            <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                                <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        <span class="attr">generator</span>: &#123;</span><br><span class="line">                            <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">                            <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">                            <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">                            <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">                            <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">                            <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">                        <span class="attr">generator</span>: &#123;</span><br><span class="line">                            <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                        <span class="comment">// exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">                        <span class="attr">include</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>), <span class="comment">// ä¹Ÿå¯ä»¥ç”¨åŒ…å«</span></span><br><span class="line">                        <span class="comment">// åŠ å…¥ä»¥ä¸‹ä»£ç </span></span><br><span class="line">                        <span class="attr">use</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">loader</span>: <span class="string">&quot;thread-loader&quot;</span>, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">                                <span class="attr">options</span>: &#123;</span><br><span class="line">                                    <span class="attr">workers</span>: threads, <span class="comment">// æ•°é‡</span></span><br><span class="line">                                &#125;,</span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                                <span class="attr">options</span>: &#123;</span><br><span class="line">                                    <span class="attr">cacheDirectory</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯babelç¼–è¯‘ç¼“å­˜</span></span><br><span class="line">                                &#125;,</span><br><span class="line">                            &#125;,</span><br><span class="line">                        ],</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">            <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">            <span class="attr">exclude</span>: <span class="string">&quot;node_modules&quot;</span>, <span class="comment">// é»˜è®¤å€¼</span></span><br><span class="line">            <span class="attr">cache</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯ç¼“å­˜</span></span><br><span class="line">            <span class="comment">// ç¼“å­˜ç›®å½•</span></span><br><span class="line">            <span class="attr">cacheLocation</span>: path.<span class="title function_">resolve</span>(</span><br><span class="line">                __dirname,</span><br><span class="line">                <span class="string">&quot;../node_modules/.cache/.eslintcache&quot;</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="comment">// æ·»åŠ æ­¤ä»£ç  ESlint</span></span><br><span class="line">            threads, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">            <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">            <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&quot;static/css/main.css&quot;</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="comment">// csså‹ç¼©</span></span><br><span class="line">        <span class="comment">// new CssMinimizerPlugin(),</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// CSSå‹ç¼©ä¹Ÿå¯ä»¥å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="attr">minimize</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">minimizer</span>: [</span><br><span class="line">            <span class="comment">// csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">CssMinimizerPlugin</span>(),</span><br><span class="line">            <span class="comment">// å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;</span><br><span class="line">                <span class="attr">parallel</span>: threads <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">            &#125;)</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å‡å°‘ä»£ç ä½“ç§¯"><a href="#å‡å°‘ä»£ç ä½“ç§¯" class="headerlink" title="å‡å°‘ä»£ç ä½“ç§¯"></a>å‡å°‘ä»£ç ä½“ç§¯</h2><h3 id="TreeShaking"><a href="#TreeShaking" class="headerlink" title="TreeShaking"></a>TreeShaking</h3><h4 id="ä¸ºä»€ä¹ˆ-6"><a href="#ä¸ºä»€ä¹ˆ-6" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>å¼€å‘æ—¶æˆ‘ä»¬å®šä¹‰äº†ä¸€äº›å·¥å…·å‡½æ•°åº“ï¼Œæˆ–è€…å¼•ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å‡½æ•°åº“æˆ–ç»„ä»¶åº“ã€‚</li><li>å¦‚æœæ²¡æœ‰ç‰¹æ®Šå¤„ç†çš„è¯æˆ‘ä»¬æ‰“åŒ…æ—¶ä¼šå¼•å…¥æ•´ä¸ªåº“ï¼Œä½†æ˜¯<strong>å®é™…ä¸Šå¯èƒ½æˆ‘ä»¬å¯èƒ½åªç”¨ä¸Šæå°éƒ¨åˆ†çš„åŠŸèƒ½</strong>ã€‚</li><li><strong>è¿™æ ·å°†æ•´ä¸ªåº“éƒ½æ‰“åŒ…è¿›æ¥ï¼Œä½“ç§¯å°±å¤ªå¤§äº†</strong>ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-6"><a href="#æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p><code>Tree Shaking</code> æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œé€šå¸¸ç”¨äºæè¿°ç§»é™¤ JavaScript ä¸­çš„æ²¡æœ‰ä½¿ç”¨ä¸Šçš„ä»£ç ã€‚</p><p><strong>æ³¨æ„ï¼šå®ƒä¾èµ– <code>ES Module</code>ã€‚</strong></p><h4 id="æ€ä¹ˆç”¨-6"><a href="#æ€ä¹ˆç”¨-6" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><p>Webpack å·²ç»é»˜è®¤å¼€å¯äº†è¿™ä¸ªåŠŸèƒ½ï¼Œæ— éœ€å…¶ä»–é…ç½®ã€‚</p><h3 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h3><h4 id="ä¸ºä»€ä¹ˆ-7"><a href="#ä¸ºä»€ä¹ˆ-7" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>Babel ä¸ºç¼–è¯‘çš„æ¯ä¸ªæ–‡ä»¶éƒ½æ’å…¥äº†è¾…åŠ©ä»£ç ï¼Œä½¿ä»£ç ä½“ç§¯è¿‡å¤§ï¼</li><li>Babel å¯¹ä¸€äº›å…¬å…±æ–¹æ³•ä½¿ç”¨äº†éå¸¸å°çš„è¾…åŠ©ä»£ç ï¼Œæ¯”å¦‚ <code>_extend</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ä¼šè¢«æ·»åŠ åˆ°æ¯ä¸€ä¸ªéœ€è¦å®ƒçš„æ–‡ä»¶ä¸­ã€‚</li><li>ä½ å¯ä»¥å°†è¿™äº›è¾…åŠ©ä»£ç ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ¨¡å—ï¼Œæ¥é¿å…é‡å¤å¼•å…¥ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-7"><a href="#æ˜¯ä»€ä¹ˆ-7" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p><code>@babel/plugin-transform-runtime</code>: ç¦ç”¨äº† Babel è‡ªåŠ¨å¯¹æ¯ä¸ªæ–‡ä»¶çš„ runtime æ³¨å…¥ï¼Œè€Œæ˜¯å¼•å…¥ <code>@babel/plugin-transform-runtime</code> å¹¶ä¸”ä½¿æ‰€æœ‰è¾…åŠ©ä»£ç ä»è¿™é‡Œå¼•ç”¨ã€‚</p><h4 id="æ€ä¹ˆç”¨-7"><a href="#æ€ä¹ˆç”¨-7" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><ul><li>ä¸‹è½½åŒ…</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @babel/plugin-transform-runtime -D</span><br></pre></td></tr></table></figure><ul><li>é…ç½®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="comment">// exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">include</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>), <span class="comment">// ä¹Ÿå¯ä»¥ç”¨åŒ…å«</span></span><br><span class="line">            <span class="attr">use</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&quot;thread-loader&quot;</span>, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">                    <span class="attr">options</span>: &#123;</span><br><span class="line">                        <span class="attr">workers</span>: threads, <span class="comment">// æ•°é‡</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                    <span class="attr">options</span>: &#123;</span><br><span class="line">                        <span class="attr">cacheDirectory</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯babelç¼–è¯‘ç¼“å­˜</span></span><br><span class="line">                        <span class="attr">cacheCompression</span>: <span class="literal">false</span>, <span class="comment">// ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©</span></span><br><span class="line">                        <span class="attr">plugins</span>: [<span class="string">&quot;@babel/plugin-transform-runtime&quot;</span>], <span class="comment">// å‡å°‘ä»£ç ä½“ç§¯</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">            ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ImageMinimizer"><a href="#ImageMinimizer" class="headerlink" title="ImageMinimizer"></a>ImageMinimizer</h3><h4 id="ä¸ºä»€ä¹ˆ-8"><a href="#ä¸ºä»€ä¹ˆ-8" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>å¼€å‘å¦‚æœé¡¹ç›®ä¸­å¼•ç”¨äº†è¾ƒå¤šå›¾ç‰‡ï¼Œé‚£ä¹ˆå›¾ç‰‡ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå°†æ¥è¯·æ±‚é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚</li><li>æˆ‘ä»¬å¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘å›¾ç‰‡ä½“ç§¯ã€‚</li></ul><p><strong>æ³¨æ„ï¼šå¦‚æœé¡¹ç›®ä¸­å›¾ç‰‡éƒ½æ˜¯åœ¨çº¿é“¾æ¥ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦äº†ã€‚æœ¬åœ°é¡¹ç›®é™æ€å›¾ç‰‡æ‰éœ€è¦è¿›è¡Œå‹ç¼©ã€‚</strong></p><h4 id="æ˜¯ä»€ä¹ˆ-8"><a href="#æ˜¯ä»€ä¹ˆ-8" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p><code>image-minimizer-webpack-plugin</code>: ç”¨æ¥å‹ç¼©å›¾ç‰‡çš„æ’ä»¶</p><h4 id="æ€ä¹ˆç”¨-8"><a href="#æ€ä¹ˆç”¨-8" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><ul><li><strong>ä¸‹è½½åŒ…</strong></li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i image-minimizer-webpack-plugin imagemin -D</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰å‰©ä¸‹åŒ…éœ€è¦ä¸‹è½½ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ï¼š</p><ul><li>æ— æŸå‹ç¼©</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install imagemin-gifsicle imagemin-jpegtran imagemin-optipng imagemin-svgo -D</span><br></pre></td></tr></table></figure><ul><li>æœ‰æŸå‹ç¼©</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install imagemin-gifsicle imagemin-mozjpeg imagemin-pngquant imagemin-svgo -D</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://baike.baidu.com/item/%E6%97%A0%E6%8D%9F%E3%80%81%E6%9C%89%E6%8D%9F%E5%8E%8B%E7%BC%A9">æœ‰æŸ&#x2F;æ— æŸå‹ç¼©çš„åŒºåˆ«</a></p></blockquote><ul><li><strong>é…ç½®</strong></li></ul><p>æˆ‘ä»¬ä»¥æ— æŸå‹ç¼©é…ç½®ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">ImageMinimizerPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;image-minimizer-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">        <span class="comment">// å‹ç¼©å›¾ç‰‡</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ImageMinimizerPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">minimizer</span>: &#123;</span><br><span class="line">                <span class="attr">implementation</span>: <span class="title class_">ImageMinimizerPlugin</span>.<span class="property">imageminGenerate</span>,</span><br><span class="line">                <span class="attr">options</span>: &#123;</span><br><span class="line">                    <span class="attr">plugins</span>: [</span><br><span class="line">                        [<span class="string">&quot;gifsicle&quot;</span>, &#123; <span class="attr">interlaced</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">                        [<span class="string">&quot;jpegtran&quot;</span>, &#123; <span class="attr">progressive</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">                        [<span class="string">&quot;optipng&quot;</span>, &#123; <span class="attr">optimizationLevel</span>: <span class="number">5</span> &#125;],</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">&quot;svgo&quot;</span>,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">plugins</span>: [</span><br><span class="line">                                    <span class="string">&quot;preset-default&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;prefixIds&quot;</span>,</span><br><span class="line">                                    &#123;</span><br><span class="line">                                        <span class="attr">name</span>: <span class="string">&quot;sortAttrs&quot;</span>,</span><br><span class="line">                                        <span class="attr">params</span>: &#123;</span><br><span class="line">                                            <span class="attr">xmlnsOrder</span>: <span class="string">&quot;alphabetical&quot;</span>,</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                    &#125;,</span><br><span class="line">                                ],</span><br><span class="line">                            &#125;,</span><br><span class="line">                        ],</span><br><span class="line">                    ],</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ul><li>ä¸‹é¢æ˜¯ä¸€äº›ç‰ˆæœ¬é—®é¢˜ï¼Œè½®å­è¿˜æ²¡æœ‰å®Œå–„ï¼Œå¿½ç•¥ï¼Œéœ€è¦çš„æ—¶å€™å¤§å®¶ç›´æ¥å»å®˜ç½‘æŸ¥é˜…æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Error: Error with &#x27;src\images\1.jpeg&#x27;: &#x27;&quot;C:\Users\86176\Desktop\webpack\webpack_code\node_modules\jpegtran-bin\vendor\jpegtran.exe&quot;&#x27;</span><br><span class="line">Error with &#x27;src\images\3.gif&#x27;: spawn C:\Users\86176\Desktop\webpack\webpack_code\node_modules\optipng-bin\vendor\optipng.exe ENOENT</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦å®‰è£…ä¸¤ä¸ªæ–‡ä»¶åˆ° node_modules ä¸­æ‰èƒ½è§£å†³, æ–‡ä»¶å¯ä»¥ä»è¯¾ä»¶ä¸­æ‰¾åˆ°ï¼š</p><ul><li>jpegtran.exe</li></ul><p>éœ€è¦å¤åˆ¶åˆ° <code>node_modules\jpegtran-bin\vendor</code> ä¸‹é¢</p><blockquote><p><a href="http://jpegclub.org/jpegtran/">jpegtran å®˜ç½‘åœ°å€open in new window</a></p></blockquote><ul><li>optipng.exe</li></ul><p>éœ€è¦å¤åˆ¶åˆ° <code>node_modules\optipng-bin\vendor</code> ä¸‹é¢</p><blockquote><p><a href="http://optipng.sourceforge.net/">OptiPNG å®˜ç½‘åœ°å€</a></p></blockquote><h2 id="ä¼˜åŒ–ä»£ç æ€§èƒ½"><a href="#ä¼˜åŒ–ä»£ç æ€§èƒ½" class="headerlink" title="ä¼˜åŒ–ä»£ç æ€§èƒ½"></a>ä¼˜åŒ–ä»£ç æ€§èƒ½</h2><h3 id="CodeSplit"><a href="#CodeSplit" class="headerlink" title="CodeSplit"></a>CodeSplit</h3><h4 id="ä¸ºä»€ä¹ˆ-9"><a href="#ä¸ºä»€ä¹ˆ-9" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>æ‰“åŒ…ä»£ç æ—¶ä¼šå°†æ‰€æœ‰ js æ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½“ç§¯å¤ªå¤§äº†ã€‚æˆ‘ä»¬å¦‚æœåªè¦æ¸²æŸ“é¦–é¡µï¼Œå°±åº”è¯¥åªåŠ è½½é¦–é¡µçš„ js æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶ä¸åº”è¯¥åŠ è½½ã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç åˆ†å‰²ï¼Œç”Ÿæˆå¤šä¸ª js æ–‡ä»¶ï¼Œæ¸²æŸ“å“ªä¸ªé¡µé¢å°±åªåŠ è½½æŸä¸ª js æ–‡ä»¶ï¼Œè¿™æ ·åŠ è½½çš„èµ„æºå°±å°‘ï¼Œé€Ÿåº¦å°±æ›´å¿«ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-9"><a href="#æ˜¯ä»€ä¹ˆ-9" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>ä»£ç åˆ†å‰²ï¼ˆCode Splitï¼‰ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p><ol><li>åˆ†å‰²æ–‡ä»¶ï¼šå°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼Œç”Ÿæˆå¤šä¸ª js æ–‡ä»¶ã€‚</li><li>æŒ‰éœ€åŠ è½½ï¼šéœ€è¦å“ªä¸ªæ–‡ä»¶å°±åŠ è½½å“ªä¸ªæ–‡ä»¶ã€‚</li></ol><h4 id="æ€ä¹ˆç”¨-9"><a href="#æ€ä¹ˆç”¨-9" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><p>ä»£ç åˆ†å‰²å®ç°æ–¹å¼æœ‰ä¸åŒçš„æ–¹å¼ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿ä½“ç°å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Œæˆ‘ä»¬ä¼šåˆ†åˆ«åˆ›å»ºæ–°çš„æ–‡ä»¶æ¥æ¼”ç¤º</p><h5 id="å¤šå…¥å£"><a href="#å¤šå…¥å£" class="headerlink" title="å¤šå…¥å£"></a>å¤šå…¥å£</h5><ul><li><strong>æ–‡ä»¶ç›®å½•</strong></li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ public</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">|   â”œâ”€â”€ app.js</span><br><span class="line">|   â””â”€â”€ main.js</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â””â”€â”€ webpack.config.js</span><br></pre></td></tr></table></figure><ul><li><strong>ä¸‹è½½åŒ…</strong></li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack webpack-cli html-webpack-plugin -D</span><br></pre></td></tr></table></figure><ul><li><p><strong>æ–°å»ºæ–‡ä»¶</strong></p></li><li><p>app.js</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello app&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello main&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li><strong>é…ç½®</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å•å…¥å£</span></span><br><span class="line">  <span class="comment">// entry: &#x27;./src/main.js&#x27;,</span></span><br><span class="line">  <span class="comment">// å¤šå…¥å£</span></span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">main</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">    <span class="attr">app</span>: <span class="string">&quot;./src/app.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    <span class="comment">// [name]æ˜¯webpackå‘½åè§„åˆ™ï¼Œä½¿ç”¨chunkçš„nameä½œä¸ºè¾“å‡ºçš„æ–‡ä»¶åã€‚</span></span><br><span class="line">    <span class="comment">// ä»€ä¹ˆæ˜¯chunkï¼Ÿæ‰“åŒ…çš„èµ„æºå°±æ˜¯chunkï¼Œè¾“å‡ºå‡ºå»å«bundleã€‚</span></span><br><span class="line">    <span class="comment">// chunkçš„nameæ˜¯å•¥å‘¢ï¼Ÿ æ¯”å¦‚ï¼š entryä¸­xxx: &quot;./src/xxx.js&quot;, nameå°±æ˜¯xxxã€‚æ³¨æ„æ˜¯å‰é¢çš„xxxï¼Œå’Œæ–‡ä»¶åæ— å…³ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å‘½åå‘¢ï¼Ÿå¦‚æœè¿˜æ˜¯ä¹‹å‰å†™æ³•main.jsï¼Œé‚£ä¹ˆæ‰“åŒ…ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶éƒ½ä¼šå«åšmain.jsä¼šå‘ç”Ÿè¦†ç›–ã€‚(å®é™…ä¸Šä¼šç›´æ¥æŠ¥é”™çš„)</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;js/[name].js&quot;</span>,</span><br><span class="line">    <span class="attr">clear</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&quot;./public/index.html&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>è¿è¡ŒæŒ‡ä»¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><ul><li>æ­¤æ—¶åœ¨ dist ç›®å½•æˆ‘ä»¬èƒ½çœ‹åˆ°è¾“å‡ºäº†ä¸¤ä¸ª js æ–‡ä»¶ã€‚</li><li>æ€»ç»“ï¼šé…ç½®äº†å‡ ä¸ªå…¥å£ï¼Œè‡³å°‘è¾“å‡ºå‡ ä¸ª js æ–‡ä»¶ã€‚</li></ul><h5 id="æå–é‡å¤ä»£ç "><a href="#æå–é‡å¤ä»£ç " class="headerlink" title="æå–é‡å¤ä»£ç "></a>æå–é‡å¤ä»£ç </h5><ul><li><p>å¦‚æœ<strong>å¤šå…¥å£æ–‡ä»¶ä¸­éƒ½å¼•ç”¨äº†åŒä¸€ä»½ä»£ç </strong>ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›è¿™ä»½ä»£ç è¢«æ‰“åŒ…åˆ°ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯¼è‡´ä»£ç é‡å¤ï¼Œä½“ç§¯æ›´å¤§ã€‚</p></li><li><p>æˆ‘ä»¬éœ€è¦æå–å¤šå…¥å£çš„é‡å¤ä»£ç ï¼Œåªæ‰“åŒ…ç”Ÿæˆä¸€ä¸ª js æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶å¼•ç”¨å®ƒå°±å¥½ã€‚</p></li><li><p><strong>ä¿®æ”¹æ–‡ä»¶</strong></p></li><li><p>app.js</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">&quot;./math&quot;</span>;</span><br><span class="line"><span class="comment">// ä¸¤ä¸ªæ–‡ä»¶å‡å¼•ç”¨sum</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello app&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">&quot;./math&quot;</span>;</span><br><span class="line"><span class="comment">// ä¸¤ä¸ªæ–‡ä»¶å‡å¼•ç”¨sum</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello main&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br></pre></td></tr></table></figure><ul><li>math.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">sum</span> = (<span class="params">...args</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> args.<span class="title function_">reduce</span>(<span class="function">(<span class="params">p, c</span>) =&gt;</span> p + c, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><strong>ä»£ç åˆ†å‰²é…ç½®</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// å•å…¥å£</span></span><br><span class="line">    <span class="comment">// entry: &#x27;./src/main.js&#x27;,</span></span><br><span class="line">    <span class="comment">// å¤šå…¥å£</span></span><br><span class="line">    <span class="attr">entry</span>: &#123;</span><br><span class="line">        <span class="attr">main</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">        <span class="attr">app</span>: <span class="string">&quot;./src/app.js&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">        <span class="comment">// [name]æ˜¯webpackå‘½åè§„åˆ™ï¼Œä½¿ç”¨chunkçš„nameä½œä¸ºè¾“å‡ºçš„æ–‡ä»¶åã€‚</span></span><br><span class="line">        <span class="comment">// ä»€ä¹ˆæ˜¯chunkï¼Ÿæ‰“åŒ…çš„èµ„æºå°±æ˜¯chunkï¼Œè¾“å‡ºå‡ºå»å«bundleã€‚</span></span><br><span class="line">        <span class="comment">// chunkçš„nameæ˜¯å•¥å‘¢ï¼Ÿ æ¯”å¦‚ï¼š entryä¸­xxx: &quot;./src/xxx.js&quot;, nameå°±æ˜¯xxxã€‚æ³¨æ„æ˜¯å‰é¢çš„xxxï¼Œå’Œæ–‡ä»¶åæ— å…³ã€‚</span></span><br><span class="line">        <span class="comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å‘½åå‘¢ï¼Ÿå¦‚æœè¿˜æ˜¯ä¹‹å‰å†™æ³•main.jsï¼Œé‚£ä¹ˆæ‰“åŒ…ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶éƒ½ä¼šå«åšmain.jsä¼šå‘ç”Ÿè¦†ç›–ã€‚(å®é™…ä¸Šä¼šç›´æ¥æŠ¥é”™çš„)</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;js/[name].js&quot;</span>,</span><br><span class="line">        <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">template</span>: <span class="string">&quot;./public/index.html&quot;</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">    <span class="comment">// ==========ä»¥ä¸‹ä¸ºæ–°å¢ä»£ç =============</span></span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">        <span class="comment">// ä»£ç åˆ†å‰²é…ç½®</span></span><br><span class="line">        <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&quot;all&quot;</span>, <span class="comment">// å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">            <span class="comment">// ä»¥ä¸‹æ˜¯é»˜è®¤å€¼</span></span><br><span class="line">            <span class="comment">// minSize: 20000, // åˆ†å‰²ä»£ç æœ€å°çš„å¤§å°</span></span><br><span class="line">            <span class="comment">// minRemainingSize: 0, // ç±»ä¼¼äºminSizeï¼Œæœ€åç¡®ä¿æå–çš„æ–‡ä»¶å¤§å°ä¸èƒ½ä¸º0</span></span><br><span class="line">            <span class="comment">// minChunks: 1, // è‡³å°‘è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ»¡è¶³æ¡ä»¶æ‰ä¼šä»£ç åˆ†å‰²</span></span><br><span class="line">            <span class="comment">// maxAsyncRequests: 30, // æŒ‰éœ€åŠ è½½æ—¶å¹¶è¡ŒåŠ è½½çš„æ–‡ä»¶çš„æœ€å¤§æ•°é‡</span></span><br><span class="line">            <span class="comment">// maxInitialRequests: 30, // å…¥å£jsæ–‡ä»¶æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°é‡</span></span><br><span class="line">            <span class="comment">// enforceSizeThreshold: 50000, // è¶…è¿‡50kbä¸€å®šä¼šå•ç‹¬æ‰“åŒ…ï¼ˆæ­¤æ—¶ä¼šå¿½ç•¥minRemainingSizeã€maxAsyncRequestsã€maxInitialRequestsï¼‰</span></span><br><span class="line">            <span class="comment">// cacheGroups: &#123; // ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„</span></span><br><span class="line">            <span class="comment">//   defaultVendors: &#123; // ç»„å</span></span><br><span class="line">            <span class="comment">//     test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—</span></span><br><span class="line">            <span class="comment">//     priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰</span></span><br><span class="line">            <span class="comment">//     reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—</span></span><br><span class="line">            <span class="comment">//   &#125;,</span></span><br><span class="line">            <span class="comment">//   default: &#123; // å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼</span></span><br><span class="line">            <span class="comment">//     minChunks: 2, // è¿™é‡Œçš„minChunksæƒé‡æ›´å¤§</span></span><br><span class="line">            <span class="comment">//     priority: -20,</span></span><br><span class="line">            <span class="comment">//     reuseExistingChunk: true,</span></span><br><span class="line">            <span class="comment">//   &#125;,</span></span><br><span class="line">            <span class="comment">// &#125;,</span></span><br><span class="line">            <span class="comment">// ä¿®æ”¹é…ç½®</span></span><br><span class="line">            <span class="attr">cacheGroups</span>: &#123;</span><br><span class="line">                <span class="comment">// ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„</span></span><br><span class="line">                <span class="comment">// defaultVendors: &#123; // ç»„å</span></span><br><span class="line">                <span class="comment">//   test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—</span></span><br><span class="line">                <span class="comment">//   priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰</span></span><br><span class="line">                <span class="comment">//   reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—</span></span><br><span class="line">                <span class="comment">// &#125;,</span></span><br><span class="line">                <span class="attr">default</span>: &#123;</span><br><span class="line">                    <span class="comment">// å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼</span></span><br><span class="line">                    <span class="attr">minSize</span>: <span class="number">0</span>, <span class="comment">// æˆ‘ä»¬å®šä¹‰çš„æ–‡ä»¶ä½“ç§¯å¤ªå°äº†ï¼Œæ‰€ä»¥è¦æ”¹æ‰“åŒ…çš„æœ€å°æ–‡ä»¶ä½“ç§¯</span></span><br><span class="line">                    <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line">                    <span class="attr">priority</span>: -<span class="number">20</span>,</span><br><span class="line">                    <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ==========ä»¥ä¸‹ä¸ºæ–°å¢ä»£ç =============</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬ä¼šå‘ç°ç”Ÿæˆ 3 ä¸ª js æ–‡ä»¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå°±æ˜¯æå–çš„å…¬å…±æ¨¡å—ã€‚</p><h5 id="æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥"><a href="#æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥" class="headerlink" title="æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥"></a>æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥</h5><ul><li>main.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello main&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åŠ¨æ€å¯¼å…¥ --&gt; å®ç°æŒ‰éœ€åŠ è½½</span></span><br><span class="line">  <span class="comment">// å³ä½¿åªè¢«å¼•ç”¨äº†ä¸€æ¬¡ï¼Œä¹Ÿä¼šä»£ç åˆ†å‰²</span></span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&quot;./math.js&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; sum &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>app.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello app&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>public&#x2F;index.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Code Split<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello webpack<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>è®¡ç®—<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä¸€æ—¦é€šè¿‡ import åŠ¨æ€å¯¼å…¥è¯­æ³•å¯¼å…¥æ¨¡å—ï¼Œæ¨¡å—å°±è¢«ä»£ç åˆ†å‰²ï¼ŒåŒæ—¶ä¹Ÿèƒ½æŒ‰éœ€åŠ è½½äº†ã€‚</p><h5 id="å•å…¥å£"><a href="#å•å…¥å£" class="headerlink" title="å•å…¥å£"></a>å•å…¥å£</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;./dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;js/[name].js&quot;</span>,</span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&quot;./public/index.html&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="comment">// ä»£ç åˆ†å‰²é…ç½®</span></span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&quot;all&quot;</span>, <span class="comment">// å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="æœ€ç»ˆé…ç½®"><a href="#æœ€ç»ˆé…ç½®" class="headerlink" title="æœ€ç»ˆé…ç½®"></a>æœ€ç»ˆé…ç½®</h5><p>æœ€ç»ˆæˆ‘ä»¬ä¼šä½¿ç”¨å•å…¥å£+ä»£ç åˆ†å‰²+åŠ¨æ€å¯¼å…¥æ–¹å¼æ¥è¿›è¡Œé…ç½®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">&quot;os&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CssMinimizerPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;css-minimizer-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;terser-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ImageMinimizerPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;image-minimizer-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// cpuæ ¸æ•°</span></span><br><span class="line"><span class="keyword">const</span> threads = os.<span class="title function_">cpus</span>().<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å¤„ç†æ ·å¼çš„Loaders</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getStyleLoaders</span> = (<span class="params">preProcessor</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> [</span><br><span class="line">    <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">      <span class="attr">options</span>: &#123;</span><br><span class="line">        <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">          <span class="attr">plugins</span>: [</span><br><span class="line">            <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    preProcessor,</span><br><span class="line">  ].<span class="title function_">filter</span>(<span class="title class_">Boolean</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">oneOf</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">            <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">            <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;less-loader&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">            <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;sass-loader&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">            <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;stylus-loader&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|svg)$/</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">            <span class="attr">parser</span>: &#123;</span><br><span class="line">              <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">                <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">generator</span>: &#123;</span><br><span class="line">              <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">              <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">              <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">              <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">              <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">              <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">            <span class="attr">generator</span>: &#123;</span><br><span class="line">              <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            <span class="comment">// exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">            <span class="attr">include</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>), <span class="comment">// ä¹Ÿå¯ä»¥ç”¨åŒ…å«</span></span><br><span class="line">            <span class="attr">use</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">loader</span>: <span class="string">&quot;thread-loader&quot;</span>, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">                <span class="attr">options</span>: &#123;</span><br><span class="line">                  <span class="attr">workers</span>: threads, <span class="comment">// æ•°é‡</span></span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">                <span class="attr">options</span>: &#123;</span><br><span class="line">                  <span class="attr">cacheDirectory</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯babelç¼–è¯‘ç¼“å­˜</span></span><br><span class="line">                  <span class="attr">cacheCompression</span>: <span class="literal">false</span>, <span class="comment">// ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©</span></span><br><span class="line">                  <span class="attr">plugins</span>: [<span class="string">&quot;@babel/plugin-transform-runtime&quot;</span>], <span class="comment">// å‡å°‘ä»£ç ä½“ç§¯</span></span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;,</span><br><span class="line">            ],</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">      <span class="attr">exclude</span>: <span class="string">&quot;node_modules&quot;</span>, <span class="comment">// é»˜è®¤å€¼</span></span><br><span class="line">      <span class="attr">cache</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯ç¼“å­˜</span></span><br><span class="line">      <span class="comment">// ç¼“å­˜ç›®å½•</span></span><br><span class="line">      <span class="attr">cacheLocation</span>: path.<span class="title function_">resolve</span>(</span><br><span class="line">        __dirname,</span><br><span class="line">        <span class="string">&quot;../node_modules/.cache/.eslintcache&quot;</span></span><br><span class="line">      ),</span><br><span class="line">      threads, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;static/css/main.css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// csså‹ç¼©</span></span><br><span class="line">    <span class="comment">// new CssMinimizerPlugin(),</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="comment">// csså‹ç¼©ä¹Ÿå¯ä»¥å†™åˆ°optimization.minimizeré‡Œé¢ï¼Œæ•ˆæœä¸€æ ·çš„</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">CssMinimizerPlugin</span>(),</span><br><span class="line">      <span class="comment">// å½“ç”Ÿäº§æ¨¡å¼ä¼šé»˜è®¤å¼€å¯TerserPluginï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦è¿›è¡Œå…¶ä»–é…ç½®ï¼Œå°±è¦é‡æ–°å†™äº†</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">parallel</span>: threads, <span class="comment">// å¼€å¯å¤šè¿›ç¨‹</span></span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="comment">// å‹ç¼©å›¾ç‰‡</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">ImageMinimizerPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">minimizer</span>: &#123;</span><br><span class="line">          <span class="attr">implementation</span>: <span class="title class_">ImageMinimizerPlugin</span>.<span class="property">imageminGenerate</span>,</span><br><span class="line">          <span class="attr">options</span>: &#123;</span><br><span class="line">            <span class="attr">plugins</span>: [</span><br><span class="line">              [<span class="string">&quot;gifsicle&quot;</span>, &#123; <span class="attr">interlaced</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">              [<span class="string">&quot;jpegtran&quot;</span>, &#123; <span class="attr">progressive</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">              [<span class="string">&quot;optipng&quot;</span>, &#123; <span class="attr">optimizationLevel</span>: <span class="number">5</span> &#125;],</span><br><span class="line">              [</span><br><span class="line">                <span class="string">&quot;svgo&quot;</span>,</span><br><span class="line">                &#123;</span><br><span class="line">                  <span class="attr">plugins</span>: [</span><br><span class="line">                    <span class="string">&quot;preset-default&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;prefixIds&quot;</span>,</span><br><span class="line">                    &#123;</span><br><span class="line">                      <span class="attr">name</span>: <span class="string">&quot;sortAttrs&quot;</span>,</span><br><span class="line">                      <span class="attr">params</span>: &#123;</span><br><span class="line">                        <span class="attr">xmlnsOrder</span>: <span class="string">&quot;alphabetical&quot;</span>,</span><br><span class="line">                      &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                  ],</span><br><span class="line">                &#125;,</span><br><span class="line">              ],</span><br><span class="line">            ],</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// ä»£ç åˆ†å‰²é…ç½®</span></span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&quot;all&quot;</span>, <span class="comment">// å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">      <span class="comment">// å…¶ä»–å†…å®¹ç”¨é»˜è®¤é…ç½®å³å¯</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// devServer: &#123;</span></span><br><span class="line">  <span class="comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">  <span class="comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">  <span class="comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;source-map&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="eslintåŠ¨æ€å¯¼å…¥"><a href="#eslintåŠ¨æ€å¯¼å…¥" class="headerlink" title="eslintåŠ¨æ€å¯¼å…¥"></a>eslintåŠ¨æ€å¯¼å…¥</h5><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i eslint-plugin-import -D</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .eslintrc.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ç»§æ‰¿ Eslint è§„åˆ™</span></span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&quot;eslint:recommended&quot;</span>],</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨nodeä¸­å…¨å±€å˜é‡</span></span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨æµè§ˆå™¨ä¸­å…¨å±€å˜é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&quot;import&quot;</span>], <span class="comment">// è§£å†³åŠ¨æ€å¯¼å…¥importè¯­æ³•æŠ¥é”™é—®é¢˜ --&gt; å®é™…ä½¿ç”¨eslint-plugin-importçš„è§„åˆ™è§£å†³çš„</span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&quot;no-var&quot;</span>: <span class="number">2</span>, <span class="comment">// ä¸èƒ½ä½¿ç”¨ var å®šä¹‰å˜é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="ç»Ÿä¸€å‘½åé…ç½®"><a href="#ç»Ÿä¸€å‘½åé…ç½®" class="headerlink" title="ç»Ÿä¸€å‘½åé…ç½®"></a>ç»Ÿä¸€å‘½åé…ç½®</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">  <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">  <span class="attr">filename</span>: <span class="string">&quot;static/js/[name].js&quot;</span>, <span class="comment">// å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼</span></span><br><span class="line">  <span class="attr">chunkFilename</span>: <span class="string">&quot;static/js/[name].chunk.js&quot;</span>, <span class="comment">// åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼</span></span><br><span class="line">  <span class="attr">assetModuleFilename</span>: <span class="string">&quot;static/media/[name].[hash][ext]&quot;</span>, <span class="comment">// å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰</span></span><br><span class="line">  <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&quot;static/css/[name].css&quot;</span>,</span><br><span class="line">            <span class="attr">chunkFilename</span>: <span class="string">&quot;static/css/[name].chunk.css&quot;</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Preload-x2F-Prefetch"><a href="#Preload-x2F-Prefetch" class="headerlink" title="Preload &#x2F; Prefetch"></a>Preload &#x2F; Prefetch</h3><h4 id="ä¸ºä»€ä¹ˆ-10"><a href="#ä¸ºä»€ä¹ˆ-10" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>æˆ‘ä»¬å‰é¢å·²ç»åšäº†ä»£ç åˆ†å‰²ï¼ŒåŒæ—¶ä¼šä½¿ç”¨ import åŠ¨æ€å¯¼å…¥è¯­æ³•æ¥è¿›è¡Œä»£ç æŒ‰éœ€åŠ è½½ï¼ˆæˆ‘ä»¬ä¹Ÿå«æ‡’åŠ è½½ï¼Œæ¯”å¦‚è·¯ç”±æ‡’åŠ è½½å°±æ˜¯è¿™æ ·å®ç°çš„ï¼‰ã€‚</li><li>ä½†æ˜¯åŠ è½½é€Ÿåº¦è¿˜ä¸å¤Ÿå¥½ï¼Œæ¯”å¦‚ï¼šæ˜¯ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶æ‰åŠ è½½è¿™ä¸ªèµ„æºçš„ï¼Œå¦‚æœèµ„æºä½“ç§¯å¾ˆå¤§ï¼Œé‚£ä¹ˆç”¨æˆ·ä¼šæ„Ÿè§‰åˆ°æ˜æ˜¾å¡é¡¿æ•ˆæœã€‚</li><li>æˆ‘ä»¬æƒ³åœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´ï¼ŒåŠ è½½åç»­éœ€è¦ä½¿ç”¨çš„èµ„æºã€‚æˆ‘ä»¬å°±éœ€è¦ç”¨ä¸Š <code>Preload</code> æˆ– <code>Prefetch</code> æŠ€æœ¯ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-10"><a href="#æ˜¯ä»€ä¹ˆ-10" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><ul><li><code>Preload</code>ï¼šå‘Šè¯‰æµè§ˆå™¨ç«‹å³åŠ è½½èµ„æºã€‚</li><li><code>Prefetch</code>ï¼šå‘Šè¯‰æµè§ˆå™¨åœ¨ç©ºé—²æ—¶æ‰å¼€å§‹åŠ è½½èµ„æºã€‚</li></ul><p>å®ƒä»¬å…±åŒç‚¹ï¼š</p><ul><li>éƒ½åªä¼šåŠ è½½èµ„æºï¼Œå¹¶ä¸æ‰§è¡Œã€‚</li><li>éƒ½æœ‰ç¼“å­˜ã€‚</li></ul><p>å®ƒä»¬åŒºåˆ«ï¼š</p><ul><li><code>Preload</code>åŠ è½½ä¼˜å…ˆçº§é«˜ï¼Œ<code>Prefetch</code>åŠ è½½ä¼˜å…ˆçº§ä½ã€‚</li><li><code>Preload</code>åªèƒ½åŠ è½½å½“å‰é¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºï¼Œ<code>Prefetch</code>å¯ä»¥åŠ è½½å½“å‰é¡µé¢èµ„æºï¼Œä¹Ÿå¯ä»¥åŠ è½½ä¸‹ä¸€ä¸ªé¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºã€‚</li></ul><p>æ€»ç»“ï¼š</p><ul><li>å½“å‰é¡µé¢ä¼˜å…ˆçº§é«˜çš„èµ„æºç”¨ <code>Preload</code> åŠ è½½ã€‚</li><li>ä¸‹ä¸€ä¸ªé¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºç”¨ <code>Prefetch</code> åŠ è½½ã€‚</li></ul><p>å®ƒä»¬çš„é—®é¢˜ï¼šå…¼å®¹æ€§è¾ƒå·®ã€‚</p><ul><li>æˆ‘ä»¬å¯ä»¥å» <a href="https://caniuse.com/">Can I Useopen</a> ç½‘ç«™æŸ¥è¯¢ API çš„å…¼å®¹æ€§é—®é¢˜ã€‚</li><li><code>Preload</code> ç›¸å¯¹äº <code>Prefetch</code> å…¼å®¹æ€§å¥½ä¸€ç‚¹ã€‚</li></ul><h4 id="æ€ä¹ˆç”¨-10"><a href="#æ€ä¹ˆç”¨-10" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @vue/preload-webpack-plugin -D</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">PreloadWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;@vue/preload-webpack-plugin&quot;</span>);</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">PreloadWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="attr">rel</span>: <span class="string">&quot;preload&quot;</span>, <span class="comment">// preloadå…¼å®¹æ€§æ›´å¥½</span></span><br><span class="line">            <span class="attr">as</span>: <span class="string">&quot;script&quot;</span>,</span><br><span class="line">            <span class="comment">// rel: &#x27;prefetch&#x27; // prefetchå…¼å®¹æ€§æ›´å·®</span></span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Network-Cache"><a href="#Network-Cache" class="headerlink" title="Network Cache"></a>Network Cache</h3><h4 id="ä¸ºä»€ä¹ˆ-11"><a href="#ä¸ºä»€ä¹ˆ-11" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>å°†æ¥å¼€å‘æ—¶æˆ‘ä»¬å¯¹é™æ€èµ„æºä¼šä½¿ç”¨ç¼“å­˜æ¥ä¼˜åŒ–ï¼Œè¿™æ ·æµè§ˆå™¨ç¬¬äºŒæ¬¡è¯·æ±‚èµ„æºå°±èƒ½è¯»å–ç¼“å­˜äº†ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚</li><li>ä½†æ˜¯è¿™æ ·çš„è¯å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜, å› ä¸ºå‰åè¾“å‡ºçš„æ–‡ä»¶åæ˜¯ä¸€æ ·çš„ï¼Œéƒ½å« main.jsï¼Œä¸€æ—¦å°†æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå› ä¸ºæ–‡ä»¶åæ²¡æœ‰å˜åŒ–å¯¼è‡´æµè§ˆå™¨ä¼šç›´æ¥è¯»å–ç¼“å­˜ï¼Œä¸ä¼šåŠ è½½æ–°èµ„æºï¼Œé¡¹ç›®ä¹Ÿå°±æ²¡æ³•æ›´æ–°äº†ã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬ä»æ–‡ä»¶åå…¥æ‰‹ï¼Œ<strong>ç¡®ä¿æ›´æ–°å‰åæ–‡ä»¶åä¸ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥åšç¼“å­˜äº†</strong>ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-11"><a href="#æ˜¯ä»€ä¹ˆ-11" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p>å®ƒä»¬éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ hash å€¼ã€‚</p><ul><li>fullhashï¼ˆwebpack4 æ˜¯ hashï¼‰</li></ul><p>æ¯æ¬¡ä¿®æ”¹ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶åçš„ hash è‡³éƒ½å°†æ”¹å˜ã€‚æ‰€ä»¥ä¸€æ—¦ä¿®æ”¹äº†ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ç¼“å­˜éƒ½å°†å¤±æ•ˆã€‚</p><ul><li>chunkhash</li></ul><p>æ ¹æ®ä¸åŒçš„å…¥å£æ–‡ä»¶(Entry)è¿›è¡Œä¾èµ–æ–‡ä»¶è§£æã€æ„å»ºå¯¹åº”çš„ chunkï¼Œç”Ÿæˆå¯¹åº”çš„å“ˆå¸Œå€¼ã€‚æˆ‘ä»¬ js å’Œ css æ˜¯åŒä¸€ä¸ªå¼•å…¥ï¼Œä¼šå…±äº«ä¸€ä¸ª hash å€¼ã€‚</p><ul><li>contenthash</li></ul><p>æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆ hash å€¼ï¼Œåªæœ‰æ–‡ä»¶å†…å®¹å˜åŒ–äº†ï¼Œhash å€¼æ‰ä¼šå˜åŒ–ã€‚æ‰€æœ‰æ–‡ä»¶ hash å€¼æ˜¯ç‹¬äº«ä¸”ä¸åŒçš„ã€‚</p><h4 id="æ€ä¹ˆç”¨-11"><a href="#æ€ä¹ˆç”¨-11" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">            <span class="comment">// [contenthash:8]ä½¿ç”¨contenthashï¼Œå–8ä½é•¿åº¦</span></span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&quot;static/js/[name].[contenthash:8].js&quot;</span>, <span class="comment">// å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼</span></span><br><span class="line">                <span class="attr">chunkFilename</span>: <span class="string">&quot;static/js/[name].[contenthash:8].chunk.js&quot;</span>, <span class="comment">// åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼</span></span><br><span class="line">                    <span class="attr">assetModuleFilename</span>: <span class="string">&quot;static/media/[name].[hash][ext]&quot;</span>, <span class="comment">// å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºå‘½åæ–¹å¼ï¼ˆæ³¨æ„ç”¨hashï¼‰</span></span><br><span class="line">                        <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="attr">plugins</span>: [</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">                <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">                <span class="attr">filename</span>: <span class="string">&quot;static/css/[name].[contenthash:8].css&quot;</span>,</span><br><span class="line">                <span class="attr">chunkFilename</span>: <span class="string">&quot;static/css/[name].[contenthash:8].chunk.css&quot;</span>,</span><br><span class="line">            &#125;),</span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Core-js"><a href="#Core-js" class="headerlink" title="Core-js"></a>Core-js</h3><h4 id="ä¸ºä»€ä¹ˆ-12"><a href="#ä¸ºä»€ä¹ˆ-12" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>è¿‡å»æˆ‘ä»¬ä½¿ç”¨ babel å¯¹ js ä»£ç è¿›è¡Œäº†å…¼å®¹æ€§å¤„ç†ï¼Œå…¶ä¸­ä½¿ç”¨@babel&#x2F;preset-env æ™ºèƒ½é¢„è®¾æ¥å¤„ç†å…¼å®¹æ€§é—®é¢˜ã€‚</li><li>å®ƒèƒ½å°† ES6 çš„ä¸€äº›è¯­æ³•è¿›è¡Œç¼–è¯‘è½¬æ¢ï¼Œæ¯”å¦‚ç®­å¤´å‡½æ•°ã€ç‚¹ç‚¹ç‚¹è¿ç®—ç¬¦ç­‰ã€‚ä½†æ˜¯å¦‚æœæ˜¯ async å‡½æ•°ã€promise å¯¹è±¡ã€æ•°ç»„çš„ä¸€äº›æ–¹æ³•ï¼ˆincludesï¼‰ç­‰ï¼Œå®ƒæ²¡åŠæ³•å¤„ç†ã€‚</li><li>æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬ js ä»£ç ä»ç„¶å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œä¸€æ—¦é‡åˆ°ä½ç‰ˆæœ¬æµè§ˆå™¨ä¼šç›´æ¥æŠ¥é”™ã€‚æ‰€ä»¥æˆ‘ä»¬æƒ³è¦å°† js å…¼å®¹æ€§é—®é¢˜å½»åº•è§£å†³</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-12"><a href="#æ˜¯ä»€ä¹ˆ-12" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><p><code>core-js</code> æ˜¯ä¸“é—¨ç”¨æ¥åš ES6 ä»¥åŠä»¥ä¸Š API çš„ <code>polyfill</code>ã€‚</p><p><code>polyfill</code>ç¿»è¯‘è¿‡æ¥å«åšå«ç‰‡&#x2F;è¡¥ä¸ã€‚å°±æ˜¯ç”¨ç¤¾åŒºä¸Šæä¾›çš„ä¸€æ®µä»£ç ï¼Œè®©æˆ‘ä»¬åœ¨ä¸å…¼å®¹æŸäº›æ–°ç‰¹æ€§çš„æµè§ˆå™¨ä¸Šï¼Œä½¿ç”¨è¯¥æ–°ç‰¹æ€§ã€‚</p><h4 id="æ€ä¹ˆç”¨-12"><a href="#æ€ä¹ˆç”¨-12" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><h5 id="Eslintå…¼å®¹"><a href="#Eslintå…¼å®¹" class="headerlink" title="Eslintå…¼å®¹"></a>Eslintå…¼å®¹</h5><ul><li><strong>ä¿®æ”¹main.js</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ promiseä»£ç </span></span><br><span class="line"><span class="keyword">const</span> promise = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello promise&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ Eslint ä¼šå¯¹ Promise æŠ¥é”™ã€‚</p><ul><li><strong>ä¸‹è½½åŒ…</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @babel/eslint-parser -D</span><br></pre></td></tr></table></figure><ul><li>.eslintrc.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ç»§æ‰¿ Eslint è§„åˆ™</span></span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&quot;eslint:recommended&quot;</span>],</span><br><span class="line">  <span class="attr">parser</span>: <span class="string">&quot;@babel/eslint-parser&quot;</span>, <span class="comment">// æ”¯æŒæœ€æ–°çš„æœ€ç»ˆ ECMAScript æ ‡å‡†</span></span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨nodeä¸­å…¨å±€å˜é‡</span></span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨æµè§ˆå™¨ä¸­å…¨å±€å˜é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&quot;import&quot;</span>], <span class="comment">// è§£å†³åŠ¨æ€å¯¼å…¥importè¯­æ³•æŠ¥é”™é—®é¢˜ --&gt; å®é™…ä½¿ç”¨eslint-plugin-importçš„è§„åˆ™è§£å†³çš„</span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="number">6</span>, <span class="comment">// es6</span></span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span>, <span class="comment">// es module</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&quot;no-var&quot;</span>: <span class="number">2</span>, <span class="comment">// ä¸èƒ½ä½¿ç”¨ var å®šä¹‰å˜é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è§‚å¯Ÿæ‰“åŒ…è¾“å‡ºçš„ js æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç° Promise è¯­æ³•å¹¶æ²¡æœ‰ç¼–è¯‘è½¬æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>core-js</code> æ¥è¿›è¡Œ <code>polyfill</code>ã€‚</p><h5 id="jså…¼å®¹"><a href="#jså…¼å®¹" class="headerlink" title="jså…¼å®¹"></a>jså…¼å®¹</h5><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i core-js</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨éƒ¨å¼•å…¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;core-js&quot;</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// æ·»åŠ promiseä»£ç </span></span><br><span class="line"><span class="keyword">const</span> promise = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello promise&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¼•å…¥ä¼šå°†æ‰€æœ‰å…¼å®¹æ€§ä»£ç å…¨éƒ¨å¼•å…¥ï¼Œä½“ç§¯å¤ªå¤§äº†ã€‚æˆ‘ä»¬åªæƒ³å¼•å…¥ promise çš„ <code>polyfill</code>ã€‚</p><ul><li><strong>æ‰‹åŠ¨æŒ‰éœ€å¼•å…¥</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;core-js/es/promise&quot;</span>;</span><br><span class="line"><span class="comment">// æ·»åŠ promiseä»£ç </span></span><br><span class="line"><span class="keyword">const</span> promise = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello promise&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><p><strong>è‡ªåŠ¨æŒ‰éœ€å¼•å…¥</strong></p></li><li><p>babel.config.js</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// æ™ºèƒ½é¢„è®¾ï¼šèƒ½å¤Ÿç¼–è¯‘ES6è¯­æ³•</span></span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      <span class="comment">// æŒ‰éœ€åŠ è½½core-jsçš„polyfill</span></span><br><span class="line">      &#123; <span class="attr">useBuiltIns</span>: <span class="string">&quot;usage&quot;</span>, <span class="attr">corejs</span>: &#123; <span class="attr">version</span>: <span class="string">&quot;3&quot;</span>, <span class="attr">proposals</span>: <span class="literal">true</span> &#125; &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å°±ä¼šè‡ªåŠ¨æ ¹æ®æˆ‘ä»¬ä»£ç ä¸­ä½¿ç”¨çš„è¯­æ³•ï¼Œæ¥æŒ‰éœ€åŠ è½½ç›¸åº”çš„ <code>polyfill</code> äº†ã€‚</p><h3 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h3><h4 id="ä¸ºä»€ä¹ˆ-13"><a href="#ä¸ºä»€ä¹ˆ-13" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h4><ul><li>å¼€å‘ Web App é¡¹ç›®ï¼Œé¡¹ç›®ä¸€æ—¦å¤„äºç½‘ç»œç¦»çº¿æƒ…å†µï¼Œå°±æ²¡æ³•è®¿é—®äº†ã€‚</li><li>æˆ‘ä»¬å¸Œæœ›ç»™é¡¹ç›®æä¾›ç¦»çº¿ä½“éªŒã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆ-13"><a href="#æ˜¯ä»€ä¹ˆ-13" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h4><ul><li>æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº(progressive web application - PWA)ï¼šæ˜¯ä¸€ç§å¯ä»¥æä¾›ç±»ä¼¼äº native app(åŸç”Ÿåº”ç”¨ç¨‹åº) ä½“éªŒçš„ Web App çš„æŠ€æœ¯ã€‚</li><li>å…¶ä¸­æœ€é‡è¦çš„æ˜¯ï¼Œåœ¨ <strong>ç¦»çº¿(offline)</strong> æ—¶åº”ç”¨ç¨‹åºèƒ½å¤Ÿç»§ç»­è¿è¡ŒåŠŸèƒ½ã€‚</li><li>å†…éƒ¨é€šè¿‡ Service Workers æŠ€æœ¯å®ç°çš„ã€‚</li></ul><h4 id="æ€ä¹ˆç”¨-13"><a href="#æ€ä¹ˆç”¨-13" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i workbox-webpack-plugin -D</span><br><span class="line">npm i serve -g</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">WorkboxPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;workbox-webpack-plugin&quot;</span>);</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">WorkboxPlugin</span>.<span class="title class_">GenerateSW</span>(&#123;</span><br><span class="line">            <span class="comment">// è¿™äº›é€‰é¡¹å¸®åŠ©å¿«é€Ÿå¯ç”¨ ServiceWorkers</span></span><br><span class="line">            <span class="comment">// ä¸å…è®¸é—ç•™ä»»ä½•â€œæ—§çš„â€ ServiceWorkers</span></span><br><span class="line">            <span class="attr">clientsClaim</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">skipWaiting</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">&quot;serviceWorker&quot;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    navigator.<span class="property">serviceWorker</span></span><br><span class="line">      .<span class="title function_">register</span>(<span class="string">&quot;/service-worker.js&quot;</span>)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">registration</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;SW registered: &quot;</span>, registration);</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">registrationError</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;SW registration failed: &quot;</span>, registrationError);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘ä»¬ä» 4 ä¸ªè§’åº¦å¯¹ webpack å’Œä»£ç è¿›è¡Œäº†ä¼˜åŒ–ï¼š</p><p><strong>1.æå‡å¼€å‘ä½“éªŒ</strong></p><ul><li>ä½¿ç”¨ <code>Source Map</code> è®©å¼€å‘æˆ–ä¸Šçº¿æ—¶ä»£ç æŠ¥é”™èƒ½æœ‰æ›´åŠ å‡†ç¡®çš„é”™è¯¯æç¤ºã€‚</li></ul><p><strong>2.æå‡ webpack æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦</strong></p><ul><li>ä½¿ç”¨ <code>HotModuleReplacement</code> è®©å¼€å‘æ—¶åªé‡æ–°ç¼–è¯‘æ‰“åŒ…æ›´æ–°å˜åŒ–äº†çš„ä»£ç ï¼Œä¸å˜çš„ä»£ç ä½¿ç”¨ç¼“å­˜ï¼Œä»è€Œä½¿æ›´æ–°é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>OneOf</code> è®©èµ„æºæ–‡ä»¶ä¸€æ—¦è¢«æŸä¸ª loader å¤„ç†äº†ï¼Œå°±ä¸ä¼šç»§ç»­éå†äº†ï¼Œæ‰“åŒ…é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Include/Exclude</code> æ’é™¤æˆ–åªæ£€æµ‹æŸäº›æ–‡ä»¶ï¼Œå¤„ç†çš„æ–‡ä»¶æ›´å°‘ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Cache</code> å¯¹ eslint å’Œ babel å¤„ç†çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼Œè®©ç¬¬äºŒæ¬¡æ‰“åŒ…é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Thead</code> å¤šè¿›ç¨‹å¤„ç† eslint å’Œ babel ä»»åŠ¡ï¼Œé€Ÿåº¦æ›´å¿«ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿›ç¨‹å¯åŠ¨é€šä¿¡éƒ½æœ‰å¼€é”€çš„ï¼Œè¦åœ¨æ¯”è¾ƒå¤šä»£ç å¤„ç†æ—¶ä½¿ç”¨æ‰æœ‰æ•ˆæœï¼‰</li></ul><p><strong>3.å‡å°‘ä»£ç ä½“ç§¯</strong></p><ul><li>ä½¿ç”¨ <code>Tree Shaking</code> å‰”é™¤äº†æ²¡æœ‰ä½¿ç”¨çš„å¤šä½™ä»£ç ï¼Œè®©ä»£ç ä½“ç§¯æ›´å°ã€‚</li><li>ä½¿ç”¨ <code>@babel/plugin-transform-runtime</code> æ’ä»¶å¯¹ babel è¿›è¡Œå¤„ç†ï¼Œè®©è¾…åŠ©ä»£ç ä»ä¸­å¼•å…¥ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæ–‡ä»¶éƒ½ç”Ÿæˆè¾…åŠ©ä»£ç ï¼Œä»è€Œä½“ç§¯æ›´å°ã€‚</li><li>ä½¿ç”¨ <code>Image Minimizer</code> å¯¹é¡¹ç›®ä¸­å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œä½“ç§¯æ›´å°ï¼Œè¯·æ±‚é€Ÿåº¦æ›´å¿«ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­å›¾ç‰‡éƒ½æ˜¯åœ¨çº¿é“¾æ¥ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦äº†ã€‚æœ¬åœ°é¡¹ç›®é™æ€å›¾ç‰‡æ‰éœ€è¦è¿›è¡Œå‹ç¼©ã€‚ï¼‰</li></ul><p><strong>4.ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½</strong></p><ul><li>ä½¿ç”¨ <code>Code Split</code> å¯¹ä»£ç è¿›è¡Œåˆ†å‰²æˆå¤šä¸ª js æ–‡ä»¶ï¼Œä»è€Œä½¿å•ä¸ªæ–‡ä»¶ä½“ç§¯æ›´å°ï¼Œå¹¶è¡ŒåŠ è½½ js é€Ÿåº¦æ›´å¿«ã€‚å¹¶é€šè¿‡ import åŠ¨æ€å¯¼å…¥è¯­æ³•è¿›è¡ŒæŒ‰éœ€åŠ è½½ï¼Œä»è€Œè¾¾åˆ°éœ€è¦ä½¿ç”¨æ—¶æ‰åŠ è½½è¯¥èµ„æºï¼Œä¸ç”¨æ—¶ä¸åŠ è½½èµ„æºã€‚</li><li>ä½¿ç”¨ <code>Preload / Prefetch</code> å¯¹ä»£ç è¿›è¡Œæå‰åŠ è½½ï¼Œç­‰æœªæ¥éœ€è¦ä½¿ç”¨æ—¶å°±èƒ½ç›´æ¥ä½¿ç”¨ï¼Œä»è€Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li><li>ä½¿ç”¨ <code>Network Cache</code> èƒ½å¯¹è¾“å‡ºèµ„æºæ–‡ä»¶è¿›è¡Œæ›´å¥½çš„å‘½åï¼Œå°†æ¥å¥½åšç¼“å­˜ï¼Œä»è€Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li><li>ä½¿ç”¨ <code>Core-js</code> å¯¹ js è¿›è¡Œå…¼å®¹æ€§å¤„ç†ï¼Œè®©æˆ‘ä»¬ä»£ç èƒ½è¿è¡Œåœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨ã€‚</li><li>ä½¿ç”¨ <code>PWA</code> èƒ½è®©ä»£ç ç¦»çº¿ä¹Ÿèƒ½è®¿é—®ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å­¦ä¹ ç¬”è®°ã€‘å°šç¡…è°·Webpack5å…¥é—¨åˆ°åŸç† | åŸºç¡€ç¯‡</title>
      <link href="/2023/01/17/WebPack5-01/"/>
      <url>/2023/01/17/WebPack5-01/</url>
      
        <content type="html"><![CDATA[<h1 id="WebPack5å…¥é—¨åˆ°åŸç†"><a href="#WebPack5å…¥é—¨åˆ°åŸç†" class="headerlink" title="WebPack5å…¥é—¨åˆ°åŸç†"></a>WebPack5å…¥é—¨åˆ°åŸç†</h1><blockquote><p>â›„æœ€è¿‘æŠ¥åäº†å­—èŠ‚è·³åŠ¨çš„å‰ç«¯é’è®­è¥ï¼Œå¤§ä½œä¸šæ˜¯è¦åšä¸€ä¸ªç»„ä»¶åº“é¡¹ç›®ã€‚</p><p>â›„å½“æˆ‘è‡ªä¿¡çš„æ‰“å¼€IDEå‡†å¤‡å¤§å±•èº«æ‰‹çš„æ—¶å€™å‘ç°ä¸€ç‚¹æ€è·¯éƒ½æ²¡æœ‰ï¼Œç½‘ä¸Šæœç½—äº†å¾ˆå¤šæ•™ç¨‹åå‘ç°è‡ªå·±å¯¹å·¥ç¨‹åŒ–çš„çŸ¥è¯†äº†è§£å°šæµ…ã€‚</p><p>â›„äºæ˜¯å°±å‘ç°äº†è°·è°·çš„è¿™å¥—æ•™ç¨‹ï¼ŒçœŸçš„è®²çš„å¾ˆå¥½ï¼Œå­¦å®ŒWebpackå°±å¯ä»¥å»æ­å»ºä¸€ä¸ªç»„ä»¶åº“è„šæ‰‹æ¶äº†ã€‚</p><p>â­<strong>æ³¨</strong>ï¼šæœ¬æ–‡æ˜¯å¯¹<strong>å°šç¡…è°· Web å‰ç«¯ä¹‹ Webpack5 æ•™ç¨‹</strong>çš„å­¦ä¹ ç¬”è®°è®°å½•ï¼ŒåŠ å…¥äº†ä¸€äº›è‡ªå·±çš„ç»ƒä¹ æ”¹åŠ¨ä¸æ€è€ƒã€‚</p><p>â­<strong>æ¨èå¤§å®¶å»çœ‹åŸè§†é¢‘</strong>ï¼š<a href="https://www.bilibili.com/video/BV14T4y1z7sw/">å°šç¡…è°·Webpack5å…¥é—¨åˆ°åŸç†ï¼ˆé¢è¯•å¼€å‘ä¸€æ¡é¾™ï¼‰_å“”å“©å“”å“©_bilibili</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…å·¥å…·ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…å·¥å…·ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…å·¥å…·ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦æ‰“åŒ…å·¥å…·ï¼Ÿ</h3><ul><li>å¼€å‘æ—¶ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨æ¡†æ¶(Reactã€Vue)ï¼ŒES6æ¨¡å—åŒ–è¯­æ³•ï¼ŒLess&#x2F;Sassç­‰css é¢„å¤„ç†å™¨ç­‰è¯­æ³•è¿›è¡Œå¼€å‘ã€‚</li><li>è¿™æ ·çš„ä»£ç è¦æƒ³åœ¨æµè§ˆå™¨è¿è¡Œå¿…é¡»ç»è¿‡ç¼–è¯‘æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„JSã€Css ç­‰è¯­æ³•ï¼Œæ‰èƒ½è¿è¡Œã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰“åŒ…å·¥å…·å¸®æˆ‘ä»¬åšå®Œè¿™äº›äº‹ã€‚</li><li>é™¤æ­¤ä¹‹å¤–ï¼Œæ‰“åŒ…å·¥å…·è¿˜èƒ½å‹ç¼©ä»£ç ã€åšå…¼å®¹æ€§å¤„ç†ã€æå‡ä»£ç æ€§èƒ½ç­‰ã€‚</li></ul><h3 id="æœ‰å“ªäº›æ‰“åŒ…å·¥å…·ï¼Ÿ"><a href="#æœ‰å“ªäº›æ‰“åŒ…å·¥å…·ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›æ‰“åŒ…å·¥å…·ï¼Ÿ"></a>æœ‰å“ªäº›æ‰“åŒ…å·¥å…·ï¼Ÿ</h3><ul><li>Grunt</li><li>Gulp</li><li>Parcel</li><li>Webpack</li><li>Rollup</li><li>vite</li><li>â€¦</li></ul><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><ul><li>webpackæ˜¯ä¸€ä¸ªé™æ€èµ„æºæ‰“åŒ…å·¥å…·ã€‚</li><li>å®ƒä¼šä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä½œä¸ºæ‰“åŒ…çš„å…¥å£ï¼Œå°†æˆ‘ä»¬æ•´ä¸ªé¡¹ç›®æ‰€æœ‰æ–‡ä»¶ç¼–è¯‘ç»„åˆæˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶è¾“å‡ºå‡ºå»ã€‚</li><li>è¾“å‡ºçš„æ–‡ä»¶å°±æ˜¯ç¼–è¯‘å¥½çš„æ–‡ä»¶ï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨æ®µè¿è¡Œäº†ã€‚</li><li>æˆ‘ä»¬å°†lebpackè¾“å‡ºçš„æ–‡ä»¶å«åšbundle ã€‚</li></ul><h3 id="åŠŸèƒ½ä»‹ç»"><a href="#åŠŸèƒ½ä»‹ç»" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h3><p><strong>Webpackæœ¬èº«åŠŸèƒ½æ˜¯æœ‰é™çš„</strong>ï¼š</p><ul><li>å¼€å‘æ¨¡å¼ï¼šä»…èƒ½ç¼–è¯‘JSä¸­çš„ ES Moduleè¯­æ³•ï¼Œç®­å¤´å‡½æ•°ç­‰ES6è¯­æ³•ä¸ä¼šç¼–è¯‘</li><li>ç”Ÿäº§æ¨¡å¼ï¼šèƒ½ç¼–è¯‘JSä¸­çš„ES Moduleè¯­æ³•ï¼Œè¿˜èƒ½å‹ç¼©JSä»£ç </li></ul><h3 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h3><h4 id="èµ„æºç›®å½•"><a href="#èµ„æºç›®å½•" class="headerlink" title="èµ„æºç›®å½•"></a>èµ„æºç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">webpack_code <span class="comment"># é¡¹ç›®æ ¹ç›®å½•ï¼ˆæ‰€æœ‰æŒ‡ä»¤å¿…é¡»åœ¨è¿™ä¸ªç›®å½•è¿è¡Œï¼‰</span></span><br><span class="line">    â””â”€â”€ src <span class="comment"># é¡¹ç›®æºç ç›®å½•</span></span><br><span class="line">        â”œâ”€â”€ js <span class="comment"># jsæ–‡ä»¶ç›®å½•</span></span><br><span class="line">        â”‚   â”œâ”€â”€ count.js</span><br><span class="line">        â”‚   â””â”€â”€ sum.js</span><br><span class="line">        â””â”€â”€ main.js <span class="comment"># é¡¹ç›®ä¸»æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºæ–‡ä»¶"><a href="#åˆ›å»ºæ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ–‡ä»¶"></a>åˆ›å»ºæ–‡ä»¶</h4><ul><li>count.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">count</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>sum.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> args.<span class="title function_">reduce</span>(<span class="function">(<span class="params">p, c</span>) =&gt;</span> p + c, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> count <span class="keyword">from</span> <span class="string">&quot;./js/count&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> sum <span class="keyword">from</span> <span class="string">&quot;./js/sum&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½ä¾èµ–"><a href="#ä¸‹è½½ä¾èµ–" class="headerlink" title="ä¸‹è½½ä¾èµ–"></a>ä¸‹è½½ä¾èµ–</h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œæ¥åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚è¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p><ul><li>åˆå§‹åŒ–<code>package.json</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä¼šç”Ÿæˆä¸€ä¸ªåŸºç¡€çš„ <code>package.json</code> æ–‡ä»¶ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ <code>package.json</code> ä¸­ <code>name</code> å­—æ®µä¸èƒ½å«åš <code>webpack</code>, å¦åˆ™ä¸‹ä¸€æ­¥ä¼šæŠ¥é”™</strong></p><ul><li>ä¸‹è½½ä¾èµ–</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure><h4 id="å¯ç”¨Webpack"><a href="#å¯ç”¨Webpack" class="headerlink" title="å¯ç”¨Webpack"></a>å¯ç”¨Webpack</h4><p>è¾“å‡ºæ–‡ä»¶ä¼šæ‰“åŒ…åœ¨é¡¹ç›®ç›®å½•ä¸‹  dist æ–‡ä»¶å¤¹ä¸‹</p><ul><li>å¼€å‘æ¨¡å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npxä¼šä¸´æ—¶æ”¹å˜ç¯å¢ƒå˜é‡ï¼Œå»è°ƒç”¨node_moudleä¸­ .bash æ–‡ä»¶ä¸­çš„å‘½ä»¤</span></span><br><span class="line">npx webpack ./src/main.js --mode=development</span><br></pre></td></tr></table></figure><ul><li>ç”Ÿäº§æ¨¡å¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¤çŠ¶æ€ä¸‹æ‰“åŒ…ä¼šå°†ES6å…¨éƒ¨è½¬ä¸ºES5 å¹¶ä¸”å‹ç¼©ä»£ç </span></span><br><span class="line">npx webpack ./src/main.js --mode=production</span><br></pre></td></tr></table></figure><p><code>npx webpack</code>: æ˜¯ç”¨æ¥è¿è¡Œæœ¬åœ°å®‰è£… <code>Webpack</code> åŒ…çš„ã€‚</p><p><code>./src/main.js</code>: æŒ‡å®š <code>Webpack</code> ä» <code>main.js</code> æ–‡ä»¶å¼€å§‹æ‰“åŒ…ï¼Œä¸ä½†ä¼šæ‰“åŒ… <code>main.js</code>ï¼Œè¿˜ä¼šå°†å…¶ä¾èµ–ä¹Ÿä¸€èµ·æ‰“åŒ…è¿›æ¥ã€‚</p><p><code>--mode=xxx</code>ï¼šæŒ‡å®šæ¨¡å¼ï¼ˆç¯å¢ƒï¼‰ã€‚</p><p><code>Webpack</code> æœ¬èº«åŠŸèƒ½æ¯”è¾ƒå°‘ï¼Œåªèƒ½å¤„ç† <code>js</code> èµ„æºï¼Œä¸€æ—¦é‡åˆ° <code>css</code> ç­‰å…¶ä»–èµ„æºå°±ä¼šæŠ¥é”™ã€‚ï¼ˆæˆ‘ä»¬éœ€è¦å…¶ä»–çš„Webpackå·¥å…·æ¥å¸®å¿™å¤„ç†ï¼‰</p><h2 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h2><h3 id="äº”å¤§æ ¸å¿ƒæ¦‚å¿µ"><a href="#äº”å¤§æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="äº”å¤§æ ¸å¿ƒæ¦‚å¿µ"></a>äº”å¤§æ ¸å¿ƒæ¦‚å¿µ</h3><ol><li>entryï¼ˆå…¥å£ï¼‰<ul><li>æŒ‡ç¤º Webpack ä»å“ªä¸ªæ–‡ä»¶å¼€å§‹æ‰“åŒ…</li></ul></li><li>outputï¼ˆè¾“å‡ºï¼‰<ul><li>æŒ‡ç¤º Webpack æ‰“åŒ…å®Œçš„æ–‡ä»¶è¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œå¦‚ä½•å‘½åç­‰</li></ul></li><li>loaderï¼ˆåŠ è½½å™¨ï¼‰<ul><li>webpack æœ¬èº«åªèƒ½å¤„ç† jsã€json ç­‰èµ„æºï¼Œå…¶ä»–èµ„æºéœ€è¦å€ŸåŠ© loaderï¼ŒWebpack æ‰èƒ½è§£æ</li></ul></li><li>pluginsï¼ˆæ’ä»¶ï¼‰<ul><li>æ‰©å±• Webpack çš„åŠŸèƒ½</li></ul></li><li>modeï¼ˆæ¨¡å¼ï¼‰<ul><li>å¼€å‘æ¨¡å¼ï¼šdevelopment</li><li>ç”Ÿäº§æ¨¡å¼ï¼šproduction</li></ul></li></ol><h3 id="å‡†å¤‡Webpacké…ç½®æ–‡ä»¶"><a href="#å‡†å¤‡Webpacké…ç½®æ–‡ä»¶" class="headerlink" title="å‡†å¤‡Webpacké…ç½®æ–‡ä»¶"></a>å‡†å¤‡Webpacké…ç½®æ–‡ä»¶</h3><ul><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ï¼š<code>webpack.config.js</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…¥å£</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="comment">// è¾“å‡º</span></span><br><span class="line">  <span class="attr">output</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">// åŠ è½½å™¨</span></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ’ä»¶</span></span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Webpack æ˜¯åŸºäº Node.js è¿è¡Œçš„ï¼Œæ‰€ä»¥é‡‡ç”¨ Common.js æ¨¡å—åŒ–è§„èŒƒ</p><h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><ul><li><strong>é…ç½®æ–‡ä»¶</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node.jsçš„æ ¸å¿ƒæ¨¡å—ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…¥å£</span></span><br><span class="line">  <span class="comment">// ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„éƒ½è¡Œ</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="comment">// è¾“å‡º</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// path: æ–‡ä»¶è¾“å‡ºç›®å½•ï¼Œå¿…é¡»æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="comment">// path.resolve()æ–¹æ³•è¿”å›ä¸€ä¸ªç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="comment">// __dirname å½“å‰æ–‡ä»¶çš„æ–‡ä»¶å¤¹ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="comment">// filename: è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// åŠ è½½å™¨</span></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ’ä»¶</span></span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>, <span class="comment">// å¼€å‘æ¨¡å¼</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è¿è¡ŒæŒ‡ä»¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¤æ—¶webpackä¼šæ ¹æ®é…ç½®æ–‡ä»¶è¿›è¡Œæ‰“åŒ…</span></span><br><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h2 id="å¼€å‘æ¨¡å¼ä»‹ç»"><a href="#å¼€å‘æ¨¡å¼ä»‹ç»" class="headerlink" title="å¼€å‘æ¨¡å¼ä»‹ç»"></a>å¼€å‘æ¨¡å¼ä»‹ç»</h2><p>å¼€å‘æ¨¡å¼é¡¾åæ€ä¹‰å°±æ˜¯æˆ‘ä»¬å¼€å‘ä»£ç æ—¶ä½¿ç”¨çš„æ¨¡å¼ã€‚</p><p><strong>è¿™ä¸ªæ¨¡å¼ä¸‹æˆ‘ä»¬ä¸»è¦åšä¸¤ä»¶äº‹</strong>ï¼š</p><ol><li>ç¼–è¯‘ä»£ç ï¼Œä½¿æµè§ˆå™¨èƒ½è¯†åˆ«è¿è¡Œ<ul><li>å¼€å‘æ—¶æˆ‘ä»¬æœ‰æ ·å¼èµ„æºã€å­—ä½“å›¾æ ‡ã€å›¾ç‰‡èµ„æºã€html èµ„æºç­‰ï¼Œwebpack é»˜è®¤éƒ½ä¸èƒ½å¤„ç†è¿™äº›èµ„æºï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åŠ è½½é…ç½®æ¥ç¼–è¯‘è¿™äº›èµ„æº</li></ul></li><li>ä»£ç è´¨é‡æ£€æŸ¥ï¼Œæ ‘ç«‹ä»£ç è§„èŒƒ<ul><li>æå‰æ£€æŸ¥ä»£ç çš„ä¸€äº›éšæ‚£ï¼Œè®©ä»£ç è¿è¡Œæ—¶èƒ½æ›´åŠ å¥å£®ã€‚</li><li>æå‰æ£€æŸ¥ä»£ç è§„èŒƒå’Œæ ¼å¼ï¼Œç»Ÿä¸€å›¢é˜Ÿç¼–ç é£æ ¼ï¼Œè®©ä»£ç æ›´ä¼˜é›…ç¾è§‚ã€‚</li></ul></li></ol><h2 id="å¤„ç†æ ·å¼èµ„æº"><a href="#å¤„ç†æ ·å¼èµ„æº" class="headerlink" title="å¤„ç†æ ·å¼èµ„æº"></a>å¤„ç†æ ·å¼èµ„æº</h2><ul><li>å­¦ä¹ ä½¿ç”¨ Webpack å¦‚ä½•å¤„ç† Cssã€Lessã€Sassã€Scssã€Styl æ ·å¼èµ„æº</li></ul><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>Webpack æœ¬èº«æ˜¯ä¸èƒ½è¯†åˆ«æ ·å¼èµ„æºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å€ŸåŠ© Loader æ¥å¸®åŠ© Webpack è§£ææ ·å¼èµ„æº</p><p>æˆ‘ä»¬æ‰¾ Loader éƒ½åº”è¯¥å»å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°å¯¹åº”çš„ Loaderï¼Œç„¶åä½¿ç”¨</p><p>å®˜æ–¹æ–‡æ¡£æ‰¾ä¸åˆ°çš„è¯ï¼Œå¯ä»¥ä»ç¤¾åŒº Github ä¸­æœç´¢æŸ¥è¯¢</p><p><a href="https://webpack.docschina.org/loaders/">Webpack å®˜æ–¹ Loader æ–‡æ¡£open in new window</a></p><h3 id="å¤„ç†CSSèµ„æº"><a href="#å¤„ç†CSSèµ„æº" class="headerlink" title="å¤„ç†CSSèµ„æº"></a>å¤„ç†CSSèµ„æº</h3><h4 id="ä¸‹è½½åŒ…"><a href="#ä¸‹è½½åŒ…" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦ä¸‹è½½ css-loader ä¸ style-loader ä¸¤ä¸ªloader</span></span><br><span class="line">npm i css-loader style-loader -D</span><br></pre></td></tr></table></figure><h4 id="åŠŸèƒ½ä»‹ç»-1"><a href="#åŠŸèƒ½ä»‹ç»-1" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h4><ul><li><code>css-loader</code>ï¼šè´Ÿè´£å°† Css æ–‡ä»¶ç¼–è¯‘æˆ Webpack èƒ½è¯†åˆ«çš„æ¨¡å—</li><li><code>style-loader</code>ï¼šä¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ª Style æ ‡ç­¾ï¼Œé‡Œé¢æ”¾ç½® Webpack ä¸­ Css æ¨¡å—å†…å®¹</li></ul><p>æ­¤æ—¶æ ·å¼å°±ä¼šä»¥ Style æ ‡ç­¾çš„å½¢å¼åœ¨é¡µé¢ä¸Šç”Ÿæ•ˆ</p><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="string">&quot;style-loader&quot;</span>, <span class="comment">// å°†jsä¸­cssé€šè¿‡åˆ›å»º style æ ‡ç­¾æ·»åŠ  html æ–‡ä»¶ä¸­ç”Ÿæ•ˆ</span></span><br><span class="line">          <span class="string">&quot;css-loader&quot;</span>, <span class="comment">// å°†cssèµ„æºç¼–è¯‘æˆ commonjs çš„æ¨¡å—åˆ°jsä¸­</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ Cssèµ„æº"><a href="#æ·»åŠ Cssèµ„æº" class="headerlink" title="æ·»åŠ Cssèµ„æº"></a>æ·»åŠ Cssèµ„æº</h4><ul><li>src&#x2F;css&#x2F;index.css</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>src&#x2F;main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> count <span class="keyword">from</span> <span class="string">&quot;./js/count&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> sum <span class="keyword">from</span> <span class="string">&quot;./js/sum&quot;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥ Css èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./css/index.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure><ul><li>public&#x2F;index.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../dist/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¿è¡ŒæŒ‡ä»¤"><a href="#è¿è¡ŒæŒ‡ä»¤" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><ul><li>ä¹‹åä¼šç¥å¥‡çš„å‘ç°CSSæ ·å¼åœ¨é¡µé¢ä¸­ç”Ÿæ•ˆå•¦ï¼</li></ul><h3 id="å¤„ç†Lessèµ„æº"><a href="#å¤„ç†Lessèµ„æº" class="headerlink" title="å¤„ç†Lessèµ„æº"></a>å¤„ç†Lessèµ„æº</h3><h4 id="ä¸‹è½½åŒ…-1"><a href="#ä¸‹è½½åŒ…-1" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i less-loader less -D</span><br></pre></td></tr></table></figure><h4 id="åŠŸèƒ½ä»‹ç»-2"><a href="#åŠŸèƒ½ä»‹ç»-2" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h4><ul><li><code>less-loader</code>ï¼šè´Ÿè´£å°† Less æ–‡ä»¶ç¼–è¯‘æˆ Css æ–‡ä»¶</li></ul><h4 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="comment">// loader: &#x27;xxx&#x27;, åªèƒ½ä½¿ç”¨ä¸€ä¸ªloader</span></span><br><span class="line">        <span class="comment">// useå¯ä»¥ä½¿ç”¨å¤šä¸ª loader</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ Lessèµ„æº"><a href="#æ·»åŠ Lessèµ„æº" class="headerlink" title="æ·»åŠ Lessèµ„æº"></a>æ·»åŠ Lessèµ„æº</h4><ul><li>src&#x2F;less&#x2F;index.less</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pinkLess</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>src&#x2F;main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> count <span class="keyword">from</span> <span class="string">&quot;./js/count&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> sum <span class="keyword">from</span> <span class="string">&quot;./js/sum&quot;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./css/index.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./less/index.less&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure><ul><li>public&#x2F;index.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;pinkLess&quot;</span>&gt;</span>Hello Webpack Less<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../dist/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¿è¡ŒæŒ‡ä»¤-1"><a href="#è¿è¡ŒæŒ‡ä»¤-1" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpacl</span><br></pre></td></tr></table></figure><h3 id="å¤„ç†Stylèµ„æº"><a href="#å¤„ç†Stylèµ„æº" class="headerlink" title="å¤„ç†Stylèµ„æº"></a>å¤„ç†Stylèµ„æº</h3><h4 id="ä¸‹è½½åŒ…-2"><a href="#ä¸‹è½½åŒ…-2" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i stylus-loader -D</span><br></pre></td></tr></table></figure><h4 id="åŠŸèƒ½ä»‹ç»-3"><a href="#åŠŸèƒ½ä»‹ç»-3" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h4><ul><li><code>stylus-loader</code>ï¼šè´Ÿè´£å°† Styl æ–‡ä»¶ç¼–è¯‘æˆ Css æ–‡ä»¶</li></ul><h4 id="é…ç½®-2"><a href="#é…ç½®-2" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;stylus-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ Stylèµ„æº"><a href="#æ·»åŠ Stylèµ„æº" class="headerlink" title="æ·»åŠ Stylèµ„æº"></a>æ·»åŠ Stylèµ„æº</h4><ul><li>src&#x2F;styl&#x2F;index.styl</li></ul><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> </span><br><span class="line">  <span class="attribute">width</span> <span class="number">100px</span> </span><br><span class="line">  <span class="attribute">height</span> <span class="number">100px</span> </span><br><span class="line">  <span class="attribute">background-color</span> pink</span><br></pre></td></tr></table></figure><ul><li>src&#x2F;main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; add &#125; <span class="keyword">from</span> <span class="string">&quot;./math&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> count <span class="keyword">from</span> <span class="string">&quot;./js/count&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> sum <span class="keyword">from</span> <span class="string">&quot;./js/sum&quot;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./css/index.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./less/index.less&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./sass/index.sass&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./sass/index.scss&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./styl/index.styl&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure><h4 id="è¿è¡ŒæŒ‡ä»¤-2"><a href="#è¿è¡ŒæŒ‡ä»¤-2" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h3 id="å¤„ç†Sasså’ŒScssèµ„æº"><a href="#å¤„ç†Sasså’ŒScssèµ„æº" class="headerlink" title="å¤„ç†Sasså’ŒScssèµ„æº"></a>å¤„ç†Sasså’ŒScssèµ„æº</h3><h4 id="ä¸‹è½½åŒ…-3"><a href="#ä¸‹è½½åŒ…-3" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i sass-loader sass -D</span><br></pre></td></tr></table></figure><h4 id="åŠŸèƒ½ä»‹ç»-4"><a href="#åŠŸèƒ½ä»‹ç»-4" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h4><ul><li><code>sass-loader</code>ï¼šè´Ÿè´£å°† Sass æ–‡ä»¶ç¼–è¯‘æˆ css æ–‡ä»¶</li><li><code>sass</code>ï¼š<code>sass-loader</code> ä¾èµ– <code>sass</code> è¿›è¡Œç¼–è¯‘</li></ul><h4 id="é…ç½®-3"><a href="#é…ç½®-3" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// scssèµ„æº</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ Sassèµ„æº"><a href="#æ·»åŠ Sassèµ„æº" class="headerlink" title="æ·»åŠ Sassèµ„æº"></a>æ·»åŠ Sassèµ„æº</h4><ul><li>src&#x2F;sass&#x2F;index.scss</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.blueScss</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>src&#x2F;sass&#x2F;index.sass</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.greenSass</span><br><span class="line">    color: green</span><br></pre></td></tr></table></figure><ul><li>src&#x2F;main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> count <span class="keyword">from</span> <span class="string">&quot;./js/count&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> sum <span class="keyword">from</span> <span class="string">&quot;./js/sum&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./css/index.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./less/index.less&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./sass/index.sass&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./sass/index.scss&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure><h4 id="è¿è¡ŒæŒ‡ä»¤-3"><a href="#è¿è¡ŒæŒ‡ä»¤-3" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h2 id="å¤„ç†å›¾ç‰‡èµ„æº"><a href="#å¤„ç†å›¾ç‰‡èµ„æº" class="headerlink" title="å¤„ç†å›¾ç‰‡èµ„æº"></a>å¤„ç†å›¾ç‰‡èµ„æº</h2><p>è¿‡å»åœ¨ Webpack4 æ—¶ï¼Œæˆ‘ä»¬å¤„ç†å›¾ç‰‡èµ„æºé€šè¿‡ <code>file-loader</code> å’Œ <code>url-loader</code> è¿›è¡Œå¤„ç†</p><p>ç°åœ¨ Webpack5 å·²ç»å°†ä¸¤ä¸ª Loader åŠŸèƒ½å†…ç½®åˆ° Webpack é‡Œäº†ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•é…ç½®å³å¯å¤„ç†å›¾ç‰‡èµ„æº</p><h3 id="é…ç½®-4"><a href="#é…ç½®-4" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// å›¾ç‰‡é…ç½®</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ å›¾ç‰‡èµ„æº"><a href="#æ·»åŠ å›¾ç‰‡èµ„æº" class="headerlink" title="æ·»åŠ å›¾ç‰‡èµ„æº"></a>æ·»åŠ å›¾ç‰‡èµ„æº</h3><ul><li>src&#x2F;img&#x2F;jpegImg.jpeg</li><li>src&#x2F;img&#x2F;pngImg.png</li><li>src&#x2F;img&#x2F;gifImg.gif</li></ul><h3 id="ä½¿ç”¨å›¾ç‰‡èµ„æº"><a href="#ä½¿ç”¨å›¾ç‰‡èµ„æº" class="headerlink" title="ä½¿ç”¨å›¾ç‰‡èµ„æº"></a>ä½¿ç”¨å›¾ç‰‡èµ„æº</h3><ul><li>src&#x2F;css&#x2F;index.css</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.jpegImg</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../img/jpegImg.jpeg&quot;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pngImg</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../img/pngImg.png&quot;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.gifImg</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../img/gifImg.gif&quot;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡ŒæŒ‡ä»¤-4"><a href="#è¿è¡ŒæŒ‡ä»¤-4" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºèµ„æºæƒ…å†µ"><a href="#è¾“å‡ºèµ„æºæƒ…å†µ" class="headerlink" title="è¾“å‡ºèµ„æºæƒ…å†µ"></a>è¾“å‡ºèµ„æºæƒ…å†µ</h3><ul><li>æ­¤æ—¶å¦‚æœæŸ¥çœ‹ dist ç›®å½•çš„è¯ï¼Œä¼šå‘ç°å¤šäº†ä¸‰å¼ å›¾ç‰‡èµ„æº</li><li>å› ä¸º Webpack ä¼šå°†æ‰€æœ‰æ‰“åŒ…å¥½çš„èµ„æºè¾“å‡ºåˆ° dist ç›®å½•ä¸‹</li><li><strong>ä¸ºä»€ä¹ˆæ ·å¼èµ„æºæ²¡æœ‰å‘¢ï¼Ÿ</strong><ul><li>å› ä¸ºç»è¿‡ <code>style-loader</code> çš„å¤„ç†ï¼Œæ ·å¼èµ„æºæ‰“åŒ…åˆ° main.js é‡Œé¢å»äº†ï¼Œæ‰€ä»¥æ²¡æœ‰é¢å¤–è¾“å‡ºå‡ºæ¥</li></ul></li></ul><h3 id="å¯¹å›¾ç‰‡èµ„æºè¿›è¡Œä¼˜åŒ–"><a href="#å¯¹å›¾ç‰‡èµ„æºè¿›è¡Œä¼˜åŒ–" class="headerlink" title="å¯¹å›¾ç‰‡èµ„æºè¿›è¡Œä¼˜åŒ–"></a>å¯¹å›¾ç‰‡èµ„æºè¿›è¡Œä¼˜åŒ–</h3><ul><li>å°†å°äºæŸä¸ªå¤§å°çš„å›¾ç‰‡è½¬åŒ–æˆ data URI å½¢å¼ï¼ˆBase64 æ ¼å¼ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span> <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå‡å°‘è¯·æ±‚æ•°é‡</li><li>ç¼ºç‚¹ï¼šä½“ç§¯å˜å¾—æ›´å¤§</li></ul><p>æ­¤æ—¶è¾“å‡ºçš„å›¾ç‰‡æ–‡ä»¶å°±åªæœ‰ä¸¤å¼ ï¼Œæœ‰ä¸€å¼ å›¾ç‰‡ä»¥ data URI å½¢å¼å†…ç½®åˆ° js ä¸­äº† ï¼ˆæ³¨æ„ï¼šéœ€è¦å°†ä¸Šæ¬¡æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ¸…ç©ºï¼Œå†é‡æ–°æ‰“åŒ…æ‰æœ‰æ•ˆæœï¼‰</p><h2 id="ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„"><a href="#ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„" class="headerlink" title="ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„"></a>ä¿®æ”¹è¾“å‡ºèµ„æºçš„åç§°å’Œè·¯å¾„</h2><h3 id="é…ç½®-5"><a href="#é…ç½®-5" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹index-html"><a href="#ä¿®æ”¹index-html" class="headerlink" title="ä¿®æ”¹index.html"></a>ä¿®æ”¹index.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¿®æ”¹å¼•ç”¨jsçš„è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../dist/static/js/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;pinkLess&quot;</span>&gt;</span>Hello Webpack Less<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;greenSass&quot;</span>&gt;</span>Hello Webpack Sass<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;blueScss&quot;</span>&gt;</span>Hello Webpack Scss<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;jpegImg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pngImg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gifImg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¿è¡ŒæŒ‡ä»¤-5"><a href="#è¿è¡ŒæŒ‡ä»¤-5" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><ul><li><strong>æ­¤æ—¶è¾“å‡ºæ–‡ä»¶ç›®å½•</strong>ï¼š<ul><li>ï¼ˆæ³¨æ„ï¼šéœ€è¦å°†ä¸Šæ¬¡æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ¸…ç©ºï¼Œå†é‡æ–°æ‰“åŒ…æ‰æœ‰æ•ˆæœï¼‰</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ dist</span><br><span class="line">    â””â”€â”€ static</span><br><span class="line">         â”œâ”€â”€ imgs</span><br><span class="line">         â”‚    â””â”€â”€ 7003350e.png</span><br><span class="line">         â””â”€â”€ js</span><br><span class="line">              â””â”€â”€ main.js</span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨æ¸…ç©ºä¸Šæ¬¡æ‰“åŒ…èµ„æº"><a href="#è‡ªåŠ¨æ¸…ç©ºä¸Šæ¬¡æ‰“åŒ…èµ„æº" class="headerlink" title="è‡ªåŠ¨æ¸…ç©ºä¸Šæ¬¡æ‰“åŒ…èµ„æº"></a>è‡ªåŠ¨æ¸…ç©ºä¸Šæ¬¡æ‰“åŒ…èµ„æº</h2><h3 id="é…ç½®-6"><a href="#é…ç½®-6" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>,</span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡ŒæŒ‡ä»¤-6"><a href="#è¿è¡ŒæŒ‡ä»¤-6" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿ dist ç›®å½•èµ„æºæƒ…å†µ</p><h2 id="å¤„ç†å­—ä½“å›¾æ ‡èµ„æº"><a href="#å¤„ç†å­—ä½“å›¾æ ‡èµ„æº" class="headerlink" title="å¤„ç†å­—ä½“å›¾æ ‡èµ„æº"></a>å¤„ç†å­—ä½“å›¾æ ‡èµ„æº</h2><ul><li>è¿™é‡Œä»¥é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ä¸ºä¾‹</li><li>å›¾æ ‡åº“åœ°å€ï¼š<a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></li></ul><h3 id="æ·»åŠ å­—ä½“å›¾æ ‡èµ„æº"><a href="#æ·»åŠ å­—ä½“å›¾æ ‡èµ„æº" class="headerlink" title="æ·»åŠ å­—ä½“å›¾æ ‡èµ„æº"></a>æ·»åŠ å­—ä½“å›¾æ ‡èµ„æº</h3><ul><li>src&#x2F;fonts&#x2F;iconfont.ttf</li><li>src&#x2F;fonts&#x2F;iconfont.woff</li><li>src&#x2F;fonts&#x2F;iconfont.woff2</li><li>src&#x2F;css&#x2F;iconfont.css</li></ul><h3 id="å¼•å…¥èµ„æº"><a href="#å¼•å…¥èµ„æº" class="headerlink" title="å¼•å…¥èµ„æº"></a>å¼•å…¥èµ„æº</h3><ul><li>src&#x2F;main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;./css/iconfont.css&quot;</span>;</span><br></pre></td></tr></table></figure><ul><li>public&#x2F;index.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨å­—ä½“å›¾æ ‡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-arrow-down&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-ashbin&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-browse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®-7"><a href="#é…ç½®-7" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// æ·»åŠ æ­¤å¤„é…ç½®</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>type: &quot;asset/resource&quot;</code>å’Œ<code>type: &quot;asset&quot;</code>çš„åŒºåˆ«ï¼š</p><ol><li><code>type: &quot;asset/resource&quot;</code> ç›¸å½“äº<code>file-loader</code>, å°†æ–‡ä»¶è½¬åŒ–æˆ Webpack èƒ½è¯†åˆ«çš„èµ„æºï¼Œå…¶ä»–ä¸åšå¤„ç†</li><li><code>type: &quot;asset&quot;</code> ç›¸å½“äº<code>url-loader</code>, å°†æ–‡ä»¶è½¬åŒ–æˆ Webpack èƒ½è¯†åˆ«çš„èµ„æºï¼ŒåŒæ—¶å°äºæŸä¸ªå¤§å°çš„èµ„æºä¼šå¤„ç†æˆ data URI å½¢å¼</li></ol><h3 id="è¿è¡ŒæŒ‡ä»¤-7"><a href="#è¿è¡ŒæŒ‡ä»¤-7" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h2 id="å¤„ç†éŸ³é¢‘èµ„æº"><a href="#å¤„ç†éŸ³é¢‘èµ„æº" class="headerlink" title="å¤„ç†éŸ³é¢‘èµ„æº"></a>å¤„ç†éŸ³é¢‘èµ„æº</h2><h3 id="é…ç½®-8"><a href="#é…ç½®-8" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// æ·»åŠ æ­¤å¤„é…ç½®</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?|map4|map3|avi)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="JSå…¼å®¹æ€§ä¸ä»£ç æ ¼å¼è§„èŒƒ"><a href="#JSå…¼å®¹æ€§ä¸ä»£ç æ ¼å¼è§„èŒƒ" class="headerlink" title="JSå…¼å®¹æ€§ä¸ä»£ç æ ¼å¼è§„èŒƒ"></a>JSå…¼å®¹æ€§ä¸ä»£ç æ ¼å¼è§„èŒƒ</h2><p>Webpack å¯¹ js å¤„ç†æ˜¯æœ‰é™çš„ï¼Œåªèƒ½ç¼–è¯‘ js ä¸­ ES æ¨¡å—åŒ–è¯­æ³•ï¼Œä¸èƒ½ç¼–è¯‘å…¶ä»–è¯­æ³•ï¼Œå¯¼è‡´ js ä¸èƒ½åœ¨ IE ç­‰æµè§ˆå™¨è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›åšä¸€äº›å…¼å®¹æ€§å¤„ç†ã€‚</p><p>å…¶æ¬¡å¼€å‘ä¸­ï¼Œå›¢é˜Ÿå¯¹ä»£ç æ ¼å¼æ˜¯æœ‰ä¸¥æ ¼è¦æ±‚çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ç”±è‚‰çœ¼å»æ£€æµ‹ä»£ç æ ¼å¼ï¼Œéœ€è¦ä½¿ç”¨ä¸“ä¸šçš„å·¥å…·æ¥æ£€æµ‹ã€‚</p><ul><li>é’ˆå¯¹ js <strong>å…¼å®¹æ€§</strong>å¤„ç†ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>Babel</strong> æ¥å®Œæˆ</li><li>é’ˆå¯¹<strong>ä»£ç æ ¼å¼</strong>ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>Eslint</strong> æ¥å®Œæˆ</li></ul><p>æˆ‘ä»¬å…ˆå®Œæˆ Eslintï¼Œæ£€æµ‹ä»£ç æ ¼å¼æ— è¯¯åï¼Œåœ¨ç”± Babel åšä»£ç å…¼å®¹æ€§å¤„ç†</p><h3 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h3><ul><li>å¯ç»„è£…çš„ JavaScript å’Œ JSX æ£€æŸ¥å·¥å…·</li><li>è¿™å¥è¯æ„æ€å°±æ˜¯ï¼šå®ƒæ˜¯ç”¨æ¥æ£€æµ‹ js å’Œ jsx è¯­æ³•çš„å·¥å…·ï¼Œå¯ä»¥é…ç½®å„é¡¹åŠŸèƒ½</li><li>æˆ‘ä»¬ä½¿ç”¨ Eslintï¼Œå…³é”®æ˜¯å†™ Eslint é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å†™ä¸Šå„ç§ rules è§„åˆ™ï¼Œå°†æ¥è¿è¡Œ Eslint æ—¶å°±ä¼šä»¥å†™çš„è§„åˆ™å¯¹ä»£ç è¿›è¡Œæ£€æŸ¥</li></ul><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><p>é…ç½®æ–‡ä»¶ç”±å¾ˆå¤šç§å†™æ³•ï¼š</p><ul><li>.eslintrc.*ï¼šæ–°å»ºæ–‡ä»¶ï¼Œä½äºé¡¹ç›®æ ¹ç›®å½•<ul><li><code>.eslintrc</code></li><li><code>.eslintrc.js</code></li><li><code>.eslintrc.json</code></li><li>åŒºåˆ«åœ¨äºé…ç½®æ ¼å¼ä¸ä¸€æ ·</li></ul></li><li><code>package.json</code> ä¸­ <code>eslintConfig</code>ï¼šä¸éœ€è¦åˆ›å»ºæ–‡ä»¶ï¼Œåœ¨åŸæœ‰æ–‡ä»¶åŸºç¡€ä¸Šå†™</li></ul><p>ESLint ä¼šæŸ¥æ‰¾å’Œè‡ªåŠ¨è¯»å–å®ƒä»¬ï¼Œæ‰€ä»¥ä»¥ä¸Šé…ç½®æ–‡ä»¶åªéœ€è¦å­˜åœ¨ä¸€ä¸ªå³å¯</p><h4 id="å…·ä½“é…ç½®"><a href="#å…·ä½“é…ç½®" class="headerlink" title="å…·ä½“é…ç½®"></a>å…·ä½“é…ç½®</h4><p>æˆ‘ä»¬ä»¥ <code>.eslintrc.js</code> é…ç½®æ–‡ä»¶ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// è§£æé€‰é¡¹</span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">// å…·ä½“æ£€æŸ¥è§„åˆ™</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">// ç»§æ‰¿å…¶ä»–è§„åˆ™</span></span><br><span class="line">  <span class="attr">extends</span>: [],</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="comment">// å…¶ä»–è§„åˆ™è¯¦è§ï¼šhttps://eslint.bootcss.com/docs/user-guide/configuring</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol><li><p>parserOptions è§£æé€‰é¡¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">parserOptions</span>: &#123;</span><br><span class="line">  <span class="attr">ecmaVersion</span>: <span class="number">6</span>, <span class="comment">// ES è¯­æ³•ç‰ˆæœ¬</span></span><br><span class="line">  <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span>, <span class="comment">// ES æ¨¡å—åŒ–</span></span><br><span class="line">  <span class="attr">ecmaFeatures</span>: &#123; <span class="comment">// ES å…¶ä»–ç‰¹æ€§</span></span><br><span class="line">    <span class="attr">jsx</span>: <span class="literal">true</span> <span class="comment">// å¦‚æœæ˜¯ React é¡¹ç›®ï¼Œå°±éœ€è¦å¼€å¯ jsx è¯­æ³•</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>rules å…·ä½“è§„åˆ™</p><ul><li><p><code>&quot;off&quot;</code> æˆ– <code>0</code> - å…³é—­è§„åˆ™</p></li><li><p><code>&quot;warn&quot;</code> æˆ– <code>1</code> - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨è­¦å‘Šçº§åˆ«çš„é”™è¯¯ï¼š<code>warn</code> (ä¸ä¼šå¯¼è‡´ç¨‹åºé€€å‡º)</p></li><li><p><code>&quot;error&quot;</code> æˆ– <code>2</code> - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨é”™è¯¯çº§åˆ«çš„é”™è¯¯ï¼š<code>error</code> (å½“è¢«è§¦å‘çš„æ—¶å€™ï¼Œç¨‹åºä¼šé€€å‡º)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rules</span>: &#123;</span><br><span class="line">  <span class="attr">semi</span>: <span class="string">&quot;error&quot;</span>, <span class="comment">// ç¦æ­¢ä½¿ç”¨åˆ†å·</span></span><br><span class="line">  <span class="string">&#x27;array-callback-return&#x27;</span>: <span class="string">&#x27;warn&#x27;</span>, <span class="comment">// å¼ºåˆ¶æ•°ç»„æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸­æœ‰ return è¯­å¥ï¼Œå¦åˆ™è­¦å‘Š</span></span><br><span class="line">  <span class="string">&#x27;default-case&#x27;</span>: [</span><br><span class="line">    <span class="string">&#x27;warn&#x27;</span>, <span class="comment">// è¦æ±‚ switch è¯­å¥ä¸­æœ‰ default åˆ†æ”¯ï¼Œå¦åˆ™è­¦å‘Š</span></span><br><span class="line">    &#123; <span class="attr">commentPattern</span>: <span class="string">&#x27;^no default$&#x27;</span> &#125; <span class="comment">// å…è®¸åœ¨æœ€åæ³¨é‡Š no default, å°±ä¸ä¼šæœ‰è­¦å‘Šäº†</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">eqeqeq</span>: [</span><br><span class="line">    <span class="string">&#x27;warn&#x27;</span>, <span class="comment">// å¼ºåˆ¶ä½¿ç”¨ === å’Œ !==ï¼Œå¦åˆ™è­¦å‘Š</span></span><br><span class="line">    <span class="string">&#x27;smart&#x27;</span> <span class="comment">// https://eslint.bootcss.com/docs/rules/eqeqeq#smart é™¤äº†å°‘æ•°æƒ…å†µä¸‹ä¸ä¼šæœ‰è­¦å‘Š</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›´å¤šè§„åˆ™è¯¦è§ï¼š<a href="https://eslint.bootcss.com/docs/rules/">è§„åˆ™æ–‡æ¡£</a></p></li></ul></li><li><p>extends ç»§æ‰¿</p><ul><li><p>å¼€å‘ä¸­ä¸€ç‚¹ç‚¹å†™ rules è§„åˆ™å¤ªè´¹åŠ²äº†ï¼Œæ‰€ä»¥æœ‰æ›´å¥½çš„åŠæ³•ï¼Œç»§æ‰¿ç°æœ‰çš„è§„åˆ™ã€‚</p><p>ç°æœ‰ä»¥ä¸‹è¾ƒä¸ºæœ‰åçš„è§„åˆ™ï¼š</p><ul><li><p><a href="https://eslint.bootcss.com/docs/rules/">Eslint å®˜æ–¹çš„è§„åˆ™open in new window</a>ï¼š<code>eslint:recommended</code></p></li><li><p><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-plugin-eslint">Vue Cli å®˜æ–¹çš„è§„åˆ™open in new window</a>ï¼š<code>plugin:vue/essential</code></p></li><li><p><a href="https://github.com/facebook/create-react-app/tree/main/packages/eslint-config-react-app">React Cli å®˜æ–¹çš„è§„åˆ™open in new window</a>ï¼š<code>react-app</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å¦‚åœ¨Reacté¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™é…ç½®</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&quot;react-app&quot;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬çš„è§„åˆ™ä¼šè¦†ç›–æ‰react-appçš„è§„åˆ™</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥æƒ³è¦ä¿®æ”¹è§„åˆ™ç›´æ¥æ”¹å°±æ˜¯äº†</span></span><br><span class="line">    <span class="attr">eqeqeq</span>: [<span class="string">&quot;warn&quot;</span>, <span class="string">&quot;smart&quot;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ol><h4 id="åœ¨Webpackä¸­ä½¿ç”¨"><a href="#åœ¨Webpackä¸­ä½¿ç”¨" class="headerlink" title="åœ¨Webpackä¸­ä½¿ç”¨"></a>åœ¨Webpackä¸­ä½¿ç”¨</h4><h5 id="ä¸‹è½½åŒ…-4"><a href="#ä¸‹è½½åŒ…-4" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i eslint-webpack-plugin eslint -D</span><br></pre></td></tr></table></figure><h5 id="å®šä¹‰Eslinté…ç½®æ–‡ä»¶"><a href="#å®šä¹‰Eslinté…ç½®æ–‡ä»¶" class="headerlink" title="å®šä¹‰Eslinté…ç½®æ–‡ä»¶"></a>å®šä¹‰Eslinté…ç½®æ–‡ä»¶</h5><ul><li>.eslintrc.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ç»§æ‰¿ Eslint è§„åˆ™</span></span><br><span class="line">  <span class="attr">extends</span>: [<span class="string">&quot;eslint:recommended&quot;</span>],</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨nodeä¸­å…¨å±€å˜é‡</span></span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨æµè§ˆå™¨ä¸­å…¨å±€å˜é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="attr">sourceType</span>: <span class="string">&quot;module&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&quot;no-var&quot;</span>: <span class="number">2</span>, <span class="comment">// ä¸èƒ½ä½¿ç”¨ var å®šä¹‰å˜é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>main.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®å¥½ä¹‹åä¼šå‘ç°æŠ¥é”™</span></span><br><span class="line"><span class="keyword">var</span> result1 = <span class="title function_">count</span>(<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result1);</span><br><span class="line"><span class="keyword">var</span> result2 = <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result2);</span><br></pre></td></tr></table></figure><ul><li>webpack.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// åŠ å…¥æ’ä»¶ Webpack åœ¨ç¼–è¯‘æ—¶ä¼šå¯¹Eslintè¿›è¡ŒæŠ¥é”™</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="VSCode-Webstorm-æ’ä»¶"><a href="#VSCode-Webstorm-æ’ä»¶" class="headerlink" title="VSCode Webstorm æ’ä»¶"></a>VSCode Webstorm æ’ä»¶</h4><ul><li>ä¸åŒçš„IDEéƒ½æœ‰å¯¹åº”çš„Eslintæ’ä»¶ï¼Œå¯ä»¥å¯¹Eslintè§„åˆ™è¿›è¡ŒæŠ¥é”™ï¼Œè¿˜å¯ä»¥é…ç½®ä¿å­˜åä¸€é”®ä¿®æ”¹ï¼Œéå¸¸èˆ’æœã€‚</li></ul><h3 id="Bable"><a href="#Bable" class="headerlink" title="Bable"></a>Bable</h3><ul><li>JavaScript ç¼–è¯‘å™¨ã€‚</li><li>ä¸»è¦ç”¨äºå°† ES6 è¯­æ³•ç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–å…¶ä»–ç¯å¢ƒä¸­</li></ul><h4 id="é…ç½®æ–‡ä»¶-1"><a href="#é…ç½®æ–‡ä»¶-1" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><p>é…ç½®æ–‡ä»¶ç”±å¾ˆå¤šç§å†™æ³•ï¼š</p><ul><li>babel.config.* ï¼šæ–°å»ºæ–‡ä»¶ï¼Œä½äºé¡¹ç›®æ ¹ç›®å½•<ul><li><code>babel.config.js</code></li><li><code>babel.config.json</code></li></ul></li><li>.babelrc.* ï¼šæ–°å»ºæ–‡ä»¶ï¼Œä½äºé¡¹ç›®æ ¹ç›®å½•<ul><li><code>.babelrc</code></li><li><code>.babelrc.js</code></li><li><code>.babelrc.json</code></li></ul></li><li><code>package.json</code> ä¸­ <code>babel</code>ï¼šä¸éœ€è¦åˆ›å»ºæ–‡ä»¶ï¼Œåœ¨åŸæœ‰æ–‡ä»¶åŸºç¡€ä¸Šå†™</li></ul><p>Babel ä¼šæŸ¥æ‰¾å’Œè‡ªåŠ¨è¯»å–å®ƒä»¬ï¼Œæ‰€ä»¥ä»¥ä¸Šé…ç½®æ–‡ä»¶åªéœ€è¦å­˜åœ¨ä¸€ä¸ªå³å¯</p><h4 id="å…·ä½“é…ç½®-1"><a href="#å…·ä½“é…ç½®-1" class="headerlink" title="å…·ä½“é…ç½®"></a>å…·ä½“é…ç½®</h4><ul><li>babel.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// é¢„è®¾</span></span><br><span class="line">  <span class="attr">presets</span>: [],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>presets é¢„è®¾</strong></p><p>ç®€å•ç†è§£ï¼šå°±æ˜¯ä¸€ç»„ Babel æ’ä»¶, æ‰©å±• Babel åŠŸèƒ½</p><ul><li><p><code>@babel/preset-env</code>: ä¸€ä¸ªæ™ºèƒ½é¢„è®¾ï¼Œå…è®¸æ‚¨ä½¿ç”¨æœ€æ–°çš„ JavaScriptã€‚</p></li><li><p><code>@babel/preset-react</code>ï¼šä¸€ä¸ªç”¨æ¥ç¼–è¯‘ React jsx è¯­æ³•çš„é¢„è®¾</p></li><li><p><code>@babel/preset-typescript</code>ï¼šä¸€ä¸ªç”¨æ¥ç¼–è¯‘ TypeScript è¯­æ³•çš„é¢„è®¾</p></li><li><p>webpack.config.js</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// å¯¹jsè¿›è¡Œç¼–è¯‘</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æ‰“åŒ…åçš„ <code>dist/static/js/main.js</code> æ–‡ä»¶æŸ¥çœ‹ï¼Œä¼šå‘ç°ç®­å¤´å‡½æ•°ç­‰ ES6 è¯­æ³•å·²ç»è½¬æ¢äº†</p><h2 id="å¤„ç†HTMLèµ„æº"><a href="#å¤„ç†HTMLèµ„æº" class="headerlink" title="å¤„ç†HTMLèµ„æº"></a>å¤„ç†HTMLèµ„æº</h2><h3 id="ä¸‹è½½åŒ…-5"><a href="#ä¸‹è½½åŒ…-5" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i html-webpack-plugin -D</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-9"><a href="#é…ç½®-9" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><ul><li>webpack.config.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>public&#x2F;index.html</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>webpack5<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å»é™¤å¯¹jsçš„å¼•å…¥ HtmlWebpackPlugin ä¼šè‡ªåŠ¨å¼•å…¥ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¿è¡ŒæŒ‡ä»¤-8"><a href="#è¿è¡ŒæŒ‡ä»¤-8" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack</span><br></pre></td></tr></table></figure><h2 id="å¼€å‘æœåŠ¡å™¨-amp-è‡ªåŠ¨åŒ–"><a href="#å¼€å‘æœåŠ¡å™¨-amp-è‡ªåŠ¨åŒ–" class="headerlink" title="å¼€å‘æœåŠ¡å™¨&amp;è‡ªåŠ¨åŒ–"></a>å¼€å‘æœåŠ¡å™¨&amp;è‡ªåŠ¨åŒ–</h2><p>æ¯æ¬¡å†™å®Œä»£ç éƒ½éœ€è¦æ‰‹åŠ¨è¾“å…¥æŒ‡ä»¤æ‰èƒ½ç¼–è¯‘ä»£ç ï¼Œå¤ªéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€åˆ‡è‡ªåŠ¨åŒ–</p><h3 id="ä¸‹è½½åŒ…-6"><a href="#ä¸‹è½½åŒ…-6" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server -D</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-10"><a href="#é…ç½®-10" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><ul><li>webpack.config.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">        <span class="attr">clean</span>: <span class="literal">true</span>, <span class="comment">// è‡ªåŠ¨å°†ä¸Šæ¬¡æ‰“åŒ…ç›®å½•èµ„æºæ¸…ç©º</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">        <span class="attr">rules</span>: [</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">        <span class="attr">port</span>: <span class="string">&quot;3000&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡ŒæŒ‡ä»¤-9"><a href="#è¿è¡ŒæŒ‡ä»¤-9" class="headerlink" title="è¿è¡ŒæŒ‡ä»¤"></a>è¿è¡ŒæŒ‡ä»¤</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack serve</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿è¡ŒæŒ‡ä»¤å‘ç”Ÿäº†å˜åŒ–</strong></p><ul><li>å¹¶ä¸”å½“ä½ ä½¿ç”¨å¼€å‘æœåŠ¡å™¨æ—¶ï¼Œæ‰€æœ‰ä»£ç éƒ½ä¼šåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…ï¼Œå¹¶ä¸ä¼šè¾“å‡ºåˆ° dist ç›®å½•ä¸‹ã€‚</li><li>å¼€å‘æ—¶æˆ‘ä»¬åªå…³å¿ƒä»£ç èƒ½è¿è¡Œï¼Œæœ‰æ•ˆæœå³å¯ï¼Œè‡³äºä»£ç è¢«ç¼–è¯‘æˆä»€ä¹ˆæ ·å­ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦çŸ¥é“ã€‚</li></ul><h2 id="ç”Ÿäº§æ¨¡å¼ä»‹ç»"><a href="#ç”Ÿäº§æ¨¡å¼ä»‹ç»" class="headerlink" title="ç”Ÿäº§æ¨¡å¼ä»‹ç»"></a>ç”Ÿäº§æ¨¡å¼ä»‹ç»</h2><ul><li>ç”Ÿäº§æ¨¡å¼æ˜¯å¼€å‘å®Œæˆä»£ç åï¼Œæˆ‘ä»¬éœ€è¦å¾—åˆ°ä»£ç å°†æ¥éƒ¨ç½²ä¸Šçº¿ã€‚</li><li>è¿™ä¸ªæ¨¡å¼ä¸‹æˆ‘ä»¬ä¸»è¦å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œè®©å…¶è¿è¡Œæ€§èƒ½æ›´å¥½ã€‚</li></ul><p>ä¼˜åŒ–ä¸»è¦ä»ä¸¤ä¸ªè§’åº¦å‡ºå‘:</p><ol><li>ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½</li><li>ä¼˜åŒ–ä»£ç æ‰“åŒ…é€Ÿåº¦</li></ol><h3 id="æ–‡ä»¶ç›®å½•"><a href="#æ–‡ä»¶ç›®å½•" class="headerlink" title="æ–‡ä»¶ç›®å½•"></a>æ–‡ä»¶ç›®å½•</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ webpack-test (é¡¹ç›®æ ¹ç›®å½•)</span><br><span class="line">    â”œâ”€â”€ config (Webpacké…ç½®æ–‡ä»¶ç›®å½•)</span><br><span class="line">    â”‚    â”œâ”€â”€ webpack.dev.js(å¼€å‘æ¨¡å¼é…ç½®æ–‡ä»¶)</span><br><span class="line">    â”‚    â””â”€â”€ webpack.prod.js(ç”Ÿäº§æ¨¡å¼é…ç½®æ–‡ä»¶)</span><br><span class="line">    â”œâ”€â”€ node_modules (ä¸‹è½½åŒ…å­˜æ”¾ç›®å½•)</span><br><span class="line">    â”œâ”€â”€ src (é¡¹ç›®æºç ç›®å½•ï¼Œé™¤äº†htmlå…¶ä»–éƒ½åœ¨srcé‡Œé¢)</span><br><span class="line">    â”‚    â””â”€â”€ ç•¥</span><br><span class="line">    â”œâ”€â”€ public (é¡¹ç›®htmlæ–‡ä»¶)</span><br><span class="line">    â”‚    â””â”€â”€ index.html</span><br><span class="line">    â”œâ”€â”€ .eslintrc.js(Eslinté…ç½®æ–‡ä»¶)</span><br><span class="line">    â”œâ”€â”€ babel.config.js(Babelé…ç½®æ–‡ä»¶)</span><br><span class="line">    â””â”€â”€ package.json (åŒ…çš„ä¾èµ–ç®¡ç†é…ç½®æ–‡ä»¶)</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-webpack-dev-js"><a href="#ä¿®æ”¹-webpack-dev-js" class="headerlink" title="ä¿®æ”¹ webpack.dev.js"></a>ä¿®æ”¹ webpack.dev.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="literal">undefined</span>, <span class="comment">// å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="comment">// clean: true, // å¼€å‘æ¨¡å¼æ²¡æœ‰è¾“å‡ºï¼Œä¸éœ€è¦æ¸…ç©ºè¾“å‡ºç»“æœ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;stylus-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">    <span class="attr">port</span>: <span class="string">&quot;3000&quot;</span>, <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">    <span class="attr">open</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿è¡Œå¼€å‘æ¨¡å¼çš„æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack serve --config ./config/webpack.dev.js</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-webpack-prod-js"><a href="#ä¿®æ”¹-webpack-prod-js" class="headerlink" title="ä¿®æ”¹ webpack.prod.js"></a>ä¿®æ”¹ webpack.prod.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;stylus-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// devServer: &#123;</span></span><br><span class="line">  <span class="comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">  <span class="comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">  <span class="comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç”Ÿäº§æ¨¡å¼çš„æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack --config ./config/webpack.prod.js</span><br></pre></td></tr></table></figure><h3 id="é…ç½®è¿è¡Œå‘½ä»¤"><a href="#é…ç½®è¿è¡Œå‘½ä»¤" class="headerlink" title="é…ç½®è¿è¡Œå‘½ä»¤"></a>é…ç½®è¿è¡Œå‘½ä»¤</h3><p>ä¸ºäº†æ–¹ä¾¿è¿è¡Œä¸åŒæ¨¡å¼çš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬å°†æŒ‡ä»¤å®šä¹‰åœ¨ package.json ä¸­ scripts é‡Œé¢</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx webpack serve --config ./config/webpack.dev.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx webpack --config ./config/webpack.prod.js&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä»¥åå¯åŠ¨æŒ‡ä»¤ï¼š</p><ul><li>å¼€å‘æ¨¡å¼ï¼š<code>npm start</code> æˆ– <code>npm run dev</code></li><li>ç”Ÿäº§æ¨¡å¼ï¼š<code>npm run build</code></li></ul><h2 id="CSSé«˜çº§å¤„ç†"><a href="#CSSé«˜çº§å¤„ç†" class="headerlink" title="CSSé«˜çº§å¤„ç†"></a>CSSé«˜çº§å¤„ç†</h2><h3 id="ç”Ÿäº§CSSæ–‡ä»¶é€šè¿‡linkeå¼•å…¥"><a href="#ç”Ÿäº§CSSæ–‡ä»¶é€šè¿‡linkeå¼•å…¥" class="headerlink" title="ç”Ÿäº§CSSæ–‡ä»¶é€šè¿‡linkeå¼•å…¥"></a>ç”Ÿäº§CSSæ–‡ä»¶é€šè¿‡linkeå¼•å…¥</h3><ul><li>Css æ–‡ä»¶ç›®å‰è¢«æ‰“åŒ…åˆ° js æ–‡ä»¶ä¸­ï¼Œå½“ js æ–‡ä»¶åŠ è½½æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª style æ ‡ç­¾æ¥ç”Ÿæˆæ ·å¼</li><li>è¿™æ ·å¯¹äºç½‘ç«™æ¥è¯´ï¼Œä¼šå‡ºç°é—ªå±ç°è±¡ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½</li><li>æˆ‘ä»¬åº”è¯¥æ˜¯å•ç‹¬çš„ Css æ–‡ä»¶ï¼Œé€šè¿‡ link æ ‡ç­¾åŠ è½½æ€§èƒ½æ‰å¥½</li></ul><h4 id="ä¸‹è½½åŒ…-7"><a href="#ä¸‹è½½åŒ…-7" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure><h4 id="é…ç½®-11"><a href="#é…ç½®-11" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><ul><li>webpack.prod.js</li><li>è¿™é‡ŒåŠ å…¥äº†ä¸€ä¸ªæ’ä»¶ï¼Œåœ¨useé‡Œé¢åŠ å…¥äº†ä¸€ä¸ªloader</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;sass-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;stylus-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;static/css/main.css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// devServer: &#123;</span></span><br><span class="line">  <span class="comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">  <span class="comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">  <span class="comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="CSSå…¼å®¹æ€§å¤„ç†"><a href="#CSSå…¼å®¹æ€§å¤„ç†" class="headerlink" title="CSSå…¼å®¹æ€§å¤„ç†"></a>CSSå…¼å®¹æ€§å¤„ç†</h3><h4 id="ä¸‹è½½åŒ…-8"><a href="#ä¸‹è½½åŒ…-8" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i postcss-loader postcss postcss-preset-env -D</span><br></pre></td></tr></table></figure><h4 id="é…ç½®-12"><a href="#é…ç½®-12" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><ul><li>webpack.prod.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">          <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">                <span class="attr">plugins</span>: [</span><br><span class="line">                  <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">                ],</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">          <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">                <span class="attr">plugins</span>: [</span><br><span class="line">                  <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">                ],</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">&quot;less-loader&quot;</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">          <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">                <span class="attr">plugins</span>: [</span><br><span class="line">                  <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">                ],</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">&quot;sass-loader&quot;</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">          <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">                <span class="attr">plugins</span>: [</span><br><span class="line">                  <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">                ],</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">&quot;stylus-loader&quot;</span>,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;static/css/main.css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// devServer: &#123;</span></span><br><span class="line">  <span class="comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">  <span class="comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">  <span class="comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="å…¼å®¹æ€§æ§åˆ¶"><a href="#å…¼å®¹æ€§æ§åˆ¶" class="headerlink" title="å…¼å®¹æ€§æ§åˆ¶"></a>å…¼å®¹æ€§æ§åˆ¶</h4><ul><li>æˆ‘ä»¬å¯ä»¥åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>browserslist</code> æ¥æ§åˆ¶æ ·å¼çš„å…¼å®¹æ€§åšåˆ°ä»€ä¹ˆç¨‹åº¦ã€‚</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">&quot;browserslist&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ie &gt;= 8&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æƒ³è¦çŸ¥é“æ›´å¤šçš„ <code>browserslist</code> é…ç½®ï¼ŒæŸ¥çœ‹<a href="https://github.com/browserslist/browserslist">browserslist æ–‡æ¡£open in new window</a></p><p>ä»¥ä¸Šä¸ºäº†æµ‹è¯•å…¼å®¹æ€§æ‰€ä»¥è®¾ç½®å…¼å®¹æµè§ˆå™¨ ie8 ä»¥ä¸Šã€‚</p><ul><li>å®é™…å¼€å‘ä¸­æˆ‘ä»¬ä¸€èˆ¬ä¸è€ƒè™‘æ—§ç‰ˆæœ¬æµè§ˆå™¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·è®¾ç½®ï¼š</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// å…¶ä»–çœç•¥</span></span><br><span class="line">  <span class="attr">&quot;browserslist&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;last 2 version&quot;</span><span class="punctuation">,</span> <span class="string">&quot;&gt; 1%&quot;</span><span class="punctuation">,</span> <span class="string">&quot;not dead&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="åˆå¹¶é…ç½®"><a href="#åˆå¹¶é…ç½®" class="headerlink" title="åˆå¹¶é…ç½®"></a>åˆå¹¶é…ç½®</h4><ul><li>webpack.prod.js</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å¤„ç†æ ·å¼çš„Loaders</span></span><br><span class="line"><span class="comment">// è°·è°·å¤ªè´´å¿ƒäº† ä¸Šé¢ä»£ç è€¦åˆåº¦æ¯”è¾ƒé«˜ è¿™é‡Œç›´æ¥å†™äº†ä¸€ä¸ªå‡½æ•°å¤„ç† å¾ˆå¥½çš„åšæ³•</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getStyleLoaders</span> = (<span class="params">preProcessor</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> [</span><br><span class="line">    <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">      <span class="attr">options</span>: &#123;</span><br><span class="line">        <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">          <span class="attr">plugins</span>: [</span><br><span class="line">            <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    preProcessor,</span><br><span class="line">  ].<span class="title function_">filter</span>(<span class="title class_">Boolean</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;less-loader&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;sass-loader&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;stylus-loader&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;static/css/main.css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// devServer: &#123;</span></span><br><span class="line">  <span class="comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">  <span class="comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">  <span class="comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="CSSå‹ç¼©"><a href="#CSSå‹ç¼©" class="headerlink" title="CSSå‹ç¼©"></a>CSSå‹ç¼©</h3><h4 id="ä¸‹è½½åŒ…-9"><a href="#ä¸‹è½½åŒ…-9" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i css-minimizer-webpack-plugin -D</span><br></pre></td></tr></table></figure><h4 id="é…ç½®-13"><a href="#é…ç½®-13" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><ul><li>webpack.prod.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESLintWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;eslint-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;html-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;mini-css-extract-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CssMinimizerPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;css-minimizer-webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å¤„ç†æ ·å¼çš„Loaders</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getStyleLoaders</span> = (<span class="params">preProcessor</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> [</span><br><span class="line">    <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,</span><br><span class="line">    <span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">loader</span>: <span class="string">&quot;postcss-loader&quot;</span>,</span><br><span class="line">      <span class="attr">options</span>: &#123;</span><br><span class="line">        <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">          <span class="attr">plugins</span>: [</span><br><span class="line">            <span class="string">&quot;postcss-preset-env&quot;</span>, <span class="comment">// èƒ½è§£å†³å¤§å¤šæ•°æ ·å¼å…¼å®¹æ€§é—®é¢˜</span></span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    preProcessor,</span><br><span class="line">  ].<span class="title function_">filter</span>(<span class="title class_">Boolean</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/main.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../dist&quot;</span>), <span class="comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;static/js/main.js&quot;</span>, <span class="comment">// å°† js æ–‡ä»¶è¾“å‡ºåˆ° static/js ç›®å½•ä¸­</span></span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// ç”¨æ¥åŒ¹é… .css ç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// use æ•°ç»„é‡Œé¢ Loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;less-loader&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.s[ac]ss$/</span>,</span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;sass-loader&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">        <span class="attr">use</span>: <span class="title function_">getStyleLoaders</span>(<span class="string">&quot;stylus-loader&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif|webp)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span>, <span class="comment">// å°äº10kbçš„å›¾ç‰‡ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶è¾“å‡ºåˆ° static/imgs ç›®å½•ä¸­</span></span><br><span class="line">          <span class="comment">// å°†å›¾ç‰‡æ–‡ä»¶å‘½å [hash:8][ext][query]</span></span><br><span class="line">          <span class="comment">// [hash:8]: hashå€¼å–8ä½</span></span><br><span class="line">          <span class="comment">// [ext]: ä½¿ç”¨ä¹‹å‰çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">          <span class="comment">// [query]: æ·»åŠ ä¹‹å‰çš„queryå‚æ•°</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/imgs/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(ttf|woff2?)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;static/media/[hash:8][ext][query]&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="comment">// æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ESLintWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span></span><br><span class="line">      <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../src&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span></span><br><span class="line">      <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;../public/index.html&quot;</span>),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&quot;static/css/main.css&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// csså‹ç¼©</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">CssMinimizerPlugin</span>(),</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// devServer: &#123;</span></span><br><span class="line">  <span class="comment">//   host: &quot;localhost&quot;, // å¯åŠ¨æœåŠ¡å™¨åŸŸå</span></span><br><span class="line">  <span class="comment">//   port: &quot;3000&quot;, // å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span></span><br><span class="line">  <span class="comment">//   open: true, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Htmlå‹ç¼©JSå‹ç¼©"><a href="#Htmlå‹ç¼©JSå‹ç¼©" class="headerlink" title="Htmlå‹ç¼©JSå‹ç¼©"></a>Htmlå‹ç¼©JSå‹ç¼©</h2><ul><li>é»˜è®¤ç”Ÿäº§æ¨¡å¼å·²ç»å¼€å¯äº†ï¼šhtml å‹ç¼©å’Œ js å‹ç¼©</li><li>ä¸éœ€è¦é¢å¤–è¿›è¡Œé…ç½®</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬ç« èŠ‚æˆ‘ä»¬å­¦ä¼šäº† Webpack åŸºæœ¬ä½¿ç”¨ï¼ŒæŒæ¡äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ol><li>ä¸¤ç§å¼€å‘æ¨¡å¼</li></ol><ul><li>å¼€å‘æ¨¡å¼ï¼šä»£ç èƒ½ç¼–è¯‘è‡ªåŠ¨åŒ–è¿è¡Œ</li><li>ç”Ÿäº§æ¨¡å¼ï¼šä»£ç ç¼–è¯‘ä¼˜åŒ–è¾“å‡º</li></ul><ol><li>Webpack åŸºæœ¬åŠŸèƒ½</li></ol><ul><li>å¼€å‘æ¨¡å¼ï¼šå¯ä»¥ç¼–è¯‘ ES Module è¯­æ³•</li><li>ç”Ÿäº§æ¨¡å¼ï¼šå¯ä»¥ç¼–è¯‘ ES Module è¯­æ³•ï¼Œå‹ç¼© js ä»£ç </li></ul><ol><li>Webpack é…ç½®æ–‡ä»¶</li></ol><ul><li>5 ä¸ªæ ¸å¿ƒæ¦‚å¿µ<ul><li>entry</li><li>output</li><li>loader</li><li>plugins</li><li>mode</li></ul></li><li>devServer é…ç½®</li></ul><ol><li>Webpack è„šæœ¬æŒ‡ä»¤ç”¨æ³•</li></ol><ul><li><code>webpack</code> ç›´æ¥æ‰“åŒ…è¾“å‡º</li><li><code>webpack serve</code> å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå†…å­˜ç¼–è¯‘æ‰“åŒ…æ²¡æœ‰è¾“å‡º</li></ul><h2 id="ç•™è¨€"><a href="#ç•™è¨€" class="headerlink" title="ç•™è¨€"></a>ç•™è¨€</h2><blockquote><p>â›„å¤ªæ„Ÿè°¢è°·è°·å•¦ï¼Œè¿™å¥—è¯¾ç¨‹çœŸçš„å¾ˆæ£’ï¼ï¼ï¼</p><p>â­å°šç¡…è°·ï¼Œè®©å¤©ä¸‹æœ‰å­¦ä¸å®Œçš„çŸ¥è¯†ï¼ï¼ï¼ğŸ¤£</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ•°æ®ç±»å‹æµ…æ</title>
      <link href="/2023/01/15/JavaScriptDataType/"/>
      <url>/2023/01/15/JavaScriptDataType/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScriptæ•°æ®ç±»å‹æµ…æ"><a href="#JavaScriptæ•°æ®ç±»å‹æµ…æ" class="headerlink" title="JavaScriptæ•°æ®ç±»å‹æµ…æ"></a>JavaScriptæ•°æ®ç±»å‹æµ…æ</h1><blockquote><p>æœ€è¿‘åœ¨å¤ä¹ JSçš„åŸºç¡€çŸ¥è¯†ï¼Œå‘ç°è‡ªå·±å¯¹BigIntä¸Numberçš„ç†è§£ä¸æ˜¯å¾ˆæ·±åˆ»ï¼Œå¯¹NaNçš„ç†è§£ä¹Ÿä¸åˆ°ä½ï¼Œäºæ˜¯æ‰“ç®—å†™ä¸€ç¯‡æ–‡ç« è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚</p><p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š</p><ul><li><a href="https://juejin.cn/post/6992754058297622542">Javascript çš„æ•°æ®ç±»å‹è¯¦è§£ - æ˜é‡‘ (juejin.cn)</a></li><li><a href="https://juejin.cn/post/7011396230131482632">JavaScriptåŸºç¡€æ•°æ®ç±»å‹ - æ˜é‡‘ (juejin.cn)</a></li><li><a href="https://www.runoob.com/js/js-datatypes.html">JavaScript æ•°æ®ç±»å‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></li><li><a href="https://es6.ruanyifeng.com/">ECMAScript 6å…¥é—¨ (ruanyifeng.com)</a></li><li><a href="https://juejin.cn/post/6844903494076350472">ç†è§£æ„é€ å‡½æ•°ä¸åŸå‹å¯¹è±¡ - æ˜é‡‘ (juejin.cn)</a></li></ul><p>â­<strong>Tips</strong>ï¼šå­¦ä¹ æœ¬æ–‡ï¼Œä½ å°†å¯¹JavaScriptçš„å…«å¤§æ•°æ®ç±»å‹æœ‰ä¸€ä¸ªå¹¿æ³›çš„è®¤è¯†ï¼Œé€‚åˆå°ç™½è§‚çœ‹æˆ–å¤ä¹ æŸ¥çœ‹ï¼Œä¸é€‚åˆæ·±å…¥ç†è§£ã€‚</p></blockquote><ul><li>JSçš„æ•°æ®ç±»å‹åˆ†ä¸¤ç§<ul><li><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼šNumberï¼ŒStringï¼ŒBooleanï¼ŒNullï¼ŒUndefinedï¼ŒSymbolï¼ˆES6æ–°å¢ï¼‰ï¼ŒBigIntï¼ˆES11æ–°å¢ï¼‰</li><li><strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼šObjectï¼ˆæ™®é€šObjectï¼ŒFunctionï¼ŒDateï¼ŒMathï¼ŒArrayç­‰ï¼‰</li></ul></li></ul><h2 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h2><p><strong>ç‰¹æ€§</strong></p><ul><li>å«æœ‰å¯¹åº”çš„åŸå§‹æ•°å€¼çš„<strong>åŒ…è£…å¯¹è±¡</strong>ï¼ˆNumberï¼ŒStringç­‰å¯¹è±¡ï¼‰ã€‚</li><li>ä¿å­˜åœ¨ <strong>æ ˆå†…å­˜</strong> ä¸­çš„ç®€å•æ•°æ®æ®µã€‚</li><li>æ•°æ®æ˜¯ä¸å¯å˜çš„ï¼Œå³ä¸èƒ½å¼ºè¡Œä¿®æ”¹ <code>Array.prototype.sort.call(&#39;abc&#39;)</code> ä¿®æ”¹ä¼šæŠ¥é”™ã€‚</li><li>æ²¡æœ‰åŸå‹é“¾ä¸­çš„ <code>_proto_</code> å±æ€§ã€‚</li></ul><p><strong>åˆ¤æ–­</strong></p><ul><li>å¯ä»¥ä½¿ç”¨ <code>typeof</code> åˆ¤æ–­æ•°æ®ç±»å‹ã€‚</li><li>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ <code>typeof(null) == &#39;object&#39;</code> <strong>nullçš„ç±»å‹ä¼šé”™è¯¯åˆ¤æ–­ä¸º object</strong>ã€‚<ul><li><code>null</code> å¾—åˆ°æ£€æµ‹é”™è¯¯æ˜¯å†å²é—ç•™é—®é¢˜ï¼Œåœ¨ <code>JS</code> çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ<code>000</code> å¼€å¤´ä»£è¡¨æ˜¯å¯¹è±¡ç„¶è€Œ <code>null</code> è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º <code>object</code> ã€‚</li></ul></li></ul><table><thead><tr><th>ç±»å‹</th><th>ç»“æœ</th></tr></thead><tbody><tr><td>String</td><td>â€œstringâ€</td></tr><tr><td>Number</td><td>â€œnumberâ€</td></tr><tr><td>Boolean</td><td>â€œbooleanâ€</td></tr><tr><td>Undefined</td><td>â€œundefinedâ€</td></tr><tr><td>Objectã€Arrayã€RegExpã€nullã€Dateã€Error</td><td>â€œobjectâ€</td></tr><tr><td>Function</td><td>â€œfunctionâ€</td></tr><tr><td>Symbolï¼ˆES6æ–°å¢ï¼‰</td><td>â€œsymbolâ€</td></tr><tr><td>BigIntï¼ˆES11æ–°å¢ï¼‰</td><td>â€œbigintâ€</td></tr></tbody></table><h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><ul><li>å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°å­—æˆ–è€…ç§‘å­¦è®¡æ•°æ³•å®šä¹‰ Numberã€‚</li><li>åœ¨JavaScriptä¸­çš„åŸºæœ¬æ•°æ®ç±»<strong>Numberæ˜¯åŒç²¾åº¦æµ®ç‚¹æ•°</strong>ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºçš„æœ€å¤§å®‰å…¨èŒƒå›´æ˜¯æ­£è´Ÿ9007199254740991ï¼Œä¹Ÿå°±æ˜¯2çš„53æ¬¡æ–¹å‡1ï¼Œ æ¯”2çš„53æ¬¡å¤§çš„æ‰€æœ‰æ•°å­—åˆ™å¯ä»¥ä½¿ç”¨<code>BigInt</code>è¡¨è¾¾ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x1 = <span class="number">34.00</span></span><br><span class="line"><span class="keyword">let</span> x2 = <span class="number">34</span></span><br><span class="line"><span class="keyword">let</span> x3 = <span class="number">123e5</span></span><br><span class="line"><span class="keyword">let</span> x4 = <span class="number">123e-5</span></span><br><span class="line"><span class="keyword">let</span> x5 = <span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">123</span>)</span><br></pre></td></tr></table></figure><h4 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h4><ul><li>è¿™é‡Œæœ‰ä¸€ä¸ªæ³¨æ„çš„ç‚¹ <code>typeof NaN</code> ä¸º Numberã€‚</li><li>NaN å±æ€§æ˜¯ä»£è¡¨éæ•°å­—å€¼çš„ç‰¹æ®Šå€¼ã€‚è¯¥å±æ€§ç”¨äºæŒ‡ç¤ºæŸä¸ªå€¼ä¸æ˜¯æ•°å­—ã€‚å¯ä»¥æŠŠ Number å¯¹è±¡è®¾ç½®ä¸ºè¯¥å€¼ï¼Œæ¥æŒ‡ç¤ºå…¶ä¸æ˜¯æ•°å­—å€¼ã€‚</li><li>isNaN() å…¨å±€å‡½æ•°æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯ NaN å€¼ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="title class_">NaN</span> === <span class="string">&quot;number&quot;</span> <span class="comment">// true</span></span><br><span class="line"><span class="comment">// NaN åŒä»»ä½•æ•°æ¯”è¾ƒå‡ä¸ºfalse</span></span><br><span class="line"><span class="title class_">NaN</span> === <span class="title class_">NaN</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">&quot;0&quot;</span>)  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">&quot;ssss&quot;</span>)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="BigInt"><a href="#BigInt" class="headerlink" title="BigInt"></a>BigInt</h3><ul><li>å¯ä»¥ç”¨åœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ <code>n</code>çš„æ–¹å¼å®šä¹‰ä¸€ä¸ª Bigint æˆ–è€…è°ƒç”¨å‡½æ•°<code>BigInt()</code>ä½†ä¸åŒ…å«<code>new</code>è¿ç®—ç¬¦ï¼Œå…¶ä¸å¯ä»¥ä½¿ç”¨ <code>new</code>å…³é”®å­—åˆå§‹åŒ–ã€‚</li><li><code>BigInt</code>æ˜¯JavaScriptä¸­çš„ä¸€ä¸ªæ–°çš„åŸå§‹ç±»å‹ï¼Œ<strong>å¯ä»¥ç”¨ä»»æ„ç²¾åº¦è¡¨ç¤ºæ•´æ•°</strong>ã€‚ä½¿ç”¨<code>BigInt</code>ï¼Œå³ä½¿è¶…å‡ºJavaScript <code>Number</code> çš„å®‰å…¨æ•´æ•°é™åˆ¶ï¼Œä¹Ÿå¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œæ“ä½œå¤§æ•´æ•°ã€‚</li><li>ES11æ–°å¢ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x1 = <span class="number">123n</span></span><br><span class="line"><span class="keyword">let</span> x2 = <span class="title class_">BigInt</span>(<span class="number">123</span>)</span><br></pre></td></tr></table></figure><ul><li>BigIntä¸Numberçš„ä¸åŒã€‚<ul><li>ä¸èƒ½ç”¨äº<code>Math</code>å¯¹è±¡ä¸­çš„æ–¹æ³•ã€‚</li><li>ä¸èƒ½å’Œä»»ä½•<code>Number</code>å®ä¾‹æ··åˆè¿ç®—ï¼Œä¸¤è€…å¿…é¡»è½¬æ¢æˆåŒä¸€ç§ç±»å‹ã€‚åœ¨ä¸¤ç§ç±»å‹æ¥å›è½¬æ¢æ—¶è¦å°å¿ƒï¼Œå› ä¸º<code>BigInt</code>å˜é‡åœ¨è½¬æ¢æˆ<code>Number</code>å˜é‡æ—¶å¯èƒ½ä¼šç²¾åº¦ä¸¢å¤±ã€‚</li></ul></li></ul><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ul><li>å¯ä»¥ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²å®šä¹‰ Stringã€‚</li><li>é™¤äº†null, undefinedä¹‹å¤–ï¼Œå…¶ä»–å‡å¯é€šè¿‡<code>toString</code>æ–¹æ³•è·å¾—å…¶å¯¹åº”çš„å­—ç¬¦ä¸²çš„å€¼ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="string">&quot;qwe&quot;</span></span><br><span class="line"><span class="keyword">let</span> s2 = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;sad&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> s3 = <span class="string">&#x27;sdg&#x27;</span></span><br><span class="line"><span class="keyword">let</span> s4 = <span class="string">`dbs`</span></span><br><span class="line"></span><br><span class="line">(&#123;&#125;).<span class="title function_">toString</span>() <span class="comment">// [object Object]</span></span><br><span class="line">(<span class="number">123</span>).<span class="title function_">toString</span>() <span class="comment">// &quot;123&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²ä¸å…¶ä»–ç±»å‹ç›¸åŠ ä¼šå‘ç”Ÿå¥‡æ€ªçš„äº‹æƒ…</span></span><br><span class="line">&#123;&#125; + <span class="string">&#x27;&#x27;</span> <span class="comment">//  0</span></span><br><span class="line">[] + <span class="string">&#x27;&#x27;</span> <span class="comment">// &#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><ul><li><p>true ä¸ false ä¸ºå¸ƒå°”å‹ã€‚</p></li><li><p>JSä¸­<strong>åªæœ‰ä»¥ä¸‹ä¸ƒä¸ªå€¼ä¸º false</strong> ã€‚</p><ul><li>undefined</li><li>null</li><li>false</li><li>NaN</li><li>â€˜â€™</li><li>0</li><li>-0</li></ul></li><li><p><strong>å…¶ä½™å‡ä¸º true</strong>ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Boolean</span>(<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="number">4</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h3><ul><li>null ä¸º Null æ•°æ®ç±»å‹ã€‚</li><li>å…¶è¡¨è¾¾ä¸ºç©ºå€¼ã€‚ ç»å¸¸ç”¨äºé‡Šæ”¾å†…å­˜, æˆ–è€…åˆå§‹åŒ–èµ‹å€¼ã€‚ å…¶ç­‰äºundefinedï¼Œä½†ä¸ä¸¥ç­‰äºundefinedã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="literal">undefined</span> == <span class="literal">null</span> <span class="comment">// true</span></span><br><span class="line"><span class="literal">undefined</span> === <span class="literal">null</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="Undefined"><a href="#Undefined" class="headerlink" title="Undefined"></a>Undefined</h3><ul><li>undefined ä¸º Undefined æ•°æ®ç±»å‹ã€‚</li><li>å…¶å«ä¹‰ä¸ºæœªå®šä¹‰ï¼Œæˆ–è€…å®šä¹‰äº†æœªèµ‹å€¼ã€‚ å…¶ç­‰äºnullï¼Œä½†ä¸ä¸¥ç­‰äºnullã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span> <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><p>ES5 çš„å¯¹è±¡å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚æ¯”å¦‚ï¼Œä½ ä½¿ç”¨äº†ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡ï¼Œä½†åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ï¼ˆmixin æ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å°±æœ‰å¯èƒ½ä¸ç°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚å¦‚æœæœ‰ä¸€ç§æœºåˆ¶ï¼Œä¿è¯æ¯ä¸ªå±æ€§çš„åå­—éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¥½äº†ï¼Œè¿™æ ·å°±ä»æ ¹æœ¬ä¸Šé˜²æ­¢å±æ€§åçš„å†²çªã€‚è¿™å°±æ˜¯ ES6 å¼•å…¥<code>Symbol</code>çš„åŸå› ã€‚</p><ul><li><code>Symbol</code>ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚</li><li>Symbol å€¼é€šè¿‡<code>Symbol()</code>å‡½æ•°ç”Ÿæˆã€‚</li><li>å¯¹è±¡çš„å±æ€§åç°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯åŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢çš„ Symbol ç±»å‹ã€‚å‡¡æ˜¯å±æ€§åå±äº Symbol ç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çªã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="title class_">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> s</span><br><span class="line"><span class="comment">// &quot;symbol&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="title class_">Symbol</span>(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line"></span><br><span class="line">s1 <span class="comment">// Symbol(foo)</span></span><br><span class="line">s2 <span class="comment">// Symbol(bar)</span></span><br><span class="line"></span><br><span class="line">s1.<span class="title function_">toString</span>() <span class="comment">// &quot;Symbol(foo)&quot;</span></span><br><span class="line">s2.<span class="title function_">toString</span>() <span class="comment">// &quot;Symbol(bar)&quot;</span></span><br></pre></td></tr></table></figure><ul><li>æƒ³æ·±å…¥äº†è§£å¯ä»¥å»çœ‹é˜®ä¸€å³°è€å¸ˆçš„æ–‡ç« ï¼Œå†™çš„å¾ˆå¥½ï¼š<a href="https://es6.ruanyifeng.com/#docs/symbol">Symbol - ECMAScript 6å…¥é—¨ (ruanyifeng.com)</a></li></ul><h2 id="å¼•ç”¨æ•°æ®ç±»å‹"><a href="#å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹"></a>å¼•ç”¨æ•°æ®ç±»å‹</h2><p><strong>ç‰¹æ€§</strong></p><ul><li>å¼•ç”¨ç±»å‹æ­£åœ¨åˆ›å»ºæ—¶ä¼šåˆ†é…ä¸¤ä¸ªç©ºé—´<ul><li>ä¸€å—åœ¨ <strong>å †</strong>ä¸Šï¼Œå‚¨å­˜å¼•ç”¨ç±»å‹æœ¬èº«çš„æ•°æ®ï¼ˆå½“ç„¶æ•°æ®é‡ä¼šæ¯”è¾ƒå¤§ï¼‰</li><li>ä¸€å—åœ¨ <strong>æ ˆ</strong> ä¸Šï¼Œå‚¨å­˜å¯¹å †ä¸Šæ•°æ®çš„å¼•ç”¨ï¼ˆå­˜å‚¨å †ä¸Šçš„å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆï¼‰</li></ul></li><li>å¼•ç”¨ç±»å‹æ˜¯å¯å˜çš„ï¼šå³ <code>let a=&#123;&#125;; a.x=1;</code></li><li><code>function</code> å‚æ•°æ˜¯å€¼ä¼ é€’ï¼Œ<strong>ä¸èƒ½ä¿®æ”¹å¼•ç”¨</strong></li></ul><p><strong>åˆ¤æ–­</strong></p><ul><li>é€šè¿‡ <code>Object.prototype.toString.call</code> æ£€æµ‹æœ€ä¸ºç²¾å‡†</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">function</span> (<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> b = []</span><br><span class="line"><span class="keyword">let</span> c = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(a) <span class="comment">// [object Function]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(b) <span class="comment">// [object Array]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(c) <span class="comment">// [object Object]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> a <span class="comment">// function</span></span><br><span class="line"><span class="keyword">typeof</span> b <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span> c <span class="comment">// object</span></span><br></pre></td></tr></table></figure><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><ul><li>JSä¸‡ç‰©çš†å¯¹è±¡</li><li>JavaScript æä¾›å¤šä¸ªå†…å»ºå¯¹è±¡ï¼Œæ¯”å¦‚ Stringã€Dateã€Array ç­‰ç­‰ã€‚ å¯¹è±¡åªæ˜¯å¸¦æœ‰å±æ€§å’Œæ–¹æ³•çš„ç‰¹æ®Šæ•°æ®ç±»å‹ã€‚<ul><li>å¸ƒå°”å‹å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</li><li>æ•°å­—å‹å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</li><li>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡</li><li>æ—¥æœŸæ˜¯ä¸€ä¸ªå¯¹è±¡</li><li>æ•°å­¦å’Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡</li><li>æ•°ç»„æ˜¯ä¸€ä¸ªå¯¹è±¡</li><li>ç”šè‡³å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> x2 = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br><span class="line"><span class="comment">// åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±» ä½¿ç”¨typeofåˆ¤ä¸ºobject</span></span><br><span class="line"><span class="keyword">let</span> x3 = <span class="keyword">new</span> <span class="title class_">String</span>()</span><br><span class="line"><span class="keyword">let</span> x4 = <span class="keyword">new</span> <span class="title class_">Number</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> x1 <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> x2 <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> x3 <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> x4 <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><ul><li>å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡</li><li>å‡½æ•°ä¹Ÿæ˜¯åŠŸèƒ½ä»£ç å—,ä¸€ä¸ªå°é—­åŒºé—´çŸ­å°çš„è„šæœ¬,å¦‚æœå¤šæ¬¡ä½¿ç”¨åŒä¸€æ®µä»£ç ,å°±å¯ä»¥æŠŠå®ƒå°è£…æˆä¸€ä¸ªå‡½æ•°,å…è®¸åœ¨ä»£ç é‡Œéšè°ƒéšç”¨,åˆ©ç”¨å‡½</li><li>æ•°å°è£…æ¥é¿å…é‡å¤é”®å…¥å¤§é‡ç›¸åŒçš„å†…å®¹,ä¸è¿‡å‡½æ•°çš„çœŸæ­£å¨åŠ›åœ¨äºä¼ å‚çš„èƒ½åŠ›,å¯ä»¥æŠŠä¸åŒçš„æ•°æ®ä¼ é€’ç»™å®ƒä»¬,ä½¿ç”¨è¿™äº›æ•°æ®å»å®Œæˆé¢„å®šçš„æ“ä½œ</li><li>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘,æ˜¯å¯¹è±¡,æ˜¯å€¼,å¯ä»¥å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡,æ•°ç»„æˆ–è€…å¯¹è±¡ä¸­</li><li>å‡½æ•°å¯ä»¥ä¼ é€’ç»™å‡½æ•°,å¹¶ç”±å‡½æ•°è¿”å›,å‡½æ•°æ‹¥æœ‰å±æ€§</li><li>å‡½æ•°æ€»æœ‰è¿”å›å€¼(æ¢å¥è¯è¯´å°±æ˜¯æœ‰returnè¯­å¥,å½“ç„¶æ„é€ å™¨å‡½æ•°é™¤å¤–,å› ä¸ºå®ƒé»˜è®¤ä¼šè¿”å›æ„é€ å™¨å‡½æ•°è°ƒç”¨,å½“æ„é€ å‡½æ•°çš„è°ƒç”¨æ‰§è¡Œæ—¶,ä¼šæ˜¾ç¤ºçš„è¿”å›è¿”å›)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> funA = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆ‘æ˜¯åŒ¿åå‡½æ•°ä¿å­˜åœ¨å˜é‡funAä¸­&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> funB = [<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆ‘æ˜¯åŒ¿åå‡½æ•°ä¿å­˜åœ¨æ•°ç»„funBä¸­&quot;</span>);</span><br><span class="line">&#125;]</span><br><span class="line"><span class="keyword">var</span> funC = &#123;</span><br><span class="line">     <span class="attr">method</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆ‘æ˜¯åŒ¿åå‡½æ•°ä¿å­˜åœ¨å¯¹è±¡funCä¸­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‡½æ•°çš„è°ƒç”¨</span></span><br><span class="line"><span class="title function_">funA</span>();     <span class="comment">// æ™®é€šå‡½æ•°çš„è°ƒç”¨</span></span><br><span class="line">funB[<span class="number">0</span>]();  <span class="comment">// å‡½æ•°å­˜å…¥æ•°ç»„ä¸­çš„è°ƒç”¨</span></span><br><span class="line">funC.<span class="title function_">method</span>(); <span class="comment">// å¯¹è±¡è°ƒç”¨æ–¹æ³•çš„ä½¿ç”¨</span></span><br></pre></td></tr></table></figure><blockquote><p>â­ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©è¯·ç»™æˆ‘ç‚¹ä¸ªèµå§</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> æ•°æ®ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è·¨åŸŸã€‘ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³è·¨åŸŸè®¾ç½®cookieé—®é¢˜ï¼</title>
      <link href="/2023/01/08/CookieCORS/"/>
      <url>/2023/01/08/CookieCORS/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³è·¨åŸŸè®¾ç½®cookieé—®é¢˜ï¼"><a href="#ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³è·¨åŸŸè®¾ç½®cookieé—®é¢˜ï¼" class="headerlink" title="ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³è·¨åŸŸè®¾ç½®cookieé—®é¢˜ï¼"></a>ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³è·¨åŸŸè®¾ç½®cookieé—®é¢˜ï¼</h1><blockquote><p>å¤§å®¶å¥½æˆ‘æ˜¯é›ªäºº~~â›„</p><p>ä¹‹å‰åšé¡¹ç›®çš„æ—¶å€™å‘ç°åç«¯ä¼ è¿‡æ¥çš„ SetCookie ä¸èƒ½æ­£å¸¸åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚</p><p>æ˜¯å› ä¸ºè°·æ­Œæµè§ˆå™¨æ–°ç‰ˆæœ¬Chrome 80å°†Cookieçš„SameSiteå±æ€§é»˜è®¤å€¼ç”±Noneå˜ä¸ºLaxã€‚</p><p>æ¥ä¸‹æ¥å¸¦å¤§å®¶è§£å†³è¯¥é—®é¢˜ã€‚</p></blockquote><h2 id="åŸç†è®²è§£"><a href="#åŸç†è®²è§£" class="headerlink" title="åŸç†è®²è§£"></a>åŸç†è®²è§£</h2><ul><li>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Cookieæœ‰ä»¥ä¸‹å±æ€§</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20230108222229187.png" alt="image-20230108222229187"></p><blockquote><p><strong>Cookieå±æ€§</strong></p><p><strong>åç§°</strong>ï¼šCookieçš„nameã€‚</p><p><strong>å€¼</strong>ï¼šCookieçš„valueã€‚</p><p><strong>Domain</strong>ï¼š Cookieçš„åŸŸã€‚å¦‚æœè®¾æˆxxx.com(ä¸€çº§åŸŸå)ï¼Œé‚£ä¹ˆå­åŸŸåx.xxx.com(äºŒçº§åŸŸå)ï¼Œéƒ½å¯ä»¥ä½¿ç”¨xxx.comçš„Cookieã€‚</p><p><strong>Path</strong>ï¼šCookieçš„è·¯å¾„ã€‚å¦‚æœè®¾ä¸º&#x2F;ï¼Œåˆ™åŒåŸŸåå…¨éƒ¨è·¯å¾„å‡å¯ä½¿ç”¨è¯¥Cookieã€‚å¦‚æœè®¾ä¸º&#x2F;xxx&#x2F;ï¼Œåˆ™åªæœ‰è·¯å¾„ä¸º&#x2F;xxx&#x2F;å¯ä»¥ä½¿ç”¨è¯¥Cookieã€‚</p><p><strong>Expires &#x2F; Max-Age</strong>ï¼šCookieçš„è¶…æ—¶æ—¶é—´ã€‚å¦‚æœå€¼ä¸ºæ—¶é—´ï¼Œåˆ™åœ¨åˆ°è¾¾æŒ‡å®šæ—¶é—´åCookieå¤±æ•ˆã€‚å¦‚æœå€¼ä¸ºSession(ä¼šè¯)ï¼ŒCookieä¼šåŒSessionä¸€èµ·å¤±æ•ˆï¼Œå½“æ•´ä¸ªæµè§ˆå™¨å…³é—­çš„æ—¶å€™Cookieå¤±æ•ˆã€‚</p><p><strong>Size</strong>ï¼šCookieçš„å¤§å°ã€‚</p><p><strong>HttpOnly</strong>ï¼šå€¼ä¸ºtrueæ—¶ï¼ŒCookieåªä¼šåœ¨Httpè¯·æ±‚å¤´ä¸­å­˜åœ¨ï¼Œä¸èƒ½é€šè¿‡doucment.cookie(JavaScript)è®¿é—®Cookieã€‚</p><p><strong>Secure</strong>ï¼šå€¼ä¸ºtrueæ—¶ï¼Œåªèƒ½é€šè¿‡httpsæ¥ä¼ è¾“Cookieã€‚</p><p><strong>SameSite</strong>ï¼š</p><ul><li>å€¼ä¸ºStrictï¼Œå®Œå…¨ç¦æ­¢ç¬¬ä¸‰æ–¹Cookieï¼Œè·¨ç«™æ—¶æ— æ³•ä½¿ç”¨Cookieã€‚</li><li>å€¼ä¸ºLaxï¼Œå…è®¸åœ¨è·¨ç«™æ—¶ä½¿ç”¨Getè¯·æ±‚æºå¸¦Cookieï¼Œä¸‹é¢æœ‰ä¸€ä¸ªè¡¨æ ¼ä»‹ç»Laxçš„Cookieä½¿ç”¨æƒ…å†µã€‚</li><li>å€¼ä¸ºNoneï¼Œå…è®¸è·¨ç«™è·¨åŸŸä½¿ç”¨Cookieï¼Œå‰ææ˜¯å°†Secureå±æ€§è®¾ç½®ä¸ºtrueã€‚</li></ul><p><strong>Priority</strong> ï¼šCookieçš„ä¼˜å…ˆçº§ã€‚å€¼ä¸ºLow&#x2F;Medium&#x2F;Highï¼Œå½“Cookieæ•°é‡è¶…å‡ºæ—¶ï¼Œä½ä¼˜å…ˆçº§çš„Cookieä¼šè¢«ä¼˜å…ˆæ¸…é™¤ã€‚</p></blockquote><ul><li><p><strong>è¿˜éœ€è¦äº†è§£ä¸¤ä¸ªæ¦‚å¿µ</strong>ï¼š</p><ul><li>è·¨ç«™ï¼šä¸¤ä¸ªåŸŸåä¸å±äºåŒç«™ï¼ˆåŸŸå-ä¸»æœºå&#x2F;IPç›¸åŒï¼Œåè®®ç›¸åŒï¼‰ã€‚</li><li>è·¨åŸŸï¼šä¸¤ä¸ªåŸŸåä¸å±äºåŒæºï¼ˆåŸŸå-ä¸»æœºå&#x2F;IPç›¸åŒï¼Œç«¯å£å·ç›¸åŒï¼Œåè®®ç›¸åŒï¼‰ã€‚</li></ul></li><li><p><strong>å¹¶ä¸”</strong>è°·æ­Œæµè§ˆå™¨æ–°ç‰ˆæœ¬Chrome 80å°†Cookieçš„SameSiteå±æ€§é»˜è®¤å€¼<strong>ç”±Noneå˜ä¸ºLax</strong>ã€‚</p></li></ul><p><strong>è¿™ä¸‹å°±å¾ˆæ¸…æ¥šæ˜äº†äº†ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ol><li>å°†Cookieçš„SameSiteå€¼è®¾ä¸ºNoneï¼ŒSecureå€¼æ”¹ä¸ºtrueï¼Œå¹¶ä¸”å‡çº§ä¸ºhttpsï¼Œæˆ‘ä»¬å°±å¯ä»¥è·¨åŸŸä½¿ç”¨Cookieã€‚</li><li>å°†Cookieçš„SameSiteå€¼è®¾ä¸ºLax&#x2F;Strictï¼Œå¹¶ä¸”å°†å‰åç«¯éƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åŒä¸€ç«™ç‚¹ä½¿ç”¨Cookieã€‚</li></ol><ul><li><strong>æ³¨æ„</strong>ï¼š<ul><li><code>å¦‚æœæ˜¯æœ¬åœ°æµ‹è¯•æƒ³è¦å‰åç«¯å¯¹æ¥æˆ‘ä»¬å°±åªèƒ½ä½¿ç”¨æ–¹æ¡ˆä¸€äº†</code></li><li><code>ä¸¤ç§æ–¹æ¡ˆéœ€è¦å…ˆè§£å†³æµè§ˆå™¨åŒæºç­–ç•¥ä¹Ÿå°±æ˜¯è·¨åŸŸé—®é¢˜</code></li></ul></li></ul><h2 id="å‰ç«¯è®¾ç½®"><a href="#å‰ç«¯è®¾ç½®" class="headerlink" title="å‰ç«¯è®¾ç½®"></a>å‰ç«¯è®¾ç½®</h2><ul><li><strong>è¿™é‡Œä»¥vueçš„axiosä¸ºä¾‹</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">// åªéœ€è¦å°†axiosä¸­çš„å…¨å±€é»˜è®¤å±æ€§withCredentialsä¿®æ”¹ä¸ºtrueå³å¯</span></span><br><span class="line"><span class="comment">// åœ¨axioså‘é€è¯·æ±‚æ—¶ä¾¿ä¼šæºå¸¦Cookie</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">withCredentials</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="åç«¯è®¾ç½®"><a href="#åç«¯è®¾ç½®" class="headerlink" title="åç«¯è®¾ç½®"></a>åç«¯è®¾ç½®</h2><ul><li><strong>è¿™é‡Œä»¥Djangoä¸ºä¾‹</strong></li><li><strong>Djangoè·¨åŸŸé—®é¢˜è¯·å‚è€ƒå¦ä¸€ç¯‡æ–‡ç« </strong>ï¼š<a href="https://snowhouse.space/2022/12/12/Django-CORS/">https://snowhouse.space/2022/12/12/Django-CORS/</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬éœ€è¦ä¿®æ”¹ seeting.py ä¿®æ”¹é¡¹ç›®è®¾ç½®</span></span><br><span class="line"><span class="comment"># è®°å¾—å…ˆè®¾ç½®å…è®¸è®¿é—®çš„IP</span></span><br><span class="line">ALLOWED_HOSTS = [<span class="string">&#x27;*&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°±åƒæˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„ä¸€æ ·æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ¡ˆä¸€</span></span><br><span class="line"><span class="comment"># å°†sessionå±æ€§è®¾ç½®ä¸º secure</span></span><br><span class="line">SESSION_COOKIE_SECURE = <span class="literal">True</span></span><br><span class="line"><span class="comment"># è®¾ç½®cookieçš„samesiteå±æ€§ä¸ºNone</span></span><br><span class="line">SESSION_COOKIE_SAMESITE = <span class="string">&#x27;None&#x27;</span></span><br><span class="line"><span class="comment"># ä¸”å°†åè®®å‡çº§ä¸ºhttps</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ¡ˆäºŒ</span></span><br><span class="line"><span class="comment"># å‰åç«¯éƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨å³å¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®°å¾—å…ˆè§£å†³ajaxçš„è·¨åŸŸé—®é¢˜</span></span><br><span class="line"><span class="comment"># åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯</span></span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">True</span></span><br><span class="line">CORS_ALLOW_ALL_ORIGINS = <span class="literal">True</span></span><br><span class="line">CORS_ALLOW_HEADERS = (<span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>æ˜¯ä¸æ˜¯éå¸¸ç®€å•å‘¢ï¼Œä¸åŒçš„å‰åç«¯æ¡†æ¶æŒ‰ç…§åŸç†è§£å†³å³å¯ã€‚</p><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯è¯·ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ‘ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cookie </tag>
            
            <tag> è·¨åŸŸ </tag>
            
            <tag> Vue </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå¤§å­¦ç”Ÿçš„ä¸€å¹´åŠ | 2022å¹´åº¦æ€»ç»“</title>
      <link href="/2022/12/30/2022year/"/>
      <url>/2022/12/30/2022year/</url>
      
        <content type="html"><![CDATA[<h1 id="è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå¤§å­¦ç”Ÿçš„ä¸€å¹´åŠ-2022å¹´åº¦æ€»ç»“"><a href="#è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå¤§å­¦ç”Ÿçš„ä¸€å¹´åŠ-2022å¹´åº¦æ€»ç»“" class="headerlink" title="è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå¤§å­¦ç”Ÿçš„ä¸€å¹´åŠ | 2022å¹´åº¦æ€»ç»“"></a>è½¯ä»¶å·¥ç¨‹ä¸“ä¸šå¤§å­¦ç”Ÿçš„ä¸€å¹´åŠ | 2022å¹´åº¦æ€»ç»“</h1><blockquote><p>â›„hi~~å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é›ªäººï¼Œä¸çŸ¥ä¸è§‰é©¬ä¸Šå°±è¦2023å¹´äº†ï¼Œä»ä»Šå¹´å¼€å§‹ï¼Œå†³å®šæ¯ä¸€å¹´éƒ½è¦å†™ä¸€ç¯‡å¹´åº¦æ€»ç»“ï¼Œç”¨äºè®°å½•ä¸å›é¡¾è‡ªå·±çš„å­¦ä¹ å’Œç”Ÿæ´»è½¨è¿¹ã€‚</p></blockquote><p><strong>å­¦ä¹ å†…å®¹</strong>(è¿™ä¸€å¹´åŠå­¦äº†å“ªäº›æŠ€æœ¯)ï¼š</p><ul><li>è¯­è¨€åŸºç¡€ï¼šCè¯­è¨€åŸºç¡€ï¼ŒPythonåŸºç¡€ï¼ŒJavaåŸºç¡€ï¼ŒJavaScriptåŸºç¡€ï¼ŒTypeScriptåŸºç¡€</li><li>æ•°æ®åˆ†æï¼špandasï¼Œnumpyï¼Œmatplotlibï¼ˆå¾ˆä¹…æ²¡ç¢°è¿™äº›äº†ï¼Œå·²ç»å¿˜å…‰äº†ï¼‰</li><li>çˆ¬è™«ï¼šrequestsï¼ˆå­¦çš„å¾ˆåŸºç¡€ï¼Œå°±ä¼šç”¨ä¸ªæ­£åˆ™å’ŒXPathçˆ¬ä¸€äº›æ²¡æœ‰åŠ å¯†çš„ä¿¡æ¯ï¼‰</li><li>å‰ç«¯ä¸‰ä»¶å¥—ï¼šHTMLï¼ŒCSSï¼ŒJSï¼ˆpinkè€å¸ˆå¸¦æˆ‘å…¥é—¨ğŸ¤©ï¼Œé˜®ä¸€å³°çš„ES6å†™çš„å¾ˆæ£’ï¼‰</li><li>æ•°æ®åº“ï¼šMysql</li><li>åç«¯æ¡†æ¶ï¼šDjangoï¼ˆåŠå·¥å…·åº“django-cors-headersï¼Œdjangorestframeworkç­‰ï¼‰</li><li>å‰ç«¯æ¡†æ¶ï¼šVue2ï¼ŒVue3ï¼ˆåŠå·¥å…·åº“axiosï¼Œvuexï¼Œpiniaï¼Œelement-uiï¼Œeslintç­‰ï¼‰</li><li>å¾®ä¿¡å°ç¨‹åºï¼šåŸç”Ÿå¼€å‘</li><li>APPå¼€å‘ï¼šuni-appï¼ˆè·¨ç«¯å¼€å‘ï¼‰</li><li>ç®—æ³•ï¼šæ•°æ®ç»“æ„ï¼ˆè·Ÿéšã€Šä»£ç éšæƒ³å½•ã€‹ç”¨TSåˆ·leetcode ç›®å‰åˆ·åˆ°äº†è´ªå¿ƒç®—æ³•ï¼‰</li><li>æ‰“åŒ…å·¥å…·ï¼šWebPack5ï¼ŒViteï¼ˆäº†è§£çš„å¾ˆæµ…ï¼‰</li><li>é¡¹ç›®éƒ¨ç½²ï¼šNginxï¼Œå†…ç½‘ç©¿é€ï¼ŒæœåŠ¡å™¨æ“ä½œï¼ˆèƒ½è‡ªå·±éƒ¨ç½²ä¸€äº›å°é¡¹ç›®äº†ï¼‰</li><li>é¡¹ç›®åä½œï¼šGit</li></ul><p><strong>è¯ä¹¦</strong>ï¼š</p><ul><li>æ™®é€šè¯äºŒçº§ç”²ç­‰ï¼ˆå°è¯•æ€§çš„è€ƒäº†ä¸€ä¸‹ï¼Œä¸‡ä¸€æœ‰ç”¨å‘¢ï¼‰</li><li>CET4ï¼ˆå‹çº¿è¿‡çš„ï¼Œæˆ‘è‹±è¯­å¤ªå·®äº†ï¼‰</li></ul><p><strong>æ¯”èµ›</strong>ï¼š</p><ul><li>ä¸­å›½é«˜æ ¡è®¡ç®—æœºå¤§èµ›2022ç½‘ç»œæŠ€æœ¯æŒ‘æˆ˜èµ›è¥¿åŒ—èµ›åŒºä¸‰ç­‰å¥–ï¼ˆå¤§ä¸€æš‘å‡ç”¨Django+Vue2å†™çš„ä¸€ä¸ªåå°ç®¡ç†é¡¹ç›®ï¼‰</li></ul><h2 id="æŠ€æœ¯å†ç¨‹"><a href="#æŠ€æœ¯å†ç¨‹" class="headerlink" title="æŠ€æœ¯å†ç¨‹"></a>æŠ€æœ¯å†ç¨‹</h2><p>å¤§ä¸€ä¸Šçš„æ—¶å€™é›¶åŸºç¡€ï¼Œæˆ‘æœ‰ä¸€ä¸ªå ‚å“¥å’Œæˆ‘åŒä¸€ä¸ªä¸“ä¸šï¼Œå ‚å“¥æ¨èæˆ‘å»çœ‹ä¸€äº›Cè¯­è¨€çš„å…¥é—¨è¯¾ç¨‹ï¼Œä¸Šå­¦å‰å°±å…ˆå°è¯•æ€§çš„å­¦ä¹ äº†ä¸€äº›Cè¯­è¨€çŸ¥è¯†ï¼Œè¿˜æ˜¯éå¸¸å–œæ¬¢ç¼–ç¨‹çš„ã€‚è¿›å…¥å¤§å­¦åï¼ŒåŠ å…¥äº†ä¸€ä¸ªæŠ€æœ¯æ€§å­¦ä¹ ç»„ç»‡ï¼Œé‡åˆ°äº†éå¸¸å¤šçƒ­æƒ…çš„å­¦é•¿å­¦å§ï¼Œå¸¦ç€æˆ‘å­¦ä¹ Cè¯­è¨€ï¼Œéå¸¸æ„Ÿè°¢å„ä½å­¦é•¿å­¦å§ä»¬å¸¦æˆ‘å…¥é—¨ç¼–ç¨‹ğŸ¤—ã€‚Cè¯­è¨€åŸºç¡€å­¦å®Œä¹‹åï¼Œå°±è¦é€‰æ‹©ä¸€ä¸ªå­¦ä¹ æ–¹å‘ï¼Œå½“æ—¶å¬å®Œå­¦é•¿å­¦å§å¯¹äººå·¥æ™ºèƒ½çš„æè¿°ï¼Œå°±æŠ¥åäº†äººå·¥æ™ºèƒ½æ–¹å‘ï¼Œåœ¨å¤§ä¸€ä¸Šå­¦æœŸä»¥åŠå¯’å‡çš„æ—¶å€™å­¦ä¹ äº†PythonåŸºç¡€ï¼ŒMysqlæ•°æ®åº“ï¼Œçˆ¬è™«ï¼ŒDjangoâ€¦è™½ç„¶åªå­¦äº†ä¸€äº›çš®æ¯›ï¼Œä½†æ˜¯æ”¶è·å¾ˆå¤§ğŸ˜€ã€‚è‡ªå·±å¯¹å‰ç«¯å¾ˆæ„Ÿå…´è¶£ï¼Œå°±è‡ªä¸»å­¦ä¹ äº†å‰ç«¯ä¸‰ä»¶å¥—ï¼Œåœ¨å¤§ä¸€å¯’å‡çš„æ—¶å€™è¿˜è”åˆç»„ç»‡å†…å…¶ä»–æ–¹å‘çš„åŒå­¦å¼€å‘äº†ä¸€ä¸ªå°é¡¹ç›®ï¼ˆDjango+H5ï¼Œå‰åç«¯ä¸åˆ†ç¦»å®ç°ï¼‰ï¼Œå½“æ—¶çœŸçš„æ˜¯æˆå°±æ„Ÿæ»¡æ»¡ï¼Œåˆ©ç”¨è‡ªå·±æ‰€å­¦çš„çŸ¥è¯†å¼€å‘å‡ºäº†ç½‘ç«™ğŸ˜„ã€‚</p><p>å¤§ä¸€ä¸‹çš„æ—¶å€™å·²ç»æœ‰äº†è‡ªå·±çš„æƒ³æ³•ï¼Œå‘ç°è‡ªå·±å¯¹å‰ç«¯æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œç„¶åå°±å»è‡ªä¸»å­¦ä¹ äº†Vueæ¡†æ¶ï¼ŒçœŸçš„å¤ªå¥½ç”¨äº†ï¼Œæ…¢æ…¢çš„å°±çˆ±ä¸Šäº†å‰ç«¯ï¼Œå°±å»å­¦ä¹ æ›´å¤šç›¸å…³çš„çŸ¥è¯†axiosï¼Œvuexï¼Œelement-uiç­‰ã€‚è¿˜åœ¨å¤§ä¸€ä¸‹å¿«ç»“æŸçš„æ—¶å€™å­¦ä¹ äº†æ•°æ®åˆ†æä¸‰å‰‘å®¢pandasï¼Œnumpyå’Œmatplotlibï¼Œä½†æ˜¯ä¸æ˜¯å¾ˆå–œæ¬¢æ•°æ®åˆ†æï¼Œå­¦äº†ä¸€ç‚¹åŸºç¡€åå°±æ²¡æœ‰å‘æ·±å­¦ä¹ äº†ã€‚å¤§ä¸€æš‘å‡çš„æ—¶å€™æŠ¥åäº†ä¸€ä¸ªåº”ç”¨å‹çš„æ¯”èµ›ï¼Œå’Œå°ä¼™ä¼´ä»¬ä¸€èµ·åšäº†ä¸€ä¸ªåå°ç®¡ç†é¡¹ç›®ï¼ˆDjango+Vue2 ç†¬äº†å‡ ä¸ªå¤§å¤œğŸ¥ºï¼‰æœ€åè¿˜è·å¾—äº†çœä¸‰çº§åˆ«çš„å¥–é¡¹ï¼Œäººç”Ÿä¸­ç¬¬ä¸€ä¸ªæ¯”èµ›è·å¥–ğŸ˜€ï¼Œè¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221230231104095.png" alt="image-20221230231104095"></p><p>å¤§äºŒä¸Šåˆšå¼€å§‹çš„æ—¶å€™ï¼Œåˆ©ç”¨å¤§ä¸€æ‰€å­¦çš„çŸ¥è¯†ï¼Œè‡ªå·±ä»é›¶ä¸Šçº¿äº†ä¸€æ¬¾å±äºè‡ªå·±çš„åšå®¢ç½‘ç«™ã€Šé›ªäººçš„å°å±‹ã€‹ï¼ˆDjango+Vue2ï¼‰ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221230210918236.png" alt="image-20221230210918236"></p><p>å¦‚æœå¤§å®¶æ„Ÿå…´è¶£çš„è¯æˆ‘å†å•ç‹¬å†™ä¸€ç¯‡æ–‡ç« ä»‹ç»å§ï¼Œé¡¹ç›®ç¬¬ä¸€å¤©ä¸Šçº¿çš„æ—¶å€™çœŸçš„ç‰¹åˆ«çš„æ¿€åŠ¨ğŸ¤“ï¼ˆå›å¿†æ„Ÿçˆ†æ£šï¼‰ï¼ŒçœŸçš„å°±æ˜¯è‡ªå·±ä»é›¶ä¸Šçº¿ï¼Œä»æ— åˆ°æœ‰ã€‚è‡ªå·±å†™éœ€æ±‚åˆ†æï¼Œå‰ç«¯ï¼Œåç«¯ï¼Œéƒ¨ç½²ï¼Œè¿˜æœ‰ä¸€ä¸ªç®€é™‹çš„åå°ç®¡ç†ç³»ç»Ÿã€‚å†™å®Œè¿™ä¸ªé¡¹ç›®ä¹‹åå­¦åˆ°äº†å¾ˆå¤šï¼ŒæœåŠ¡å™¨ç›¸å…³çŸ¥è¯†çš„å¢é•¿ï¼Œå‰åç«¯å¼€å‘æŠ€æœ¯çš„ç²¾è¿›ï¼Œæé«˜äº†å¯¹ç¼–ç¨‹çš„å…´è¶£ï¼Œè¿˜å¯¼è‡´æˆ‘ç°åœ¨æ¯”è¾ƒå–œæ¬¢å†™åšå®¢ã€‚è¿™æ—¶å€™è‡ªå·±ç‰¹åˆ«å–œæ¬¢å‰ç«¯ï¼Œå†³å®šç»­ç²¾è¿›å‰ç«¯çš„æŠ€æœ¯ï¼Œå¼€å§‹å­¦ä¹ Vue3ï¼ŒTypeScriptï¼ŒPiniaï¼ŒESLintï¼ŒWebPackï¼Œé¡¹ç›®è§„èŒƒï¼Œå°è£…ç­‰å¤šç§æŠ€æœ¯ã€‚è¿˜æŠ½å‡ºæ—¶é—´å­¦ä¹ äº†æ•°æ®ç»“æ„ï¼Œå¼€å§‹è·Ÿéšã€Šä»£ç éšæƒ³å½•ã€‹ç”¨TSåˆ·leetcodeç®—æ³•é¢˜ã€‚å¤§äºŒå¯’å‡çš„æ—¶å€™æŠŠè‡ªå·±çš„åšå®¢æ”¹æˆäº†Hexoæ¡†æ¶Butterflyä¸»é¢˜ï¼ˆè‡ªå·±å†™å†…å®¹çš„ç¼ºé™·å¾ˆå¤šï¼Œä½†æ˜¯æ²¡æœ‰ç²¾åŠ›å»æ”¹è¿›äº†ï¼‰ã€‚æ€»çš„æ¥è¯´è¿˜æ˜¯åœ¨ä¸æ–­è¿›æ­¥çš„ï¼Œæœ‰éå¸¸å¤šçš„å­¦é•¿å­¦å§å¸®åŠ©äº†æˆ‘çš„å­¦ä¹ ï¼Œæ„Ÿè°¢æ¯ä¸€ä¸ªå¸®åŠ©è¿‡æˆ‘çš„äººï¼</p><h2 id="å­¦ä¸šå†ç¨‹"><a href="#å­¦ä¸šå†ç¨‹" class="headerlink" title="å­¦ä¸šå†ç¨‹"></a>å­¦ä¸šå†ç¨‹</h2><p>å¤§ä¸€çš„æˆ‘æ˜¯ä¹–å®å®ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æ˜¯æ¯ä¸€èŠ‚è¯¾éƒ½åœ¨è®¤çœŸå¬ï¼Œç”Ÿæ€•æ¼æ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œè¯¾åä½œä¸šä¹Ÿè®¤çœŸå®Œæˆã€‚æ…¢æ…¢çš„äº†è§£åˆ°ä¸€äº›è¯¾æ˜¯æ°´è¯¾ï¼Œå°±å¼€å§‹åœ¨æ°´è¯¾ä¸Šå­¦ä¹ å…¶ä»–å†…å®¹æˆ–è€…ç›´æ¥æ‘†çƒ‚ï¼Œä½†æ˜¯ä¸“ä¸šè¯¾å’Œä¸€äº›æ•°å­¦ç›¸å…³çš„é€šè¯†è¯¾è¿˜åœ¨å¬ã€‚æœ€åä¹Ÿæ˜¯å–å¾—äº†ä¸é”™çš„æˆç»©ï¼šä¸¤æ¬¡åŠ æƒå‰10%ï¼ˆè‡ªæˆ‘è®¤å¯ï¼‰ã€‚åˆ°äº†å¤§äºŒè¯¾ç¨‹è½¬ä¸ºçº¿ä¸Šï¼Œå»æ•™å®¤å¬ç½‘è¯¾ï¼Œåˆšå¼€å§‹è¿˜æ˜¯é€‰æ‹©æ€§çš„å»æ—·è¯¾ï¼Œæœ€åé€æ¸æ”¾è‚†ï¼Œå˜æˆäº†é€‰æ‹©æ€§çš„å»ä¸Šè¯¾ï¼Œå…¶ä½™æ—¶é—´åœ¨ è‡ªä¹ å®¤&#x2F;å®¿èˆ&#x2F;å›¾ä¹¦é¦† è‡ªå­¦ï¼ˆè€å¸ˆä»¬è®²çš„å¾ˆå¥½ï¼Œä½†æ˜¯ç›¸å¯¹æ¥è¯´æˆ‘æ›´å–œæ¬¢è‡ªå­¦ï¼‰ï¼Œè¯¾åä½œä¸šä¸æ˜¯æŠ„å°±æ˜¯ä¸å†™ã€‚æœ€ç»ˆé€‰æ‹©äº†é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼-&gt;è‡ªå­¦ï¼Œç½‘ç»œèµ„æºè¶Šæ¥è¶Šä¸°å¯Œï¼Œå¯ä»¥æ»¡è¶³æˆ‘å¤§éƒ¨åˆ†çš„éœ€æ±‚ï¼Œè¿˜å¯ä»¥è‡ªå·±å®‰æ’æ—¶é—´ã€‚è¿™ä¸ªè½¬å˜çœŸçš„ç‰¹åˆ«æç¬‘ğŸ¤¡ï¼Œå¤§ä¸€èˆå‹æ—·è¯¾çš„æ—¶å€™æˆ‘è¿˜åŠä»–ä»¬ä¸è¦æ—·è¯¾ï¼Œ<strong>å¤§ä¸€</strong>ï¼šæˆ‘ä»¬æ˜¯å­¦ç”Ÿï¼Œå­¦ç”Ÿæœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯å­¦ä¹ ï¼Œä½ ä¸å»æ•™å®¤å­¦ä¹ é‚£ä½ å»å¹²ä»€ä¹ˆå‘¢ã€‚<strong>å¤§äºŒ</strong>ï¼šğŸ•éƒ½ä¸å»ã€‚ä»æ— æ—·è¯¾è®°å½•åˆ°æ¯æ¬¡æŸ¥è¯¾æˆ‘éƒ½ä¸åœ¨ğŸ¤¡ğŸ¤¡ğŸ¤¡ï¼Œå¹³æ—¶åˆ†è‚¯å®šğŸ˜…ã€‚å¾ˆç¥å¥‡ï¼Œå¯¹å­¦æ ¡è¯¾ç¨‹çš„æ€åº¦çœŸçš„æ˜¯180åº¦å¤§è½¬å¼¯ã€‚</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/st.jpg" alt="st"></p><h2 id="ç”Ÿæ´»å†ç¨‹"><a href="#ç”Ÿæ´»å†ç¨‹" class="headerlink" title="ç”Ÿæ´»å†ç¨‹"></a>ç”Ÿæ´»å†ç¨‹</h2><p>æˆ‘è¿˜æ˜¯å¾ˆå–œæ¬¢ç©æ¸¸æˆçš„ï¼Œå¤§ä¸€å°è¯•è¿‡å„ç§ç±»å‹çš„æ¸¸æˆï¼Œsteamåº“ä¹Ÿæœ‰äºŒåå¤šæ¬¾æ¸¸æˆäº†ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†åœ¨åƒç°ğŸ¤¡ï¼Œä¸è¦ä¸Šå¤´ä¹±ä¹°ã€‚è·Ÿèˆå‹ç©çš„æœ€å¤šçš„æ˜¯ç‹è€…è£è€€å’Œè‹±é›„è”ç›Ÿï¼Œç»å¸¸æ”¾å‡å®¿èˆç†¬å¤œç‹è€…3v3ï¼ˆéå¸¸å¿«ä¹ï¼‰ï¼Œè”ç›Ÿä¹Ÿä»åˆšå¼€å§‹çš„å³¡è°·ç©å®¶å˜æˆå¤§ä¹±æ–—ç©å®¶ï¼ˆå‘ç°æ“ä½œè·Ÿä¸ä¸Šç°åœ¨ç©å®¶çš„å¹³å‡æ°´å¹³ï¼Œå³¡è°·è¾“å¤šèµ¢å°‘ï¼Œæœ€ååŠ å…¥äº†å¤§ä¹±æ–— éå¸¸å¥½ç©ğŸ‘ï¼‰ã€‚è¿˜æœ‰ä¸€æ®µæ—¶é—´éƒ½æ²‰è¿·äºåŸç¥æœ€åä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæ²¡ç©ä¸‹å»ğŸ˜‚ã€‚å¤§äºŒä¸Šçš„æ—¶å€™å› ä¸ºä½“è‚²é€‰è¯¾ï¼Œå®¿èˆæœ‰3ä¸ªäººé€‰äº†ç¯®çƒğŸ€ï¼Œå°±å¸¦ç€å¤§å®¶ä¸€èµ·ç»ƒï¼Œæˆ‘ä¹Ÿå»å°è¯•äº†ä¸€ä¸‹ï¼ˆé«˜ä¸­å°±æ‰“è¿‡å‡ æ¬¡ï¼‰ï¼Œç„¶åå°±ä¸Šå¤´äº†ï¼Œå®¿èˆå‡ ä¸ªäººç»å¸¸æ²¡è¯¾å°±å»ç»ƒçƒï¼Œå®¿èˆ3v3å“ˆå“ˆå“ˆã€‚æ¸¸æˆå’Œè¿åŠ¨è´¯ç©¿äº†æˆ‘çš„å¤§å­¦ç”Ÿæ´»ï¼Œå¿«ä¹ğŸ˜€ã€‚</p><ul><li>ä¸Šäº†å¤§å­¦æ”¹å˜çš„æœ€å½»åº•çš„å°±æ˜¯è‡ªå·±çš„ä½œæ¯ä¹ æƒ¯ï¼Œå˜æˆäº†å½»åº•çš„å¤œçŒ«å­ï¼Œå¾ˆå°‘12ç‚¹å‰ç¡è§‰ã€‚</li><li>å¤§ä¸€ä¸Šç¬¬ä¸€æ¬¡é¢åŸºç½‘å‹ï¼Œå½“æ—¶åœ¨çŸ¥ä¹ä¸Šé—®XXå­¦æ ¡XXä¸“ä¸šæ€ä¹ˆæ ·ï¼Œç»“æœç¢°åˆ°äº†ä¸€ä¸ªè¯¥æ ¡è¯¥ä¸“ä¸šçš„å­¦é•¿ï¼Œè·Ÿæˆ‘è¯´äº†å¾ˆå¤šï¼Œæœ€åæˆ‘å°±æ¥åˆ°äº†è¿™é‡Œã€‚ç›´æ¥é¢åŸºğŸ˜‚ï¼Œä¸€èµ·åƒäº†å‡ æ¬¡é¥­ï¼Œå¸®äº†æˆ‘å¾ˆå¤šï¼Œç»™äº†æˆ‘å¾ˆå¤šå»ºè®®ï¼Œæ„Ÿè°¢æ›¹å­¦é•¿ã€‚</li><li>å¤§ä¸€å‚åŠ äº†å­¦é™¢å†…çš„è‰ºæœ¯å›¢ï¼ˆä¼šä¸€ç‚¹é’¢ç´ï¼‰ï¼Œè·Ÿéšä¹é˜Ÿå‚åŠ äº†ä¸€äº›æ ¡å†…çš„å°å‹æ¼”å‡ºï¼Œäº«å—èˆå°ã€‚ç´æŠ€è¿˜æ˜¯æœ‰å¾ˆå¤§è¿›æ­¥çš„ğŸ‘ï¼Œä½†æ˜¯å¤§äºŒçš„æ—¶å€™ç«é€‰é˜Ÿé•¿å¤±è´¥å°±ç¦»å¼€äº†è‰ºæœ¯å›¢ï¼Œç•™ä¸‹äº†å¾ˆå¤šéš¾å¿˜çš„å›å¿†ã€‚</li><li>å¤§ä¸€æš‘å‡å‚åŠ äº†å­¦é™¢çš„ä¸‰ä¸‹ä¹¡ï¼Œå’Œæƒ³è±¡ä¸­çš„ä¸‰ä¸‹ä¹¡å·®åˆ«éå¸¸å¤§ï¼Œå†œæ‘çš„å˜åŒ–çœŸçš„å¾ˆå¤§ï¼Œä¹Ÿåœ¨è·Ÿéšæ—¶ä»£å‘å±•ã€‚</li><li>å¤§ä¸€æš‘å‡å¼€å§‹è€ƒé©¾ç…§ï¼Œç§‘ä¸€ç§‘äºŒä¸€æ¬¡è¿‡ï¼Œä½†æ˜¯é©¾æ ¡çš„æ•™å­¦åˆ¶åº¦éå¸¸ä¸å–œæ¬¢ï¼Œä¸€å¯¹å¤šï¼Œåˆ«äººç»ƒçš„æ—¶å€™è‡ªå·±åªèƒ½çœ‹ç€ï¼Œè¿˜æ˜¯å¤å¤©ï¼Œéå¸¸æŠ˜ç£¨ã€‚</li><li>å¤§äºŒä¸Šç”±äºğŸ˜·åŸå› ï¼Œä¸€ç›´åœ¨å­¦æ ¡é‡Œé¢æ²¡æœ‰å‡ºå»è¿‡ï¼Œä½†æ˜¯çˆ±ä¸Šäº†è¿åŠ¨ğŸƒâ€â™‚ï¸ã€‚</li></ul><h2 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h2><ul><li>åšæŒå†™åšå®¢å·²ç»ä¸¤ä¸ªå¤šæœˆäº†ï¼Œä¸€å…±å†™äº†25ç¯‡åšå®¢ï¼Œå‘å¸ƒåœ¨CSDNã€æ˜é‡‘ã€é˜¿é‡Œäº‘ã€åä¸ºäº‘ç­‰å¹³å°ã€‚</li><li>æ€»é˜…è¯»é‡æœ‰9000+ï¼Œé˜…è¯»é‡ä¸€èˆ¬ï¼Œæ˜å¹´ç»§ç»­åŠ æ²¹ï¼</li></ul><h2 id="bilibili"><a href="#bilibili" class="headerlink" title="bilibili"></a>bilibili</h2><ul><li>æ²¡æœ‰ä¸€å¤©ä¸çœ‹Bç«™ğŸ¤£</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/c1dcee5e8274ed44f9377614efbd498.jpg"></p><h2 id="ç½‘æ˜“äº‘"><a href="#ç½‘æ˜“äº‘" class="headerlink" title="ç½‘æ˜“äº‘"></a>ç½‘æ˜“äº‘</h2><ul><li>è¿˜æ˜¯çˆ±å¬åæ™¨å®‡</li><li>æ·±å¤œæ”¾æ­Œå¤§æ¦‚ç‡æ˜¯å¬æ­Œç¡ç€äº†ğŸ˜‚</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/dedc88ba66b080bc2efc5a64c7f2ff9.jpg" alt="dedc88ba66b080bc2efc5a64c7f2ff9"></p><h2 id="QQ"><a href="#QQ" class="headerlink" title="QQ"></a>QQ</h2><ul><li>å’±ä¹Ÿä¸çŸ¥é“ä¸ºå•¥QQæ‰èµ°è¿‡349å¤©ğŸ˜‚</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/57179df7a9b41e90395266548e75ef4.jpg" alt="57179df7a9b41e90395266548e75ef4"></p><h2 id="2023-Flag"><a href="#2023-Flag" class="headerlink" title="2023 Flag"></a>2023 Flag</h2><p><strong>ç»™æˆ‘çš„2023å®šå‡ ä¸ªç›®æ ‡ï¼</strong></p><p><strong>2023å¹´æˆ‘è¦</strong>ï¼š</p><ul><li>æ‹¿åˆ°å¤§å‚å®ä¹ offer</li><li>æ‹¿åˆ°å›½å®¶çº§å¥–é¡¹</li><li>æ‹¿åˆ°é©¾é©¶è¯</li><li>é€šè¿‡CET6</li><li>ä¸Šçº¿ä¸€ä¸ªå¼€æºé¡¹ç›®</li><li>æŒç»­è¾“å‡ºé«˜è´¨é‡åšæ–‡ï¼Œæ¯å‘¨è‡³å°‘æ›´ä¸€ç¯‡</li><li>LeetCodeå…¨å‹¤</li><li>ç¯®çƒåœºè½»æ¾è¿‡äºº</li></ul><p>æ„Ÿè§‰æ—¶é—´è¿‡çš„çœŸå¿«ï¼Œä¸çŸ¥ä¸è§‰æˆ‘éƒ½å¤§äºŒäº†ï¼Œåœ¨è¿™é‡Œæ„Ÿè°¢æ¯ä¸€ä¸ªå¸®åŠ©è¿‡æˆ‘çš„å°ä¼™ä¼´ï¼2022å¹´æˆ‘å¯¹è‡ªå·±çš„è¡¨ç°è¿˜æ˜¯å¾ˆæ»¡æ„çš„ï¼Œ2023ç»§ç»­åŠ æ²¹ï¼2022æ‹œæ‹œå•¦ãƒ¾(â€¢Ï‰â€¢&#96;)oã€‚</p><p>å¸Œæœ›æ–°çš„ä¸€å¹´ï¼Œå¤§å®¶éƒ½èƒ½æ›´å¥½ï¼åŠ æ²¹ï¼æ— é™è¿›æ­¥ï¼</p><p>ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼</p><blockquote><p>â›„éƒ½çœ‹åˆ°è¿™é‡Œäº†ä¸å¦¨ä¸ç‚¹ä¸ªèµå†èµ°ã€‚</p></blockquote><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/newyear.jpg" alt="newyear" style="zoom: 33%;" />]]></content>
      
      
      <categories>
          
          <category> å¹´åº¦æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´åº¦æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ElementUIã€‘Vue+ElementUIå¤šæ–‡ä»¶ä¸Šä¼ ï¼Œä¸€æ¬¡è¯·æ±‚ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼</title>
      <link href="/2022/12/15/ElementUIUploadFile/"/>
      <url>/2022/12/15/ElementUIUploadFile/</url>
      
        <content type="html"><![CDATA[<h1 id="Element-UI-Upload"><a href="#Element-UI-Upload" class="headerlink" title="Element UI Upload"></a>Element UI Upload</h1><blockquote><p>â­ä»Šå¤©æ•™å¤§å®¶ä½¿ç”¨ElementUIçš„è‡ªå®šä¹‰ä¸Šä¼ </p><p>â­è¯·æ±‚ä¸€æ¬¡ä¸Šä¼ å¤šå¼ å›¾ç‰‡</p></blockquote><blockquote><p>æœ€è¿‘å†™é¡¹ç›®çš„æ—¶å€™éœ€è¦ä¸€æ¬¡ä¸Šä¼ å¤šå¼ å›¾ç‰‡ï¼Œä½¿ç”¨ElementUI Uploadçš„æ—¶å€™å‘ç°</p><p>å¦‚æœæ˜¯é»˜è®¤æ–¹æ¡ˆï¼Œä¸Šä¼ å¤šå¼ å›¾ç‰‡å¹¶ä¸æ˜¯çœŸæ­£çš„ä¸€æ¬¡ä¸Šä¼ å¤šå¼ ï¼Œè€Œæ˜¯å‘é€å¤šæ¬¡è¯·æ±‚ï¼Œä¸€æ¬¡è¯·æ±‚æºå¸¦ä¸€å¼ å›¾ç‰‡</p><p>æ¥ä¸‹æ¥åˆ†äº«ä¸€ä¸‹æˆ‘çš„è§£å†³æ€è·¯</p></blockquote><ul><li>ElementUIç‰ˆæœ¬ï¼š2.15.9</li><li>Vueç‰ˆæœ¬ï¼š2.7.10</li></ul><h2 id="Htmléƒ¨åˆ†"><a href="#Htmléƒ¨åˆ†" class="headerlink" title="Htmléƒ¨åˆ†"></a>Htmléƒ¨åˆ†</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- éœ€è¦æºå¸¦ä»¥ä¸‹å‚æ•° --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ref ç”¨äºè·å–ç»„ä»¶è§¦å‘API --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- auto-upload å…³é—­è‡ªåŠ¨ä¸Šä¼  --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- http-request è®¾ç½®è‡ªå®šä¹‰ä¸Šä¼ çš„å‡½æ•° --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- on-change å›¾ç‰‡åˆ—è¡¨æ”¹å˜æ—¶è§¦å‘çš„å‡½æ•° --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- multiple å…è®¸ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-upload</span></span></span><br><span class="line"><span class="tag">           <span class="attr">ref</span>=<span class="string">&quot;upload&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:auto-upload</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:http-request</span>=<span class="string">&quot;uploadFile&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">:on-change</span>=<span class="string">&quot;changeFileLength&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">multiple</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-upload&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;el-upload__text&quot;</span>&gt;</span>ç‚¹å‡»ä¸Šä¼ æ–‡ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸Šä¼ æ—¶ç‚¹å‡»çš„æŒ‰é’® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;upload&quot;</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>ä¸Šä¼ æ–‡ä»¶<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JSéƒ¨åˆ†"><a href="#JSéƒ¨åˆ†" class="headerlink" title="JSéƒ¨åˆ†"></a>JSéƒ¨åˆ†</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;uploadCT&quot;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            <span class="comment">// ä¸Šä¼ æ–‡ä»¶çš„åˆ—è¡¨</span></span><br><span class="line">            <span class="attr">uploadFiles</span>: [],</span><br><span class="line">            <span class="comment">// ä¸Šä¼ æ–‡ä»¶çš„ä¸ªæ•°</span></span><br><span class="line">            <span class="attr">filesLength</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="comment">// ä¸Šä¼ éœ€è¦é™„å¸¦çš„ä¿¡æ¯</span></span><br><span class="line">            <span class="attr">info</span>:&#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="comment">// ä¿®æ”¹å½“å‰æ–‡ä»¶åˆ—è¡¨é•¿åº¦</span></span><br><span class="line">        <span class="title function_">changeFileLength</span>(<span class="params">file, fileList</span>)&#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">filesLength</span> = fileList.<span class="property">length</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨æˆ·ç‚¹å‡»ä¸Šä¼ è°ƒç”¨</span></span><br><span class="line">        <span class="keyword">async</span> <span class="title function_">upload</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="comment">// è§¦å‘ä¸Šä¼  è°ƒç”¨é…ç½® :http-request=&quot;uploadFile&quot;</span></span><br><span class="line">            <span class="comment">// å³è§¦å‘ uploadFileå‡½æ•°</span></span><br><span class="line">            <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">upload</span>.<span class="title function_">submit</span>();</span><br><span class="line">            <span class="comment">// ä¸Šä¼ å®Œæˆåæ‰§è¡Œçš„æ“ä½œ ...</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¯¥å‡½æ•°è¿˜æ˜¯ä¼šè¢«è°ƒç”¨å¤šæ¬¡</span></span><br><span class="line">        <span class="comment">// æ¯æ¬¡paramå‚æ•°ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">        <span class="title function_">uploadFile</span>(<span class="params">param</span>)&#123;</span><br><span class="line">            <span class="comment">// å°†æ–‡ä»¶åŠ å…¥éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">uploadFiles</span>.<span class="title function_">push</span>(param.<span class="property">file</span>)</span><br><span class="line">            <span class="comment">// å½“uploadFilesé•¿åº¦ç­‰äºç”¨æˆ·éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶æ•°æ—¶è¿›è¡Œä¸Šä¼ </span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">uploadFiles</span>.<span class="property">length</span> == <span class="variable language_">this</span>.<span class="property">filesLength</span>)&#123;</span><br><span class="line">                <span class="comment">// åˆ›å»ºFormDataä¸Šä¼ </span></span><br><span class="line">                <span class="keyword">let</span> fd = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span><br><span class="line">                <span class="comment">// å°†å…¨éƒ¨æ–‡ä»¶æ·»åŠ è‡³FormDataä¸­</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">uploadFiles</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">file</span> =&gt;</span> &#123;</span><br><span class="line">                    fd.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>, file)</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="comment">// å°†é™„åŠ ä¿¡æ¯æ·»åŠ è‡³FormData</span></span><br><span class="line">                fd.<span class="title function_">append</span>(<span class="string">&quot;id&quot;</span>, <span class="variable language_">this</span>.<span class="property">info</span>.<span class="property">id</span>)</span><br><span class="line">                fd.<span class="title function_">append</span>(<span class="string">&quot;name&quot;</span>, <span class="variable language_">this</span>.<span class="property">info</span>.<span class="property">name</span>)</span><br><span class="line">                <span class="comment">// é…ç½®è¯·æ±‚å¤´</span></span><br><span class="line">                <span class="keyword">const</span> config = &#123;</span><br><span class="line">                    <span class="attr">headers</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;multipart/form-data&quot;</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$axios</span>.<span class="title function_">post</span>(<span class="string">&quot;/upload/upload_CT/&quot;</span>, fd, config).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="comment">/*ä¸Šä¼ æˆåŠŸå¤„ç†*/</span></span><br><span class="line">                &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;<span class="comment">/*æŠ¥é”™å¤„ç†*/</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Vueç»„ä»¶å®Œæ•´ä»£ç "><a href="#Vueç»„ä»¶å®Œæ•´ä»£ç " class="headerlink" title="Vueç»„ä»¶å®Œæ•´ä»£ç "></a>Vueç»„ä»¶å®Œæ•´ä»£ç </h2><ul><li>è¯·æ ¹æ®å¦‚ä¸‹æ­¥éª¤é…ç½®<ol><li>é…ç½®uploadç»„ä»¶ä¸ä¸Šä¼ æ–‡ä»¶æŒ‰é’®</li><li>é…ç½®changeFileLengthå‡½æ•°</li><li>é…ç½®uploadå‡½æ•°</li><li>é…ç½®uploadFileå‡½æ•°</li></ol></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- éœ€è¦æºå¸¦ä»¥ä¸‹å‚æ•° --&gt;</span><br><span class="line">&lt;!-- ref ç”¨äºè·å–ç»„ä»¶è§¦å‘API --&gt;</span><br><span class="line">&lt;!-- auto-upload å…³é—­è‡ªåŠ¨ä¸Šä¼  --&gt;</span><br><span class="line">&lt;!-- http-request è®¾ç½®è‡ªå®šä¹‰ä¸Šä¼ çš„å‡½æ•° --&gt;</span><br><span class="line">&lt;!-- on-change å›¾ç‰‡åˆ—è¡¨æ”¹å˜æ—¶è§¦å‘çš„å‡½æ•° --&gt;</span><br><span class="line">&lt;!-- multiple å…è®¸ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ --&gt;</span><br><span class="line">&lt;el-upload</span><br><span class="line">           ref=&quot;upload&quot;</span><br><span class="line">           :auto-upload=&quot;false&quot;</span><br><span class="line">           :http-request=&quot;uploadFile&quot;</span><br><span class="line">           :on-change=&quot;changeFileLength&quot;</span><br><span class="line">           multiple&gt;</span><br><span class="line">    &lt;i class=&quot;el-icon-upload&quot;&gt;&lt;/i&gt;</span><br><span class="line">    &lt;div class=&quot;el-upload__text&quot;&gt;ç‚¹å‡»ä¸Šä¼ æ–‡ä»¶&lt;/div&gt;</span><br><span class="line">    &lt;/el-upload&gt;</span><br><span class="line">&lt;!-- ä¸Šä¼ æ—¶ç‚¹å‡»çš„æŒ‰é’® --&gt;</span><br><span class="line">&lt;el-button @click=&quot;upload&quot; type=&quot;success&quot;&gt;ä¸Šä¼ æ–‡ä»¶&lt;/el-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;uploadCT&quot;,</span><br><span class="line">        data()&#123;</span><br><span class="line">            return&#123;</span><br><span class="line">                // ä¸Šä¼ æ–‡ä»¶çš„åˆ—è¡¨</span><br><span class="line">                uploadFiles: [],</span><br><span class="line">                // ä¸Šä¼ æ–‡ä»¶çš„ä¸ªæ•°</span><br><span class="line">                filesLength: 0,</span><br><span class="line">                // ä¸Šä¼ éœ€è¦é™„å¸¦çš„ä¿¡æ¯</span><br><span class="line">                info:&#123;</span><br><span class="line">                    id:&quot;&quot;,</span><br><span class="line">                    name:&quot;&quot;,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        methods:&#123;</span><br><span class="line">            // ä¿®æ”¹å½“å‰æ–‡ä»¶åˆ—è¡¨é•¿åº¦</span><br><span class="line">            changeFileLength(file, fileList)&#123;</span><br><span class="line">                this.filesLength = fileList.length</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            // ç”¨æˆ·ç‚¹å‡»ä¸Šä¼ è°ƒç”¨</span><br><span class="line">            async upload()&#123;</span><br><span class="line">                // è§¦å‘ä¸Šä¼  è°ƒç”¨é…ç½® :http-request=&quot;uploadFile&quot;</span><br><span class="line">                // å³è§¦å‘ uploadFileå‡½æ•°</span><br><span class="line">                await this.$refs.upload.submit();</span><br><span class="line">                // ä¸Šä¼ å®Œæˆåæ‰§è¡Œçš„æ“ä½œ ...</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            // è¯¥å‡½æ•°è¿˜æ˜¯ä¼šè¢«è°ƒç”¨å¤šæ¬¡</span><br><span class="line">            // æ¯æ¬¡paramå‚æ•°ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">            uploadFile(param)&#123;</span><br><span class="line">                // å°†æ–‡ä»¶åŠ å…¥éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨</span><br><span class="line">                this.uploadFiles.push(param.file)</span><br><span class="line">                // å½“uploadFilesé•¿åº¦ç­‰äºç”¨æˆ·éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶æ•°æ—¶è¿›è¡Œä¸Šä¼ </span><br><span class="line">                if (this.uploadFiles.length == this.filesLength)&#123;</span><br><span class="line">                    // åˆ›å»ºFormDataä¸Šä¼ </span><br><span class="line">                    let fd = new FormData()</span><br><span class="line">                    // å°†å…¨éƒ¨æ–‡ä»¶æ·»åŠ è‡³FormDataä¸­</span><br><span class="line">                    this.uploadFiles.forEach(file =&gt; &#123;</span><br><span class="line">                        fd.append(&#x27;file&#x27;, file)</span><br><span class="line">                    &#125;)</span><br><span class="line">                    // å°†é™„åŠ ä¿¡æ¯æ·»åŠ è‡³FormData</span><br><span class="line">                    fd.append(&quot;id&quot;, this.info.id)</span><br><span class="line">                    fd.append(&quot;name&quot;, this.info.name)</span><br><span class="line">                    // é…ç½®è¯·æ±‚å¤´</span><br><span class="line">                    const config = &#123;</span><br><span class="line">                        headers: &#123;</span><br><span class="line">                            &quot;Content-Type&quot;: &quot;multipart/form-data&quot;,</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    // ä¸Šä¼ æ–‡ä»¶</span><br><span class="line">                    this.$axios.post(&quot;/upload/upload_CT/&quot;, fd, config).then(res =&gt; &#123;</span><br><span class="line">                        /*ä¸Šä¼ æˆåŠŸå¤„ç†*/</span><br><span class="line">                    &#125;).catch(err =&gt; &#123;/*æŠ¥é”™å¤„ç†*/&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ç»„ä»¶å°±æ˜¯å…¨éƒ¨é…ç½®å†…å®¹å•¦â›„</p><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©è¯·ç»™æˆ‘ç‚¹ä¸ªèµğŸ‘</p><p>å¦‚æœæœ‰ä»»ä½•é—®é¢˜è¯·ç•™è¨€ç»™æˆ‘ğŸ˜€</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> ElementUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€DRFã€‘å¿«é€Ÿå…¥é—¨ï¼Œä½¿ç”¨DjangoRestFrameWorkè‡ªåŠ¨ç”ŸæˆRestfulé£æ ¼çš„å¢åˆ æ”¹æŸ¥ä»£ç å’Œæ¥å£æ–‡æ¡£ï¼</title>
      <link href="/2022/12/12/DRF/"/>
      <url>/2022/12/12/DRF/</url>
      
        <content type="html"><![CDATA[<h1 id="DRFå¿«é€Ÿå…¥é—¨"><a href="#DRFå¿«é€Ÿå…¥é—¨" class="headerlink" title="DRFå¿«é€Ÿå…¥é—¨"></a>DRFå¿«é€Ÿå…¥é—¨</h1><blockquote><p>â­éƒ½å¿«2023å¹´äº†è¿˜æœ‰äººè‡ªå·±å†™å¢åˆ æ”¹æŸ¥ä»£ç ï¼Ÿï¼ï¼Ÿæˆ‘ä¸å…è®¸è¿˜ä¸ä¼šæœ‰äººç”¨DRFï¼</p><p>â­ä»Šå¤©æ•™å¤§å®¶ä½¿ç”¨ Django Rest FrameWork è‡ªåŠ¨ç”ŸæˆRestfulé£æ ¼çš„å¢åˆ æ”¹æŸ¥ä»£ç å’Œæ¥å£æ–‡æ¡£ï¼</p><p>â­å‚è€ƒæ–‡ç« ï¼š<a href="https://www.django-rest-framework.org/">é¦–é¡µ - Django REST æ¡†æ¶ (django-rest-framework.org)</a>ï¼ˆå®˜æ–¹æ–‡æ¡£ï¼‰</p></blockquote><ul><li><strong>æ³¨æ„ï¼š</strong><ul><li>Django Rest FrameWork æ˜¯åœ¨Djangoæ¡†æ¶ä¸‹ä½¿ç”¨</li><li>ä»¥ä¸‹å†…å®¹éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªDjangoé¡¹ç›®</li></ul></li><li><strong>ä»€ä¹ˆæ˜¯Restfulé£æ ¼ï¼š</strong><a href="https://restfulapi.cn/">RESTful API ä¸€ç§æµè¡Œçš„ API è®¾è®¡é£æ ¼</a></li></ul><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>Rest FrameWork éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>Python ï¼ˆ3.6ï¼Œ 3.7ï¼Œ 3.8ï¼Œ 3.9ï¼Œ 3.10ï¼‰</li><li>Django ï¼ˆ2.2ï¼Œ 3.0ï¼Œ 3.1ï¼Œ 3.2ï¼Œ 4.0ï¼Œ 4.1ï¼‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…Django</span></span><br><span class="line">pip install django</span><br><span class="line"><span class="comment"># å®‰è£…DRF</span></span><br><span class="line">pip install djangorestframework</span><br><span class="line"><span class="comment"># å®‰è£…è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£éœ€è¦çš„ä¾èµ–</span></span><br><span class="line">pip install coreapi</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h3><ul><li>ä»¥ä¸‹å†…å®¹åœ¨é¡¹ç›®ä¸­ <code>seeting.py</code> é…ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">&#x27;rest_framework&#x27;</span>, <span class="comment"># æ³¨å†Œapp</span></span><br><span class="line">    <span class="string">&#x27;myapp&#x27;</span>, <span class="comment"># è®°å¾—æ³¨å†Œè‡ªå·±çš„app</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®åº“è®°å¾—è‡ªè¡Œé…ç½®</span></span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;***&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;***&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;***&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h2><h3 id="é…ç½®models"><a href="#é…ç½®models" class="headerlink" title="é…ç½®models"></a>é…ç½®models</h3><ul><li>ä»¥ä¸‹å†…å®¹åœ¨ app ä¸­çš„ <code>models.py</code> é…ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(models.Model):</span><br><span class="line">    <span class="comment"># æ¨¡å‹å­—æ®µ</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">100</span>, verbose_name=<span class="string">&quot;å§“å&quot;</span>)</span><br><span class="line">    sex = models.BooleanField(default=<span class="number">1</span>, verbose_name=<span class="string">&quot;æ€§åˆ«&quot;</span>)</span><br><span class="line">    age = models.IntegerField(verbose_name=<span class="string">&quot;å¹´é¾„&quot;</span>)</span><br><span class="line">    class_null = models.CharField(max_length=<span class="number">5</span>, verbose_name=<span class="string">&quot;ç­çº§ç¼–å·&quot;</span>)</span><br><span class="line">    description = models.TextField(max_length=<span class="number">1000</span>, verbose_name=<span class="string">&quot;ä¸ªæ€§ç­¾å&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        <span class="comment"># è¡¨åç§°</span></span><br><span class="line">        db_table = <span class="string">&quot;tb_student&quot;</span></span><br><span class="line">        <span class="comment"># è¡¨è¯¦ç»†åç§°</span></span><br><span class="line">        verbose_name_plural = <span class="string">&quot;å­¦ç”Ÿ&quot;</span></span><br></pre></td></tr></table></figure><ul><li>é…ç½®å¥½modelsè®°å¾—è¿ç§»æ•°æ®åº“</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><h3 id="é…ç½®serializers"><a href="#é…ç½®serializers" class="headerlink" title="é…ç½®serializers"></a>é…ç½®serializers</h3><ul><li>ä»¥ä¸‹å†…å®¹åœ¨appä¸­æ–°å»º <code>serializers.py</code> ç›®å½•</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> app.models <span class="keyword">import</span> Student</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºåºåˆ—åŒ–å™¨ç±»ï¼Œå›å¤´ä¼šåœ¨è¯•å›¾ä¸­è¢«è°ƒç”¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StudentModelSerializer</span>(serializers.ModelSerializer):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        <span class="comment"># å¯¼å…¥å¯¹åº”models</span></span><br><span class="line">        model = Student</span><br><span class="line">        <span class="comment"># é€‰æ‹©ç”Ÿæˆå¯¹åº”modelså…¨éƒ¨çš„å­—æ®µ</span></span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        <span class="comment"># å¯é€‰æ‹©æ“ä½œçš„å­—æ®µ</span></span><br><span class="line">        <span class="comment"># fields = [&#x27;name&#x27;, &#x27;sex&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®view"><a href="#é…ç½®view" class="headerlink" title="é…ç½®view"></a>é…ç½®view</h3><ul><li>ä»¥ä¸‹å†…å®¹åœ¨appä¸­ <code>views.py</code> é…ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.viewsets <span class="keyword">import</span> ModelViewSet</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Student</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> StudentModelSerializer</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆä»£ç  é…ç½®ä¸€ä¸ªç±»å³å¯</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StudentViewSet</span>(<span class="title class_ inherited__">ModelViewSet</span>):</span><br><span class="line">    queryset = Student.objects.<span class="built_in">all</span>()</span><br><span class="line">    serializer_class = StudentModelSerializer</span><br></pre></td></tr></table></figure><h3 id="é…ç½®url"><a href="#é…ç½®url" class="headerlink" title="é…ç½®url"></a>é…ç½®url</h3><ul><li>ä»¥ä¸‹å†…å®¹åœ¨appç›®å½•ä¸‹ <code>urls.py</code> é…ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"><span class="keyword">from</span> rest_framework.routers <span class="keyword">import</span> DefaultRouter</span><br><span class="line"><span class="keyword">from</span> rest_framework.documentation <span class="keyword">import</span> include_docs_urls</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·¯ç”±åˆ—è¡¨</span></span><br><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># é…ç½®apiæ–‡æ¡£è·¯ç”± titleé…ç½®APIæ–‡æ¡£çš„æ ‡é¢˜</span></span><br><span class="line">    path(<span class="string">&#x27;docs/&#x27;</span>, include_docs_urls(title=<span class="string">&#x27;API document&#x27;</span>)),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">router = DefaultRouter()  <span class="comment"># å¯ä»¥å¤„ç†è§†å›¾çš„è·¯ç”±å™¨</span></span><br><span class="line">router.register(<span class="string">&#x27;students&#x27;</span>, views.StudentViewSet)  <span class="comment"># å‘è·¯ç”±å™¨ä¸­æ³¨å†Œè§†å›¾é›†</span></span><br><span class="line"></span><br><span class="line">urlpatterns += router.urls  <span class="comment"># å°†è·¯ç”±å™¨ä¸­çš„æ‰€ä»¥è·¯ç”±ä¿¡æ¯è¿½åˆ°åˆ°djangoçš„è·¯ç”±åˆ—è¡¨ä¸­</span></span><br></pre></td></tr></table></figure><ul><li>ä»¥ä¸‹å†…å®¹åœ¨é¡¹ç›®ç›®å½•ä¸‹ <code>urls.py</code> é…ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"><span class="keyword">from</span> app <span class="keyword">import</span> urls</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;stu/&#x27;</span>, include(urls)),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="é…ç½®seetings"><a href="#é…ç½®seetings" class="headerlink" title="é…ç½®seetings"></a>é…ç½®seetings</h3><ul><li>ä»¥ä¸‹å†…å®¹åœ¨é¡¹ç›®ç›®å½•ä¸‹ <code>seetings.py</code> é…ç½®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®é»˜è®¤APIæ–‡æ¡£</span></span><br><span class="line">REST_FRAMEWORK = &#123;</span><br><span class="line">    <span class="comment"># coreapiæ¥å£æ–‡æ¡£</span></span><br><span class="line">    <span class="string">&#x27;DEFAULT_SCHEMA_CLASS&#x27;</span>: <span class="string">&#x27;rest_framework.schemas.AutoSchema&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥å¯åŠ¨é¡¹ç›®å°±å¯ç”¨è®¿é—®å•¦</span></span><br><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure><ul><li><a href="http://127.0.0.1:8000/stu/">http://127.0.0.1:8000/stu/</a> è®¿é—®apirootç•Œé¢</li><li><a href="http://127.0.0.1:8000/stu/students/">http://127.0.0.1:8000/stu/students/</a> è®¿é—®å¯¹æ•°æ®åº“å­¦ç”Ÿçš„æ“ä½œç•Œé¢</li><li><a href="http://127.0.0.1:8000/stu/docs/">http://127.0.0.1:8000/stu/docs/</a> è®¿é—®æ¥å£æ–‡æ¡£</li></ul><p><strong>é¡µé¢é¢„è§ˆï¼š</strong></p><ul><li><p>æ¥å£æ–‡æ¡£</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221207224034322.png" alt="image-20221207224034322"></p></li><li><p>apiç®¡ç†é¡µé¢</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221207224128557.png" alt="image-20221207224128557"></p></li></ul><blockquote><p>â­ä»¥ä¸Šå°±æ˜¯ä¸€äº›åŸºç¡€çš„é…ç½®å†…å®¹å•¦ï¼åŸºç¡€çš„CURDä»£ç å·²ç»ç”Ÿæˆå®Œæ¯•ï¼</p><p>â­å½“ç„¶DRFè¿˜å¯ä»¥é…ç½®çš„ä¸œè¥¿éå¸¸å¤š JWTï¼Œåˆ†é¡µâ€¦ <strong>ï¼ˆä¹‹åçš„æ–‡ç« ä¼šä»‹ç»åˆ°ï¼‰</strong></p><p>â­ä»¥ä¸Šå†…å®¹åªæ˜¯å¿«é€Ÿçš„é…ç½® å…¨é¢APIè¯·æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.django-rest-framework.org/">é¦–é¡µ - Django REST æ¡†æ¶ (django-rest-framework.org)</a></p><p>â­å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©è¯·ç»™æˆ‘ç‚¹ä¸ªèµå§</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
            <tag> DjangoRestFrameWork </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Djangoè·¨åŸŸã€‘ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³Djangoè·¨åŸŸé—®é¢˜ï¼</title>
      <link href="/2022/12/12/Django-CORS/"/>
      <url>/2022/12/12/Django-CORS/</url>
      
        <content type="html"><![CDATA[<h1 id="Djangoè§£å†³è·¨åŸŸ"><a href="#Djangoè§£å†³è·¨åŸŸ" class="headerlink" title="Djangoè§£å†³è·¨åŸŸ"></a>Djangoè§£å†³è·¨åŸŸ</h1><blockquote><p>â­è¿˜æœ‰äººä¸ä¼šç”¨Djangoé…ç½®CORSï¼Ÿ</p><p>â­è€—æ—¶3600ç§’æ•´ç†çš„èµ„æ–™ç›´æ¥æ‹¿èµ°ï¼ä¸€ç¯‡æ–‡ç« å½»åº•è§£å†³Djangoè·¨åŸŸé—®é¢˜ï¼</p><p>â­æœ¬æ–‡åŒ…å«ä»¥ä¸‹å†…å®¹ï¼šDjangoè§£å†³è·¨åŸŸé—®é¢˜ï¼ŒDjangoè§£å†³è·¨åŸŸæºå¸¦Cookieé—®é¢˜ç­‰</p><p>â­å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pypi.org/project/django-cors-headers/">Django-cors-headers Â·çš®çš® (pypi.org)</a> æœ€å…¨é¢çš„é…ç½®æ¨èå¤§å®¶å‰å¾€å®˜ç½‘å­¦ä¹ </p></blockquote><ul><li><strong>CORSï¼ŒCross-Origin Resource Sharingï¼Œæ˜¯ä¸€ä¸ªæ–°çš„ W3C æ ‡å‡†ï¼Œå®ƒæ–°å¢çš„ä¸€ç»„HTTPé¦–éƒ¨å­—æ®µï¼Œå…è®¸æœåŠ¡ç«¯å…¶å£°æ˜å“ªäº›æºç«™æœ‰æƒé™è®¿é—®å“ªäº›èµ„æºã€‚æ¢è¨€ä¹‹ï¼Œå®ƒå…è®¸æµè§ˆå™¨å‘å£°æ˜äº† CORS çš„è·¨åŸŸæœåŠ¡å™¨ï¼Œå‘å‡º XMLHttpReuest è¯·æ±‚ï¼Œä»è€Œå…‹æœ Ajax åªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚åœ¨æˆ‘ä»¬çš„djangoæ¡†æ¶ä¸­å°±æ˜¯åˆ©ç”¨CORSæ¥è§£å†³è·¨åŸŸè¯·æ±‚çš„é—®é¢˜ã€‚</strong></li><li>CORSè¯¦ç»†ä»‹ç»ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">è·¨æºèµ„æºå…±äº«ï¼ˆCORSï¼‰ - HTTP | MDN (mozilla.org)</a></li></ul><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><h3 id="1-å®‰è£…ä¾èµ–"><a href="#1-å®‰è£…ä¾èµ–" class="headerlink" title="1.å®‰è£…ä¾èµ–"></a>1.å®‰è£…ä¾èµ–</h3><p>é¡¹ç›®ä¸»é¡µï¼š<a href="https://github.com/adamchainz/django-cors-headers">adamchainz&#x2F;django-cors-headersï¼šDjango åº”ç”¨ç¨‹åºï¼Œç”¨äºå¤„ç†è·¨åŸŸèµ„æºå…±äº« ï¼ˆCORSï¼‰ æ‰€éœ€çš„æœåŠ¡å™¨æ ‡å¤´ (github.com)</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-cors-headers</span><br></pre></td></tr></table></figure><h3 id="2-ä¿®æ”¹è®¾ç½®"><a href="#2-ä¿®æ”¹è®¾ç½®" class="headerlink" title="2.ä¿®æ”¹è®¾ç½®"></a>2.ä¿®æ”¹è®¾ç½®</h3><ul><li>ä¿®æ”¹Djangoé¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„ setting.py æ–‡ä»¶</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®°å¾—ä¿®æ”¹å…è®¸è®¿é—®çš„IP</span></span><br><span class="line">ALLOWED_HOSTS = [<span class="string">&#x27;*&#x27;</span>] <span class="comment"># å…è®¸å…¨éƒ¨IPè®¿é—®é¡¹ç›®</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># setting.py ä¿®æ”¹ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;corsheaders&#x27;</span>, <span class="comment"># æ³¨å†Œapp corsheaders</span></span><br><span class="line">    <span class="string">&#x27;app01&#x27;</span>,<span class="comment"># ä½ çš„app</span></span><br><span class="line">]</span><br><span class="line">MIDDLEWARE = [</span><br><span class="line">    <span class="string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;corsheaders.middleware.CorsMiddleware&#x27;</span>, <span class="comment"># åŠ å…¥ä¸­é—´é”® ä½ç½®å¿…é¡»åœ¨è¿™é‡Œ ä¸èƒ½åœ¨å…¶ä»–ä½ç½®</span></span><br><span class="line">    <span class="string">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,</span><br><span class="line">    <span class="comment"># &#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;, å¦‚æœä½ çš„é¡¹ç›®æ²¡æœ‰è€ƒè™‘åˆ° csrf ç½‘ç»œæ”»å‡»,å¯æ³¨é‡Šæ‰,å¦åˆ™ä¼šæŠ¥é”™æ²¡æœ‰ä¼ é€’ csrf cookie</span></span><br><span class="line">    <span class="string">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ setting.py æœ«å°¾æ·»åŠ ä»¥ä¸‹è®¾ç½®</span></span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">True</span></span><br><span class="line">CORS_ALLOW_ALL_ORIGINS = <span class="literal">True</span></span><br><span class="line">CORS_ALLOW_HEADERS = (<span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>é…ç½®å®Œä»¥ä¸Šå†…å®¹åDjangoå°±å¯ç”¨è·¨åŸŸè®¿é—®å•¦ï¼åŸºæœ¬éœ€æ±‚å°±å·²ç»è§£å†³å•¦ï¼</li><li>é…ç½®å†…å®¹è¯¦è§£è¯·å‘ä¸‹æŸ¥çœ‹å­¦ä¹ ï¼</li></ul><h2 id="è¯¦ç»†é…ç½®"><a href="#è¯¦ç»†é…ç½®" class="headerlink" title="è¯¦ç»†é…ç½®"></a>è¯¦ç»†é…ç½®</h2><ul><li>ä»¥ä¸‹å†…å®¹å‡åœ¨ setting.py ä¸­é…ç½®</li><li>ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„ å…¨é¢çš„éœ€è¦å¤§å®¶å»å®˜æ–¹æ–‡æ¡£æŸ¥é˜…</li></ul><h3 id="é…ç½®å…è®¸è®¿é—®çš„åŸŸåç™½åå•"><a href="#é…ç½®å…è®¸è®¿é—®çš„åŸŸåç™½åå•" class="headerlink" title="é…ç½®å…è®¸è®¿é—®çš„åŸŸåç™½åå•"></a>é…ç½®å…è®¸è®¿é—®çš„åŸŸåç™½åå•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…è®¸æ‰€æœ‰ åŸŸå/IP è·¨åŸŸ</span></span><br><span class="line">CORS_ALLOW_ALL_ORIGINS = <span class="literal">True</span></span><br><span class="line"><span class="comment"># é…ç½®å¯è·¨åŸŸè®¿é—®çš„ åŸŸå/IP</span></span><br><span class="line">CORS_ALLOWED_ORIGINS = [</span><br><span class="line">    <span class="string">&#x27;127.0.0.1:8000&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;localhost:8080&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;myname.com&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"><span class="comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å…è®¸è®¿é—®çš„ åŸŸå/IP</span></span><br><span class="line">CORS_ALLOWED_ORIGIN_REGEXES = [</span><br><span class="line">    <span class="string">r&quot;^https://\w+\.example\.com$&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="é…ç½®å…è®¸çš„è·¨åŸŸè¯·æ±‚æ–¹å¼"><a href="#é…ç½®å…è®¸çš„è·¨åŸŸè¯·æ±‚æ–¹å¼" class="headerlink" title="é…ç½®å…è®¸çš„è·¨åŸŸè¯·æ±‚æ–¹å¼"></a>é…ç½®å…è®¸çš„è·¨åŸŸè¯·æ±‚æ–¹å¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®å…è®¸çš„è¯·æ±‚æ–¹å¼</span></span><br><span class="line">CORS_ALLOW_METHODS = [</span><br><span class="line">    <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;PUT&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;PATCH&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;DELETE&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;OPTIONS&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="é…ç½®å…è®¸çš„è¯·æ±‚å¤´"><a href="#é…ç½®å…è®¸çš„è¯·æ±‚å¤´" class="headerlink" title="é…ç½®å…è®¸çš„è¯·æ±‚å¤´"></a>é…ç½®å…è®¸çš„è¯·æ±‚å¤´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CORS_ALLOW_HEADERS = [</span><br><span class="line"><span class="string">&quot;*&quot;</span>, <span class="comment"># * è¡¨ç¤ºå…è®¸å…¨éƒ¨è¯·æ±‚å¤´</span></span><br><span class="line">    <span class="string">&quot;accept&quot;</span>,</span><br><span class="line">    <span class="string">&quot;accept-encoding&quot;</span>,</span><br><span class="line">    <span class="string">&quot;authorization&quot;</span>,</span><br><span class="line">    <span class="string">&quot;content-type&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dnt&quot;</span>,</span><br><span class="line">    <span class="string">&quot;origin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;user-agent&quot;</span>,</span><br><span class="line">    <span class="string">&quot;x-csrftoken&quot;</span>,</span><br><span class="line">    <span class="string">&quot;x-requested-with&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="å…è®¸è·¨åŸŸè®¿é—®Cookie"><a href="#å…è®¸è·¨åŸŸè®¿é—®Cookie" class="headerlink" title="å…è®¸è·¨åŸŸè®¿é—®Cookie"></a>å…è®¸è·¨åŸŸè®¿é—®Cookie</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ”¹ä¸ºTrueå³ä¸ºå¯è·¨åŸŸè®¾ç½®Cookie</span></span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹</span></span><br><span class="line"><span class="comment"># chromeå‡çº§åˆ°80ç‰ˆæœ¬ä¹‹åï¼Œcookieçš„SameSiteå±æ€§é»˜è®¤å€¼ç”±Noneå˜ä¸ºLax</span></span><br><span class="line"><span class="comment"># ä¹Ÿå°±æ˜¯è¯´å…è®¸åŒç«™ç‚¹è·¨åŸŸ ä¸åŒç«™ç‚¹éœ€è¦ä¿®æ”¹é…ç½®ä¸º Noneï¼ˆéœ€è¦å°†Secureè®¾ç½®ä¸ºTrueï¼‰</span></span><br><span class="line"><span class="comment"># éœ€è¦å‰ç«¯ä¸åç«¯éƒ¨ç½²åœ¨ç»Ÿä¸€æœåŠ¡å™¨ä¸‹æ‰å¯è¿›è¡Œè·¨åŸŸcookieè®¾ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ€»ç»“ï¼šéœ€è¦è®¾ç½® samesite = noneã€secure = Trueï¼ˆä»£è¡¨å®‰å…¨ç¯å¢ƒ éœ€è¦ localhost æˆ– HTTPSï¼‰æ‰å¯è·¨ç«™ç‚¹è®¾ç½®cookie</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>Cookieå±æ€§</strong></p><p>keyï¼šé”®<br>valueï¼šå€¼<br>max_ageï¼šå¤šä¹…åè¿‡æœŸï¼Œæ—¶é—´ä¸ºç§’ï¼Œé»˜è®¤ä¸ºNoneï¼Œä¸´æ—¶cookieè®¾ç½®å³å…³é—­æµè§ˆå™¨å°±æ¶ˆå¤±<br>expiresï¼šè¿‡æœŸæ—¶é—´ï¼Œå…·ä½“æ—¶é—´<br>pathï¼šç”Ÿæ•ˆè·¯å¾„ï¼Œé»˜è®¤â€˜&#x2F;â€˜<br>domainï¼šç”Ÿæ•ˆçš„åŸŸåï¼Œä½ ç»‘å®šçš„åŸŸå<br>secureï¼šHTTPSä¼ è¾“æ—¶åº”è®¾ç½®ä¸ºtrueï¼Œé»˜è®¤ä¸ºfalse<br>httponlyï¼šå€¼åº”ç”¨äºhttpä¼ è¾“ï¼Œè¿™æ—¶JavaScriptæ— æ³•è·å–</p></blockquote><p><strong>SameSiteå±æ€§è¯¦è§£</strong></p><ul><li>Lax<ul><li>Cookies å…è®¸ä¸é¡¶çº§å¯¼èˆªä¸€èµ·å‘é€ï¼Œå¹¶å°†ä¸ç¬¬ä¸‰æ–¹ç½‘ç«™å‘èµ·çš„ GET è¯·æ±‚ä¸€èµ·å‘é€ã€‚è¿™æ˜¯æµè§ˆå™¨ä¸­çš„é»˜è®¤å€¼ã€‚</li></ul></li><li>Strict<ul><li>Cookies åªä¼šåœ¨ç¬¬ä¸€æ–¹ä¸Šä¸‹æ–‡ä¸­å‘é€ï¼Œä¸ä¼šä¸ç¬¬ä¸‰æ–¹ç½‘ç«™å‘èµ·çš„è¯·æ±‚ä¸€èµ·å‘é€ã€‚</li></ul></li><li>None<ul><li>Cookie å°†åœ¨æ‰€æœ‰ä¸Šä¸‹æ–‡ä¸­å‘é€ï¼Œå³å…è®¸è·¨ç«™å‘é€ã€‚</li></ul></li></ul><h4 id="é…ç½®çš„ä»‹ç»"><a href="#é…ç½®çš„ä»‹ç»" class="headerlink" title="é…ç½®çš„ä»‹ç»"></a>é…ç½®çš„ä»‹ç»</h4><ul><li><strong>Djangoç‰ˆæœ¬é«˜äº2.1ï¼š</strong>ç›´æ¥è®¾ç½®å³å¯</li><li><strong>å¦‚æœDJangoç‰ˆæœ¬ä½äº2.1ï¼š</strong>éœ€è¦ä¸‹è½½ django-cookie-samesite å†è®¾ç½®</li><li><strong>å…¶ä»–è¯¦ç»†Cookieé…ç½®å†…å®¹è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://docs.djangoproject.com/zh-hans/4.1/ref/settings/#std-setting-SESSION_COOKIE_SAMESITE">é…ç½® | Django æ–‡æ¡£ | Django (djangoproject.com)</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥ä¸‹å†…å®¹å‡åœ¨ setting.py é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†sessionå±æ€§è®¾ç½®ä¸º secure</span></span><br><span class="line">SESSION_COOKIE_SECURE = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®set_cookieçš„samesiteå±æ€§</span></span><br><span class="line">SESSION_COOKIE_SAMESITE = <span class="string">&#x27;None&#x27;</span></span><br><span class="line">SESSION_COOKIE_SAMESITE = <span class="string">&#x27;Lax&#x27;</span></span><br><span class="line">SESSION_COOKIE_SAMESITE = <span class="string">&#x27;Strict&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä½¿ç”¨CORSçš„URL"><a href="#é…ç½®ä½¿ç”¨CORSçš„URL" class="headerlink" title="é…ç½®ä½¿ç”¨CORSçš„URL"></a>é…ç½®ä½¿ç”¨CORSçš„URL</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®Djangoé¡¹ç›®ä¸­å“ªäº›URLä½¿ç”¨CORSè¿›è¡Œè·¨åŸŸ</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸º r&#x27;^.*$&#x27;ï¼Œå³åŒ¹é…æ‰€æœ‰ URL</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ¡ˆä¾‹ä¸º /api/*** å‡å¯è¿›è¡Œè·¨åŸŸè®¿é—®</span></span><br><span class="line">CORS_URLS_REGEX = <span class="string">r&quot;^/api/.*$&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ‘å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©è¯·ç»™æˆ‘ç‚¹ä¸ªèµå§</p><p>â¤å…³æ³¨æˆ‘æŸ¥çœ‹æ›´å¤šæŠ€æœ¯åˆ†äº«æ–‡ç«  Django+Vue å…¨æ ˆ</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¨åŸŸ </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å›¾åºŠæ­å»ºã€‘è…¾è®¯äº‘COS+PicGo+Typoraå›¾åºŠæ­å»º</title>
      <link href="/2022/12/12/COS-PicGo/"/>
      <url>/2022/12/12/COS-PicGo/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€å›¾åºŠæ­å»ºã€‘è…¾è®¯äº‘COS-PicGo-Typoraå›¾åºŠæ­å»º"><a href="#ã€å›¾åºŠæ­å»ºã€‘è…¾è®¯äº‘COS-PicGo-Typoraå›¾åºŠæ­å»º" class="headerlink" title="ã€å›¾åºŠæ­å»ºã€‘è…¾è®¯äº‘COS+PicGo+Typoraå›¾åºŠæ­å»º"></a>ã€å›¾åºŠæ­å»ºã€‘è…¾è®¯äº‘COS+PicGo+Typoraå›¾åºŠæ­å»º</h1><blockquote><p>ğŸ¥‡ä»Šå¤©æ‰‹æŠŠæ‰‹æ•™å¤§å®¶é…ç½®ä¸€ä¸ªå±äºè‡ªå·±çš„å›¾åºŠ</p><p>ğŸ¥ˆè®©å¤§å®¶å‘å¸ƒåœ¨ç½‘ç»œä¸­çš„åšå®¢å›¾ç‰‡ä¹Ÿå¯ä»¥è¢«è®¿é—®</p><p>ğŸ¥‰<strong>ä¿å§†çº§æ•™å­¦ åŒ…æ•™åŒ…ä¼šï¼</strong></p></blockquote><h2 id="è…¾è®¯äº‘COS"><a href="#è…¾è®¯äº‘COS" class="headerlink" title="è…¾è®¯äº‘COS"></a>è…¾è®¯äº‘COS</h2><h3 id="1-å¼€é€šCOS"><a href="#1-å¼€é€šCOS" class="headerlink" title="1.å¼€é€šCOS"></a>1.å¼€é€šCOS</h3><ul><li>è¿›å…¥è…¾è®¯äº‘å®˜ç½‘æ§åˆ¶å°æœç´¢å¯¹è±¡å­˜å‚¨ <a href="https://cloud.tencent.com/">è…¾è®¯äº‘ äº§ä¸šæ™ºå˜Â·äº‘å¯æœªæ¥ - è…¾è®¯ (tencent.com)</a></li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124191352792.png" alt="image-20221124191352792"></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124191459755.png" alt="image-20221124191459755"></p><ul><li><strong>æœªå¼€é€šä¼šæç¤ºå¼€é€š</strong> ç›´æ¥æŒ‰ç…§è¦æ±‚è¿›è¡Œå¼€é€šå³å¯</li></ul><h3 id="2-åˆ›å»ºå­˜å‚¨æ¡¶"><a href="#2-åˆ›å»ºå­˜å‚¨æ¡¶" class="headerlink" title="2.åˆ›å»ºå­˜å‚¨æ¡¶"></a>2.åˆ›å»ºå­˜å‚¨æ¡¶</h3><ul><li><strong>å¼€é€šååˆ›å»ºå­˜å‚¨æ¡¶</strong></li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124191642175.png" alt="image-20221124191642175"></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124191954458.png" alt="image-20221124191954458"></p><ul><li>é«˜çº§å¯é€‰é…ç½®<strong>é»˜è®¤å³å¯</strong></li><li>é…ç½®å¥½ä¹‹ååˆ›å»º</li></ul><h2 id="PicGo"><a href="#PicGo" class="headerlink" title="PicGo"></a>PicGo</h2><h3 id="1-ä¸‹è½½PicGo"><a href="#1-ä¸‹è½½PicGo" class="headerlink" title="1.ä¸‹è½½PicGo"></a>1.ä¸‹è½½PicGo</h3><ul><li><p>å‰å¾€å®˜ç½‘ä¸‹è½½ <a href="https://picgo.github.io/PicGo-Doc/zh/guide/#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85">PicGo is Here | PicGo</a> å¯é€‰å¤šç§æ–¹å¼</p></li><li><p>Git Hub ä¸‹è½½ <a href="https://github.com/Molunerfinn/PicGo/releases">https://github.com/Molunerfinn/PicGo/releases</a></p></li><li><p>åœ¨æ–‡æ¡£æœ«å°¾é€‰æ‹©å¯¹åº”ç‰ˆæœ¬ä¸‹è½½å³å¯</p></li><li><p><strong>ç‚¹å‡»ç›´æ¥ä¸‹è½½</strong> 2.3.1 ç‰ˆæœ¬ï¼š <a href="https://picgo-1251750343.cos.ap-chengdu.myqcloud.com/2.3.1/PicGo-Setup-2.3.1-x64.exe">PicGo-Setup-2.3.1-x64.exe</a></p></li><li><p>ä¼šæ˜¾ç¤ºè¯¥ç¨‹åºæœ‰é£é™© å¿½ç•¥é£é™©å®‰è£…å³å¯</p></li></ul><h3 id="2-é…ç½®PicGo"><a href="#2-é…ç½®PicGo" class="headerlink" title="2.é…ç½®PicGo"></a>2.é…ç½®PicGo</h3><ul><li><strong>è·å–è…¾è®¯äº‘COSå¯†é’¥</strong></li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124194012341.png" alt="image-20221124194012341"></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124194311482.png" alt="image-20221124194311482"></p><ul><li>åœ¨æ§åˆ¶å° <strong>å¯¹è±¡å­˜å‚¨</strong> ä¸­è·å–åŸºæœ¬ä¿¡æ¯</li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124194547555.png" alt="image-20221124194547555"></p><ul><li><strong>é…ç½® PicGo</strong></li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124194901056.png" alt="image-20221124194901056"></p><h2 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h2><h3 id="1-ä¸‹è½½Typora"><a href="#1-ä¸‹è½½Typora" class="headerlink" title="1.ä¸‹è½½Typora"></a>1.ä¸‹è½½Typora</h3><ul><li>å®˜ç½‘ä¸‹è½½å³å¯ <a href="https://typoraio.cn/">Typora å®˜æ–¹ä¸­æ–‡ç«™ (typoraio.cn)</a></li><li>Typoraæ”¶è´¹äº† å¤§å®¶è‡ªè¡Œå¯»æ‰¾ä¸‹è½½èµ„æºå³å¯</li></ul><h3 id="2-Typoraé…ç½®"><a href="#2-Typoraé…ç½®" class="headerlink" title="2.Typoraé…ç½®"></a>2.Typoraé…ç½®</h3><ul><li><strong>æ–‡ä»¶(F) -&gt; åå¥½è®¾ç½®</strong></li></ul><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20221124195423010.png" alt="image-20221124195423010"></p><blockquote><p>ğŸ…<strong>é…ç½®å®Œæ¯•ï¼</strong></p><p>ğŸ–<strong>å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ç»™æˆ‘ç‚¹ä¸ªèµå§ï¼</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è…¾è®¯äº‘ </tag>
            
            <tag> å¯¹è±¡å­˜å‚¨ </tag>
            
            <tag> PicGo </tag>
            
            <tag> Typora </tag>
            
            <tag> å›¾åºŠ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Vue3+TS+Viteã€‘ä½¿ç”¨Viteä¸TSæ„å»ºVue3é¡¹ç›®</title>
      <link href="/2022/12/12/Vue3-Ts-Vite/"/>
      <url>/2022/12/12/Vue3-Ts-Vite/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue3-Ts-Vite"><a href="#Vue3-Ts-Vite" class="headerlink" title="Vue3+Ts+Vite"></a>Vue3+Ts+Vite</h1><blockquote><p>ğŸ”ˆä»Šå¤©å­¦ä¹ ä¸€ä¸‹å¦‚ä½•åˆå§‹åŒ–ä¸€ä¸ª Vue3 + Ts + Vite çš„é¡¹ç›®</p><p>ğŸ”‰å­¦ä¹ åœ°å€ï¼š<a href="https://vitejs.cn/guide/">Viteä¸­æ–‡ç½‘</a></p><p>ğŸ”Šä¸æ—¶ä¿±è¿› å¼€å§‹ç”¨å…¨æ–°çš„æŠ€æœ¯</p><p>æœ¬æ–‡åŒ…å«ä»¥ä¸‹å†…å®¹ï¼šåŸºç¡€æ¡†æ¶çš„æ­å»ºï¼Œåˆ«åé…ç½®ï¼Œvue-routeré…ç½®ï¼Œpiniaé…ç½®ï¼Œaxiosé…ç½®ï¼ŒESLinté…ç½®ã€‚</p></blockquote><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Vite éœ€è¦ Node.js ç‰ˆæœ¬ &gt;= 12.0.0</span></span><br><span class="line">npm init vite@latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®ç›¸å…³é—®é¢˜è¿›è¡Œå›ç­”</span></span><br><span class="line"><span class="comment"># éœ€è¦é€‰æ‹© æ¡†æ¶ä»¥åŠä½¿ç”¨è¯­è¨€ é…ç½®é¡¹ç›®å</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨é™„åŠ å‘½ä»¤åˆ›å»ºæŒ‡å®šé¡¹ç›® æ— éœ€å†é€‰æ‹©</span></span><br><span class="line">npm init vite@latest vue-ts-viet-prj --template vue ts</span><br><span class="line"><span class="comment"># npm 7+, éœ€è¦é¢å¤–çš„åŒæ¨ªçº¿ï¼š</span></span><br><span class="line">npm init vite@latest my-vue-app -- --template vue ts</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> vite-project</span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment"># è¿è¡Œé¡¹ç›®</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h2 id="é…ç½®åˆ«å"><a href="#é…ç½®åˆ«å" class="headerlink" title="é…ç½®åˆ«å"></a>é…ç½®åˆ«å</h2><ul><li>ä¹ æƒ¯Vue2è„šæ‰‹æ¶ä¸­ç”¨ @ç¬¦å·æŒ‡å‘Srcçš„ä¹ æƒ¯äº† åœ¨Viteä¸­é…ç½®ä¸€ä¸‹</li><li>éœ€è¦ä¿®æ”¹ <code>vite.config.ts</code> <code>tsconfig.json</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// viet.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; resolve &#125; <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">    <span class="attr">plugins</span>: [<span class="title function_">vue</span>()],</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">alias</span>: &#123;</span><br><span class="line">            <span class="comment">// é…ç½®åˆ«åæŒ‡å‘srcç›®å½•</span></span><br><span class="line">            <span class="string">&quot;@&quot;</span>: <span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ä½¿ç”¨åˆ«åçš„æ–‡ä»¶åç¼€</span></span><br><span class="line">        <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.ts&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;useDefineForClassFields&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Node&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;jsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;preserve&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;resolveJsonModule&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;isolatedModules&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span> <span class="string">&quot;DOM&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;skipLibCheck&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;noEmit&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">// åŠ å…¥ä»¥ä¸‹é…ç½®é¡¹</span></span><br><span class="line">        <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.&quot;</span><span class="punctuation">,</span> <span class="comment">// ç”¨äºè®¾ç½®è§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºæœ¬ç›®å½•ï¼Œç›¸å¯¹æ¨¡å—ä¸ä¼šå—åˆ°baseUrlçš„å½±å“</span></span><br><span class="line">        <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">// ç”¨äºè®¾ç½®æ¨¡å—ååˆ°åŸºäºbaseUrlçš„è·¯å¾„æ˜ å°„</span></span><br><span class="line">            <span class="attr">&quot;@/*&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/*&quot;</span><span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/**/*.ts&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.d.ts&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.tsx&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.vue&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;references&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span> <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./tsconfig.node.json&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue-Router"></a>Vue-Router</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Vue-Router 4+ ç‰ˆæœ¬æ”¯æŒ Vue3</span></span><br><span class="line">npm install vue-router@4</span><br></pre></td></tr></table></figure><ul><li>æ–°å»º ç›®å½•&#x2F;æ–‡ä»¶å¤¹ <code>src/router/index.ts</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter,createWebHashHistory,<span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ ç±»å‹æ ¡éªŒ</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">RouteRecordRaw</span>[] = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;@/components/HelloWorld.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/logIn&quot;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;logIn&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;@/view/LogIn.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºrouter</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="comment">// é…ç½®ä¸ºHashæ¨¡å¼</span></span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    <span class="comment">// é…ç½®toures</span></span><br><span class="line">    routes,</span><br><span class="line">    <span class="comment">// è·¯ç”±è·³è½¬æ—¶è¿”å›é¡¶éƒ¨</span></span><br><span class="line">    scrollBehavior () &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="attr">top</span>: <span class="number">0</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å‰ç½®è·¯ç”±å®ˆå«</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®åç½®è·¯ç”±å®ˆå«</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, failure</span>) =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; router &#125;</span><br></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// å¼•å…¥router</span></span><br><span class="line"><span class="keyword">import</span> &#123; router &#125; <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½åˆ° Vue å®ä¾‹</span></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- App.vue --&gt;</span><br><span class="line">&lt;!-- è®°å¾—åœ¨App.vueä¸­æ·»åŠ  router-view --&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><h2 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia</span><br></pre></td></tr></table></figure><ul><li>æ–°å»º ç›®å½•&#x2F;æ–‡ä»¶ <code>src/store/index.ts</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *    1. å®šä¹‰å®¹å™¨å¹¶å¯¼å‡º</span></span><br><span class="line"><span class="comment"> *    2. ä½¿ç”¨å®¹å™¨ä¸­çš„state</span></span><br><span class="line"><span class="comment"> *    3. ä¿®æ”¹å®¹å™¨ä¸­çš„state</span></span><br><span class="line"><span class="comment"> *    4. ä½¿ç”¨å®¹å™¨ä¸­çš„action</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. å®šä¹‰å®¹å™¨å¹¶å¯¼å‡º</span></span><br><span class="line"><span class="comment"> * å‚æ•°ä¸€: å®¹å™¨ID, å”¯ä¸€, å°†æ¥ Pinia ä¼šæŠŠæ‰€æœ‰çš„å®¹å™¨æŒ‚è½½åˆ°æ ¹å®¹å™¨</span></span><br><span class="line"><span class="comment"> * å‚æ•°äºŒ: é€‰é¡¹å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * è¿”å›å€¼: å‡½æ•°, è°ƒç”¨çš„æ—¶å€™è¦ç©ºå‚è°ƒç”¨, è¿”å›å®¹å™¨å®ä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mainStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;main&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç±»ä¼¼ç»„ä»¶çš„ data, ç”¨äºå­˜å‚¨å…¨å±€çš„çš„çŠ¶æ€</span></span><br><span class="line"><span class="comment">     * æ³¨æ„:</span></span><br><span class="line"><span class="comment">     *    1.å¿…é¡»æ˜¯å‡½æ•°, ä¸ºäº†åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ—¶å€™é¿å…äº¤å‰è¯·æ±‚å¯¼è‡´çš„æ•°æ®äº¤å‰æ±¡æŸ“</span></span><br><span class="line"><span class="comment">     *    2.å¿…é¡»æ˜¯ç®­å¤´å‡½æ•°, ä¸ºäº†æ›´å¥½çš„ TS ç±»å‹æ¨å¯¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">state</span>: &#123;</span><br><span class="line">                <span class="attr">token</span>: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç±»ä¼¼ç»„ä»¶çš„ computed, ç”¨æ¥å°è£…è®¡ç®—å±æ€§, å…·æœ‰ç¼“å­˜ç‰¹æ€§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç±»ä¼¼ç»„ä»¶çš„ methods, å°è£…ä¸šåŠ¡é€»è¾‘, ä¿®æ”¹state</span></span><br><span class="line"><span class="comment">     * æ³¨æ„: é‡Œé¢çš„å‡½æ•°ä¸èƒ½å®šä¹‰æˆç®­å¤´å‡½æ•°(å‡½æ•°ä½“ä¸­ä¼šç”¨åˆ°this)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;createPinia&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="comment">// åˆ›å»º Pinia å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"><span class="comment">// åˆ›å»º Vue å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"><span class="comment">// æŒ‚è½½åˆ° Vue æ ¹å®ä¾‹</span></span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm insall axios</span><br></pre></td></tr></table></figure><ul><li>æ–°å»º ç›®å½•&#x2F;æ–‡ä»¶ <code>src/utils/request.ts</code> <code>src/api/xxx.ts</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// request.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥pinia</span></span><br><span class="line"><span class="keyword">import</span> &#123; mainStore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">mainStore</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºaxios</span></span><br><span class="line"><span class="keyword">const</span> $http = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®é»˜è®¤è¯·æ±‚åœ°å€</span></span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">    <span class="comment">//è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    <span class="attr">timeout</span>:<span class="number">5000</span>,</span><br><span class="line">    <span class="comment">//è®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded;charset=UTF-8&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">$http.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// éªŒè¯ token</span></span><br><span class="line">    <span class="keyword">const</span> token = store.<span class="property">state</span>.<span class="property">token</span>;</span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">headers</span>!= <span class="literal">undefined</span>) config.<span class="property">headers</span>.<span class="property">Authorization</span> = token</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">&#125;,<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å“åº”æ‹¦æˆª</span></span><br><span class="line">$http.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çŠ¶æ€ç ä¸º200æ­£å¸¸è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (res.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(res);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºå°è£…çš„axios</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> $http</span><br></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// api/user.ts</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/utils/request&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">login</span>(<span class="params">data: <span class="built_in">object</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/user/login&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        data</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getInfo</span>(<span class="params">token: <span class="built_in">object</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/user/info&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        <span class="attr">params</span>: &#123; token &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">logout</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/user/logout&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h2><p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š<a href="https://zhuanlan.zhihu.com/p/450993469">åœ¨ Vue3 + Vite + TS é¡¹ç›®ä¸­é…ç½® ESLintï¼Œè®© VSCode ç¼–è¾‘å™¨è‡ªåŠ¨ä¿®å¤é”™è¯¯ - çŸ¥ä¹ (zhihu.com)</a></p><ul><li>ä½¿ç”¨ESLintè¿›è¡Œä»£ç è§„èŒƒ ä¿å­˜å°±æ›´æ”¹ çœ‹èµ·æ¥å°±èˆ’æœå¤šäº†</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line"><span class="comment"># æŒ‡å®šä¸€ä¸‹ç‰ˆæœ¬å· ä¸ç„¶ä¼šæœ‰å¾ˆå¤šä¸å…¼å®¹ä»¥åŠå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜</span></span><br><span class="line">npm install eslint@7.2.0 eslint-plugin-vue@7.20.0 vue-eslint-parser @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-config-airbnb-base@14.2.1 eslint-plugin-import -D</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ  .eslintrc.js é…ç½®æ–‡ä»¶ æ‰‹åŠ¨æ·»åŠ å³å¯</li><li>å†™å…¥ä»¥ä¸‹ä»£ç </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">globals</span>: &#123;</span><br><span class="line">    <span class="attr">defineEmits</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="attr">defineProps</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:@typescript-eslint/recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;plugin:vue/vue3-recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;airbnb-base&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;@typescript-eslint/parser&#x27;</span>,</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="number">2020</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">  <span class="string">&#x27;no-debugger&#x27;</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;warn&#x27;</span> : <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨ debugger</span></span><br><span class="line">  <span class="string">&#x27;no-console&#x27;</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;warn&#x27;</span> : <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨ console</span></span><br><span class="line">  <span class="string">&#x27;no-bitwise&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨æŒ‰ä½è¿ç®—ç¬¦</span></span><br><span class="line">  <span class="string">&#x27;no-tabs&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨ tab</span></span><br><span class="line">  <span class="string">&#x27;array-element-newline&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;consistent&#x27;</span>], <span class="comment">// å¼ºåˆ¶æ•°ç»„å…ƒç´ é—´å‡ºç°æ¢è¡Œ</span></span><br><span class="line">  <span class="attr">indent</span>: [</span><br><span class="line">    <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">    <span class="number">2</span>,</span><br><span class="line">    &#123; <span class="title class_">MemberExpression</span>: <span class="number">0</span>, <span class="title class_">SwitchCase</span>: <span class="number">1</span>, <span class="attr">ignoredNodes</span>: [<span class="string">&#x27;TemplateLiteral&#x27;</span>] &#125;,</span><br><span class="line">  ], <span class="comment">// å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„ç¼©è¿›</span></span><br><span class="line">  <span class="attr">quotes</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;single&#x27;</span>], <span class="comment">// å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„åå‹¾å·ã€åŒå¼•å·æˆ–å•å¼•å·</span></span><br><span class="line">  <span class="string">&#x27;comma-dangle&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always-multiline&#x27;</span>], <span class="comment">// è¦æ±‚æˆ–ç¦æ­¢æœ«å°¾é€—å·</span></span><br><span class="line">  <span class="string">&#x27;object-curly-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>], <span class="comment">// å¼ºåˆ¶åœ¨å¤§æ‹¬å·ä¸­ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼</span></span><br><span class="line">  <span class="string">&#x27;max-len&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="number">120</span>], <span class="comment">// å¼ºåˆ¶ä¸€è¡Œçš„æœ€å¤§é•¿åº¦</span></span><br><span class="line">  <span class="string">&#x27;no-new&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢ä½¿ç”¨ new ä»¥é¿å…äº§ç”Ÿå‰¯ä½œç”¨</span></span><br><span class="line">  <span class="string">&#x27;linebreak-style&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„æ¢è¡Œé£æ ¼</span></span><br><span class="line">  <span class="string">&#x27;import/extensions&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¡®ä¿åœ¨å¯¼å…¥è·¯å¾„ä¸­ç»Ÿä¸€ä½¿ç”¨æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">  <span class="string">&#x27;eol-last&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚æˆ–ç¦æ­¢æ–‡ä»¶æœ«å°¾å­˜åœ¨ç©ºè¡Œ</span></span><br><span class="line">  <span class="string">&#x27;no-shadow&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢å˜é‡å£°æ˜ä¸å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡åŒå</span></span><br><span class="line">  <span class="string">&#x27;no-unused-vars&#x27;</span>: <span class="string">&#x27;warn&#x27;</span>, <span class="comment">// ç¦æ­¢å‡ºç°æœªä½¿ç”¨è¿‡çš„å˜é‡</span></span><br><span class="line">  <span class="string">&#x27;import/no-cycle&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢ä¸€ä¸ªæ¨¡å—å¯¼å…¥ä¸€ä¸ªæœ‰ä¾èµ–è·¯å¾„çš„æ¨¡å—å›åˆ°è‡ªå·±èº«ä¸Š</span></span><br><span class="line">  <span class="string">&#x27;arrow-parens&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚ç®­å¤´å‡½æ•°çš„å‚æ•°ä½¿ç”¨åœ†æ‹¬å·</span></span><br><span class="line">  <span class="attr">semi</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>], <span class="comment">// è¦æ±‚æˆ–ç¦æ­¢ä½¿ç”¨åˆ†å·ä»£æ›¿ ASI</span></span><br><span class="line">  <span class="attr">eqeqeq</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚ä½¿ç”¨ === å’Œ !==</span></span><br><span class="line">  <span class="string">&#x27;no-param-reassign&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢å¯¹ function çš„å‚æ•°è¿›è¡Œé‡æ–°èµ‹å€¼</span></span><br><span class="line">  <span class="string">&#x27;import/prefer-default-export&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// å¦‚æœæ¨¡å—åªè¾“å…¥ä¸€ä¸ªåå­—ï¼Œåˆ™å€¾å‘äºé»˜è®¤è¾“å‡º</span></span><br><span class="line">  <span class="string">&#x27;no-use-before-define&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢åœ¨å˜é‡å®šä¹‰ä¹‹å‰ä½¿ç”¨å®ƒä»¬ï¼Œåˆ™å€¾å‘äºé»˜è®¤è¾“å‡º</span></span><br><span class="line">  <span class="string">&#x27;no-continue&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨ continue è¯­å¥</span></span><br><span class="line">  <span class="string">&#x27;prefer-destructuring&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ä¼˜å…ˆä½¿ç”¨æ•°ç»„å’Œå¯¹è±¡è§£æ„</span></span><br><span class="line">  <span class="string">&#x27;no-plusplus&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨ä¸€å…ƒæ“ä½œç¬¦ ++ å’Œ --</span></span><br><span class="line">  <span class="string">&#x27;prefer-const&#x27;</span>: <span class="string">&#x27;warn&#x27;</span>, <span class="comment">// è¦æ±‚ä½¿ç”¨ const å£°æ˜é‚£äº›å£°æ˜åä¸å†è¢«ä¿®æ”¹çš„å˜é‡</span></span><br><span class="line">  <span class="string">&#x27;global-require&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚ require() å‡ºç°åœ¨é¡¶å±‚æ¨¡å—ä½œç”¨åŸŸä¸­</span></span><br><span class="line">  <span class="string">&#x27;no-prototype-builtins&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢ç›´æ¥è°ƒç”¨ Object.prototypes çš„å†…ç½®å±æ€§</span></span><br><span class="line">  <span class="string">&#x27;consistent-return&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚ return è¯­å¥è¦ä¹ˆæ€»æ˜¯æŒ‡å®šè¿”å›çš„å€¼ï¼Œè¦ä¹ˆä¸æŒ‡å®š</span></span><br><span class="line">  <span class="string">&#x27;one-var-declaration-per-line&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚æˆ–ç¦æ­¢åœ¨å˜é‡å£°æ˜å‘¨å›´æ¢è¡Œ</span></span><br><span class="line">  <span class="string">&#x27;one-var&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// å¼ºåˆ¶å‡½æ•°ä¸­çš„å˜é‡è¦ä¹ˆä¸€èµ·å£°æ˜è¦ä¹ˆåˆ†å¼€å£°æ˜</span></span><br><span class="line">  <span class="string">&#x27;import/named&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¡®ä¿å‘½åå¯¼å…¥ä¸è¿œç¨‹æ–‡ä»¶ä¸­çš„å‘½åå¯¼å‡ºç›¸å¯¹åº”</span></span><br><span class="line">  <span class="string">&#x27;object-curly-newline&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// å¼ºåˆ¶å¤§æ‹¬å·å†…æ¢è¡Œç¬¦çš„ä¸€è‡´æ€§</span></span><br><span class="line">  <span class="string">&#x27;default-case&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚ switch è¯­å¥ä¸­æœ‰ default åˆ†æ”¯</span></span><br><span class="line">  <span class="string">&#x27;no-trailing-spaces&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨è¡Œå°¾ç©ºæ ¼</span></span><br><span class="line">  <span class="string">&#x27;func-names&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚æˆ–ç¦æ­¢ä½¿ç”¨å‘½åçš„ function è¡¨è¾¾å¼</span></span><br><span class="line">  <span class="attr">radix</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// å¼ºåˆ¶åœ¨ parseInt() ä½¿ç”¨åŸºæ•°å‚æ•°</span></span><br><span class="line">  <span class="string">&#x27;no-unused-expressions&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢å‡ºç°æœªä½¿ç”¨è¿‡çš„è¡¨è¾¾å¼</span></span><br><span class="line">  <span class="string">&#x27;no-underscore-dangle&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢æ ‡è¯†ç¬¦ä¸­æœ‰æ‚¬ç©ºä¸‹åˆ’çº¿</span></span><br><span class="line">  <span class="string">&#x27;no-nested-ternary&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨åµŒå¥—çš„ä¸‰å…ƒè¡¨è¾¾å¼</span></span><br><span class="line">  <span class="string">&#x27;no-restricted-syntax&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦ç”¨ç‰¹å®šçš„è¯­æ³•</span></span><br><span class="line">  <span class="string">&#x27;no-await-in-loop&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢åœ¨å¾ªç¯ä¸­å‡ºç° await</span></span><br><span class="line">  <span class="string">&#x27;import/no-extraneous-dependencies&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢ä½¿ç”¨å¤–éƒ¨åŒ…</span></span><br><span class="line">  <span class="string">&#x27;import/no-unresolved&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¡®ä¿å¯¼å…¥æŒ‡å‘ä¸€ä¸ªå¯ä»¥è§£æçš„æ–‡ä»¶/æ¨¡å—</span></span><br><span class="line">  <span class="string">&#x27;template-curly-spacing&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;always&#x27;</span>], <span class="comment">// è¦æ±‚æˆ–ç¦æ­¢æ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„åµŒå…¥è¡¨è¾¾å¼å‘¨å›´ç©ºæ ¼çš„ä½¿ç”¨</span></span><br><span class="line">  <span class="string">&#x27;@typescript-eslint/no-var-requires&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// é™¤importè¯­å¥å¤–ï¼Œç¦æ­¢ä½¿ç”¨requireè¯­å¥</span></span><br><span class="line">  <span class="string">&#x27;@typescript-eslint/no-empty-function&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ä¸å…è®¸ç©ºå‡½æ•°</span></span><br><span class="line">  <span class="string">&#x27;@typescript-eslint/no-explicit-any&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// ç¦æ­¢ä½¿ç”¨ any ç±»å‹</span></span><br><span class="line">  <span class="string">&#x27;guard-for-in&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚ for-in å¾ªç¯ä¸­æœ‰ä¸€ä¸ª if è¯­å¥</span></span><br><span class="line">  <span class="string">&#x27;class-methods-use-this&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// å¼ºåˆ¶ç±»æ–¹æ³•ä½¿ç”¨ this</span></span><br><span class="line">  <span class="string">&#x27;vue/html-indent&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="number">2</span>], <span class="comment">// åœ¨&lt;template&gt;ä¸­å¼ºåˆ¶ä¸€è‡´ç¼©è¿›</span></span><br><span class="line">  <span class="string">&#x27;vue/html-self-closing&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// æ‰§è¡Œè‡ªé—­åˆçš„é£æ ¼</span></span><br><span class="line">  <span class="string">&#x27;vue/max-attributes-per-line&#x27;</span>: [ <span class="comment">// å¼ºåˆ¶æ¯è¡Œå±æ€§çš„æœ€å¤§æ•°é‡</span></span><br><span class="line">    <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">singleline</span>: &#123;</span><br><span class="line">        <span class="attr">max</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">allowFirstLine</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">multiline</span>: &#123;</span><br><span class="line">        <span class="attr">max</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">allowFirstLine</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&#x27;vue/singleline-html-element-content-newline&#x27;</span>: <span class="string">&#x27;off&#x27;</span>, <span class="comment">// è¦æ±‚å•è¡Œå…ƒç´ çš„å†…å®¹å‰åæœ‰ä¸€ä¸ªæ¢è¡Œç¬¦</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸åŒIDEè®¾ç½®ESLintæ–¹æ³•ä¸åŒ</li><li>å¤§å®¶è‡ªè¡ŒæŸ¥æ‰¾å³å¯</li></ul><p>WebStormï¼š<a href="https://blog.csdn.net/Fine_Cui/article/details/118512635">WebStorm 2021.1 ä½¿ç”¨ ESLintè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç _ç¨‹åºå‘˜é±¼ä¸¸çš„åšå®¢-CSDNåšå®¢_webstormä»£ç æ ¼å¼åŒ–æ’ä»¶</a></p><p>VsCodeï¼š<a href="https://juejin.cn/post/6969455093770879006">VsCode å¦‚ä½•é…ç½®Eslint - æ˜é‡‘ (juejin.cn)</a></p><ul><li>é…ç½®å®ŒçœŸçš„èˆ’æœå¤šäº†ğŸ˜€</li></ul><h2 id="æ‡’äººå¿…å¤‡"><a href="#æ‡’äººå¿…å¤‡" class="headerlink" title="æ‡’äººå¿…å¤‡"></a>æ‡’äººå¿…å¤‡</h2><ul><li>ä¸æƒ³è‡ªå·±é…ç½®çš„è¯ ç›´æ¥ clone å†™å¥½çš„ä»£ç å¼€ç®±å³ç”¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†é¡¹ç›®</span></span><br><span class="line">git <span class="built_in">clone</span> https://gitee.com/lonelysnowman/vue3-vite-ts-template.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> vue3-vite-ts-template</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·˜å®é•œåƒåŠ é€Ÿä¸‹è½½</span></span><br><span class="line">npm install --registry=https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><blockquote><p>å…³æ³¨æˆ‘æŸ¥çœ‹æ›´å¤šå‰ç«¯æŠ€æœ¯æ–‡ç« </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
            <tag> TypeScript </tag>
            
            <tag> Vite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Vueéƒ¨ç½²ã€‘ä½¿ç”¨Nginxéƒ¨ç½²Vueé¡¹ç›®</title>
      <link href="/2022/12/12/Vue-Server/"/>
      <url>/2022/12/12/Vue-Server/</url>
      
        <content type="html"><![CDATA[<h1 id="Nginxéƒ¨ç½²Vueé¡¹ç›®"><a href="#Nginxéƒ¨ç½²Vueé¡¹ç›®" class="headerlink" title="Nginxéƒ¨ç½²Vueé¡¹ç›®"></a>Nginxéƒ¨ç½²Vueé¡¹ç›®</h1><blockquote><p>ä»Šå¤©æ•™å¤§å®¶ä½¿ç”¨Nginxå¿«é€Ÿçš„å°†Vueæ‰“åŒ…å¥½çš„Distæ–‡ä»¶éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šä¾›ä»–äººè®¿é—®</p><p>â­å…³æ³¨æˆ‘æŸ¥çœ‹æ›´å¤šç¬”è®°ï¼šLinuxä¸­å®‰è£…Nginx</p></blockquote><h2 id="è·å–distæ–‡ä»¶"><a href="#è·å–distæ–‡ä»¶" class="headerlink" title="è·å–distæ–‡ä»¶"></a>è·å–distæ–‡ä»¶</h2><ul><li>åœ¨ Vue2 &#x2F; Vue3 é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure><ul><li>åœ¨vueé¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ä¼šå‡ºç° <strong>distæ–‡ä»¶å¤¹</strong></li><li>å°†è¯¥æ–‡ä»¶å¤¹ä¸Šä¼ è‡³æœåŠ¡å™¨ ä½¿ç”¨ <strong>scp</strong> å‘½ä»¤ ä¸ <strong>XFTP</strong> ç­‰å‡å¯</li></ul><h2 id="Nginxé…ç½®"><a href="#Nginxé…ç½®" class="headerlink" title="Nginxé…ç½®"></a>Nginxé…ç½®</h2><h3 id="æ£€æŸ¥nginx"><a href="#æ£€æŸ¥nginx" class="headerlink" title="æ£€æŸ¥nginx"></a>æ£€æŸ¥nginx</h3><ul><li>é¦–å…ˆæ£€æŸ¥è‡ªå·±æ˜¯å¦å®‰è£…nginx</li><li>æœªå®‰è£…è¯·æŸ¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡å®‰è£… nginx çš„åšå®¢</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤æ— æ•ˆè¯´æ˜ æœªå®‰è£…nginx æˆ– å®‰è£…åœ¨äº†å…¶ä»–åœ°æ–¹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‡ºç°ç‰ˆæœ¬å·è¯´æ˜å·²å®‰è£…</span></span><br><span class="line">nginx -V</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -V</span><br></pre></td></tr></table></figure><ul><li>nginxä¸€èˆ¬å®‰è£…åœ¨ &#x2F;usr&#x2F;local&#x2F;nginx ä¸‹</li><li>å¯åœ¨ &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx ä½¿ç”¨</li></ul><h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><ul><li><p>ä¸€èˆ¬é…ç½®æ–‡ä»¶åœ¨ç›®å½• <strong>&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf</strong>  ä¸‹</p></li><li><p>ä¸åœ¨æ­¤å¤„è¯·æ£€æŸ¥nginxå®‰è£…åœ°å€</p></li><li><p>ä½¿ç”¨vimä¿®æ”¹ æˆ– åœ¨æœ¬åœ°ä¿®æ”¹åä¸Šä¼ è‡³æœåŠ¡å™¨å‡å¯</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">worker_processes</span>  <span class="number">4</span>;</span><br><span class="line"><span class="attribute">user</span> root;</span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line">    <span class="comment"># é…ç½®å“åº”çš„æ–‡ä»¶ç±»å‹</span></span><br><span class="line">    <span class="attribute">include</span>   mime.types;</span><br><span class="line">    <span class="comment"># å‡ºç° css/js æ— æ•ˆçš„é—®é¢˜å¯ä½¿ç”¨ç»å¯¹è·¯å¾„</span></span><br><span class="line">    <span class="comment"># include   /usr/local/nginx/conf/mime.types;</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="comment"># é…ç½®è®¿é—®çš„ç«¯å£å·</span></span><br><span class="line">        <span class="comment"># httpé»˜è®¤ä¸º 80 ç«¯å£</span></span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="comment"># è®¾ç½®ä¸ºæœåŠ¡å™¨çš„å¤–ç½‘åœ°å€æˆ–åŸŸå</span></span><br><span class="line">        <span class="attribute">server_name</span> <span class="number">112.124.239.485</span>;</span><br><span class="line">        <span class="comment"># é…ç½®æŠ¥é”™æ–‡ä»¶</span></span><br><span class="line">        <span class="attribute">error_page</span>  <span class="number">404</span>           /<span class="number">404</span>.html;</span><br><span class="line">        <span class="attribute">error_page</span>   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        <span class="section">location</span> / &#123;</span><br><span class="line">            <span class="comment"># distæ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">            <span class="attribute">root</span> /root/VuePrj/dist;</span><br><span class="line">            <span class="comment"># htmlæ–‡ä»¶å</span></span><br><span class="line">            <span class="attribute">index</span> index.html;</span><br><span class="line">            <span class="attribute">autoindex</span> <span class="literal">on</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># é…ç½®è®¿é—®æ—¥å¿—åœ°å€</span></span><br><span class="line">        <span class="attribute">access_log</span>  /root/VuePrj/dist/access.log;</span><br><span class="line">        <span class="attribute">error_log</span>  /root/VuePrj/dist/<span class="literal">error</span>.log;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‡å¯nginx"><a href="#é‡å¯nginx" class="headerlink" title="é‡å¯nginx"></a>é‡å¯nginx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æœªé…ç½®ç¯å¢ƒå˜é‡ä½¿ç”¨ç»å¯¹è·¯å¾„è¿è¡Œ</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æœªå¯åŠ¨nginx å…ˆå¯åŠ¨</span></span><br><span class="line">nginx</span><br></pre></td></tr></table></figure><h2 id="è®¿é—®éƒ¨ç½²åœ°å€"><a href="#è®¿é—®éƒ¨ç½²åœ°å€" class="headerlink" title="è®¿é—®éƒ¨ç½²åœ°å€"></a>è®¿é—®éƒ¨ç½²åœ°å€</h2><ul><li>æ ¹æ®é…ç½®æ–‡ä»¶è®¿é—®ç›¸åº”åœ°å€å³å¯</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://112.124.239.485</span><br></pre></td></tr></table></figure><blockquote><p>éƒ¨ç½²å®Œæˆï¼</p><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ© è¯·å¸®æˆ‘ç‚¹èµğŸ‘</p><p><strong>å…³æ³¨æˆ‘</strong>æŸ¥çœ‹æ›´å¤šæŠ€æœ¯æ–‡ç« </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Nginx </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Djangoéƒ¨ç½²ã€‘Nginx+uWsgiéƒ¨ç½²Djangoé¡¹ç›®</title>
      <link href="/2022/12/12/Django-Server/"/>
      <url>/2022/12/12/Django-Server/</url>
      
        <content type="html"><![CDATA[<h1 id="Nginx-uWsgiéƒ¨ç½²Djangoé¡¹ç›®"><a href="#Nginx-uWsgiéƒ¨ç½²Djangoé¡¹ç›®" class="headerlink" title="Nginx+uWsgiéƒ¨ç½²Djangoé¡¹ç›®"></a>Nginx+uWsgiéƒ¨ç½²Djangoé¡¹ç›®</h1><blockquote><p>æœ€è¿‘éœ€è¦éƒ¨ç½²ä¸€ä¸ªDjangoé¡¹ç›®ä½†æ˜¯ä¸èƒ½ç”¨å®å¡”é¢æ¿ï¼</p><p>å‘œå‘œå‘œ ä¸èƒ½æ‡’äººå¼ä¸€é”®éƒ¨ç½²äº†</p><p>é‚£å°±å­¦ä¹ ä¸€ä¸‹é»‘æ¡†æ¡†éƒ¨ç½²å§</p><ul><li>å­¦ä¹ è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1TJ411s7TL/?spm_id_from=333.337.search-card.all.click">Nginx+uWSGI+Djangoéƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ_å“”å“©å“”å“©_bilibili</a></li><li>å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/qq_41341757/article/details/113825603">(54æ¡æ¶ˆæ¯) Nginx+uWSGIéƒ¨ç½²_ä¸€å¤œå¥ˆä½•æ¢å±±çš„åšå®¢-CSDNåšå®¢_nginx uwsgi</a></li></ul></blockquote><p><strong>åŸºæœ¬åŸç†</strong></p><ul><li>é¦–å…ˆç”¨æˆ·æµè§ˆå™¨å‘nginxå‘é€è¯·æ±‚ï¼Œnginxåˆ¤æ–­æ˜¯åŠ¨æ€è¯·æ±‚è¿˜æ˜¯é™æ€è¯·æ±‚ï¼Œå¦‚æœæ˜¯é™æ€è¯·æ±‚ï¼Œåˆ™ç›´æ¥è¿”å›é™æ€æ–‡ä»¶ã€‚å¦‚æœæ˜¯åŠ¨æ€è¯·æ±‚ï¼Œåˆ™å°†è¯·æ±‚è½¬å‘ç»™uwsgiæœåŠ¡å™¨ï¼Œuwsgiè°ƒç”¨æˆ‘ä»¬çš„djangoè¿›è¡Œå¤„ç†è¯·æ±‚ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥çš„å†è¿”å›ã€‚</li><li>WSGIæ˜¯Web æœåŠ¡å™¨(uWSGI)ä¸ Web åº”ç”¨ç¨‹åºæˆ–åº”ç”¨æ¡†æ¶(Django)ä¹‹é—´çš„ä¸€ç§ä½çº§åˆ«çš„æ¥å£</li><li>uWSGIæ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨ï¼Œå®ƒå®ç°äº†WSGIåè®®ã€uwsgiã€httpç­‰åè®®</li><li><strong>uwsgi</strong>æ˜¯NginxæœåŠ¡å™¨å’ŒuWSGIæœåŠ¡å™¨çš„é€šä¿¡åè®®ï¼Œè§„å®šäº†æ€ä¹ˆæŠŠè¯·æ±‚è½¬å‘ç»™åº”ç”¨ç¨‹åºå’Œè¿”å›</li></ul><p><img src="https://img-blog.csdnimg.cn/20210216160823723.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzQxNzU3,size_16,color_FFFFFF,t_70" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20210216160909709.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzQxNzU3,size_16,color_FFFFFF,t_70" alt="img"></p><p><strong>ä½¿ç”¨Xshellå®Œæˆ</strong></p><h2 id="1-ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨"><a href="#1-ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨" class="headerlink" title="1.ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨"></a>1.ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨</h2><h3 id="ä½¿ç”¨scpå‘½ä»¤"><a href="#ä½¿ç”¨scpå‘½ä»¤" class="headerlink" title="ä½¿ç”¨scpå‘½ä»¤"></a>ä½¿ç”¨scpå‘½ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp æ–‡ä»¶å ç”¨æˆ·å@æœåŠ¡å™¨HOST:ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„è·¯å¾„</span><br><span class="line">// éœ€è¦æä¾› root å¯†ç </span><br><span class="line">scp name root@82.156.215.40:/root/ipbdTCF/</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨xftpç­‰å…¶ä»–æ–¹å¼ä¹Ÿå¯</strong></p><h2 id="2-é…ç½®è™šæ‹Ÿç¯å¢ƒ"><a href="#2-é…ç½®è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="2.é…ç½®è™šæ‹Ÿç¯å¢ƒ"></a>2.é…ç½®è™šæ‹Ÿç¯å¢ƒ</h2><h3 id="æ£€æŸ¥æ˜¯å¦å®‰è£…virtualenv"><a href="#æ£€æŸ¥æ˜¯å¦å®‰è£…virtualenv" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å®‰è£…virtualenv"></a>æ£€æŸ¥æ˜¯å¦å®‰è£…virtualenv</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtualenv --version</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…virtualenv"><a href="#å®‰è£…virtualenv" class="headerlink" title="å®‰è£…virtualenv"></a>å®‰è£…virtualenv</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install virtualenv virtualenvwrapper</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// é‡åˆ°æƒé™é—®é¢˜åœ¨å‰é¢åŠ ä¸Š sudo</span><br><span class="line">sudo pip3 install virtualenv virtualenvwrapper</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virtualenv --no-site-packages --python=python3  è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹å</span><br></pre></td></tr></table></figure><ul><li>â€“no-site-packages è¿™æ˜¯æ„å»ºå¹²å‡€ï¼Œéš”ç¦»çš„æ¨¡å—çš„å‚æ•°  (å¦‚æœvirtualenvç‰ˆæœ¬å¤§äº20é»˜è®¤æºå¸¦æ­¤å‚æ•°ä¸éœ€è¦æ­¤å‚æ•°)</li><li>â€“python&#x3D;python3 è¿™ä¸ªå‚æ•°æ˜¯æŒ‡å®šè™šæ‹Ÿç¯å¢ƒä»¥å“ªä¸€ä¸ªç‰©ç†è§£é‡Šå™¨ä¸ºåŸºç¡€çš„</li><li>æœ€åä¸€ä¸ªæ˜¯è™šæ‹Ÿç¯å¢ƒçš„åå­— ä¼šåˆ›å»ºè¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶å¤¹</li></ul><h3 id="æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"><a href="#æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"></a>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /è·¯å¾„/è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹å/bin/activate</span><br></pre></td></tr></table></figure><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒçš„åŸç†å°±æ˜¯ä¿®æ”¹äº†PATHå˜é‡ï¼Œpathçš„æ‰§è¡Œæ˜¯æœ‰é¡ºåºçš„</p><p>ä¿®æ”¹äº†ç¯å¢ƒå˜é‡çš„ä½ç½®</p><ul><li>echo $PATH æ£€æŸ¥ç¯å¢ƒå˜é‡</li><li>which python3</li><li>which pip3 æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒæ˜¯å¦æ­£å¸¸</li></ul><h3 id="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"><a href="#é€€å‡ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"></a>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deactivate </span><br></pre></td></tr></table></figure><p><strong>é¡¹ç›®ä¾èµ–éƒ½è£…åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ç®¡ç†ï¼</strong></p><h2 id="3-é…ç½®uwsgi"><a href="#3-é…ç½®uwsgi" class="headerlink" title="3.é…ç½®uwsgi"></a>3.é…ç½®uwsgi</h2><h3 id="æ£€æŸ¥æ˜¯å¦å®‰è£…uwsgi"><a href="#æ£€æŸ¥æ˜¯å¦å®‰è£…uwsgi" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å®‰è£…uwsgi"></a><strong>æ£€æŸ¥æ˜¯å¦å®‰è£…uwsgi</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å·²å®‰è£…ä¼šæ˜¾ç¤ºç‰ˆæœ¬å·</span></span><br><span class="line">uwsgi --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœªå®‰è£…ä½¿ç”¨ pip å®‰è£…ä¸€ä¸‹</span></span><br><span class="line"><span class="comment"># æ³¨æ„è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…</span></span><br><span class="line">pip install uwsgi</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a><strong>å¯åŠ¨é¡¹ç›®</strong></h3><ul><li>æ³¨æ„ï¼šå¯åŠ¨å‰å…ˆ<strong>runserver</strong>æµ‹è¯•ä¸€ä¸‹æ˜¯å¦é…ç½®å®Œæˆèƒ½å¤Ÿæ­£å¸¸è¿è¡Œ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨uwsgiå¯åŠ¨é¡¹ç›®</span></span><br><span class="line"><span class="comment"># --file æŒ‡å‘é¡¹ç›®å†…  wsgi.py æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># --static-map æŒ‡å‘é™æ€æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment"># uwsgi --http 0.0.0.0:80 --file é¡¹ç›®åç§°/wsgi.py --static-map=/static=static</span></span><br><span class="line"><span class="comment"># åœ¨é¡¹ç›®ç›®å½•ä¸‹</span></span><br><span class="line">uwsgi --http <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">80</span> --file teacher/wsgi.py --static-<span class="built_in">map</span>=/static=static</span><br></pre></td></tr></table></figure><p>å¯åŠ¨åå¯åœ¨è‡ªå·±æœåŠ¡å™¨çš„å…¬ç½‘IPè®¿é—®åˆ°Djangoé¡¹ç›®</p><ul><li>http:&#x2F;&#x2F;å…¬ç½‘IPåœ°å€</li></ul><h3 id="é…ç½®uwsgi"><a href="#é…ç½®uwsgi" class="headerlink" title="é…ç½®uwsgi"></a><strong>é…ç½®uwsgi</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º uwsgi.ini ä½œä¸ºuwsgié…ç½®æ–‡ä»¶</span></span><br><span class="line">vim uwsgi.ini</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># uwsgi.iniæ–‡ä»¶è¯¦æƒ…</span></span><br><span class="line">[uwsgi]</span><br><span class="line"><span class="comment"># é¡¹ç›®ç›®å½•</span></span><br><span class="line">chdir=/opt/project_teacher/teacher/</span><br><span class="line"><span class="comment"># å¯åŠ¨uwsgiçš„ç”¨æˆ·åå’Œç”¨æˆ·ç»„</span></span><br><span class="line">uid=root</span><br><span class="line">gid=root</span><br><span class="line"><span class="comment"># æŒ‡å®šé¡¹ç›®çš„application</span></span><br><span class="line">module=é¡¹ç›®å.wsgi:application</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šsockçš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment"># ä¸nginxé€šè®¯ä½¿ç”¨</span></span><br><span class="line">socket=/é¡¹ç›®ç»å¯¹è·¯å¾„/uwsgi.sock</span><br><span class="line"><span class="comment"># å¯ç”¨ä¸»è¿›ç¨‹</span></span><br><span class="line">master=true</span><br><span class="line"><span class="comment"># è¿›ç¨‹ä¸ªæ•°</span></span><br><span class="line">workers=<span class="number">4</span></span><br><span class="line">pidfile=/é¡¹ç›®ç»å¯¹è·¯å¾„/uwsgi.pid</span><br><span class="line"><span class="comment"># è‡ªåŠ¨ç§»é™¤unix Socketå’Œpidæ–‡ä»¶å½“æœåŠ¡åœæ­¢çš„æ—¶å€™</span></span><br><span class="line">vacuum=true</span><br><span class="line"><span class="comment"># åºåˆ—åŒ–æ¥å—çš„å†…å®¹ï¼Œå¦‚æœå¯èƒ½çš„è¯</span></span><br><span class="line">thunder-lock=true</span><br><span class="line"><span class="comment"># å¯ç”¨çº¿ç¨‹</span></span><br><span class="line">enable-threads=true</span><br><span class="line"><span class="comment"># è®¾ç½®è‡ªä¸­æ–­æ—¶é—´</span></span><br><span class="line">harakiri=<span class="number">30</span></span><br><span class="line"><span class="comment"># è®¾ç½®ç¼“å†²</span></span><br><span class="line">post-buffering=<span class="number">1028</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ—¥å¿—ç›®å½•</span></span><br><span class="line"><span class="comment"># æ—¥å¿—ä¿å­˜åœ°ç‚¹</span></span><br><span class="line">daemonize=/é¡¹ç›®ç»å¯¹è·¯å¾„/uwsgi.log</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨ï¼š ini ä¸ºuwsgié…ç½®æ–‡ä»¶</span></span><br><span class="line">uwsgi --ini uwsgi.ini</span><br><span class="line"><span class="comment"># é‡å¯ï¼š pid ä¸ºuwsgiå¯åŠ¨åä¿å­˜uwsgiå¯åŠ¨è¿›ç¨‹çš„æ–‡ä»¶</span></span><br><span class="line">uwsgi --reload uwsgi.pid</span><br><span class="line"><span class="comment"># åœæ­¢ï¼š </span></span><br><span class="line">uwsgi --stop uwsgi.pid</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹uwsgiæ˜¯å¦æ­£å¸¸å¯åŠ¨</span></span><br><span class="line">ps aux | grep uwsgi</span><br></pre></td></tr></table></figure><h2 id="Nginxé…ç½®"><a href="#Nginxé…ç½®" class="headerlink" title="Nginxé…ç½®"></a>Nginxé…ç½®</h2><p><strong>nginxçš„å®‰è£…è¯·æŸ¥çœ‹å¦å¤–ä¸€ç¯‡åšå®¢</strong></p><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">worker_processes  <span class="number">4</span>;</span><br><span class="line"><span class="comment"># æŒ‡å®šä½¿ç”¨çš„ç”¨æˆ·</span></span><br><span class="line">user root;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    keepalive_timeout  <span class="number">65</span>;</span><br><span class="line">    server &#123;</span><br><span class="line">        <span class="comment"># http è¯·æ±‚çš„ç«¯å£</span></span><br><span class="line">        listen <span class="number">80</span>;</span><br><span class="line">        <span class="comment"># https è¯·æ±‚çš„ç«¯å£</span></span><br><span class="line">        listen <span class="number">443</span> ssl http2;</span><br><span class="line">        <span class="comment"># é…ç½®çš„IPä¸åŸŸå</span></span><br><span class="line">        <span class="comment"># è¿™é‡Œéšä¾¿è¾“å…¥çš„</span></span><br><span class="line">        server_name www.abc.com <span class="number">123.123</span><span class="number">.24</span><span class="number">.23</span>;</span><br><span class="line">        charset  utf-<span class="number">8</span>;</span><br><span class="line">        gzip on;</span><br><span class="line">        gzip_types text/plain application/x-javascript text/css text/javascript application/x-httpd-php application/json text/json image/jpeg image/gif image/png application/octet-stream;</span><br><span class="line">        <span class="comment"># SSLè¯ä¹¦é…ç½®</span></span><br><span class="line">        ssl_certificate /usr/local/nginx/conf/cert/tcfapi/tcfapi.snowhouse.space_bundle.pem;</span><br><span class="line">        ssl_certificate_key /usr/local/nginx/conf/cert/tcfapi/tcfapi.snowhouse.space.key;</span><br><span class="line">        ssl_session_timeout 5m;</span><br><span class="line">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">        ssl_protocols TLSv1 TLSv1<span class="number">.1</span> TLSv1<span class="number">.2</span>;</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">        error_page  <span class="number">404</span>           /<span class="number">404.</span>html;</span><br><span class="line">        error_page   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /50x.html;</span><br><span class="line">        <span class="comment"># æŒ‡å®šé¡¹ç›®è·¯å¾„uwsgi</span></span><br><span class="line">        location / &#123;</span><br><span class="line">            include uwsgi_params;</span><br><span class="line">            uwsgi_connect_timeout <span class="number">30</span>;</span><br><span class="line">            <span class="comment"># unix: åˆšåˆšé…ç½®å¥½çš„ uwsgi.sock è·¯å¾„</span></span><br><span class="line">            uwsgi_pass unix:/root/IPBDPythonGroup/medicalSys/tichengfen/uwsgi.sock;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># æŒ‡å®šé™æ€æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        location /static/ &#123;</span><br><span class="line">            alias  /root/IPBDPythonGroup/medicalSys/tichengfen/static/;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨æ—¶è®°å¾—é…ç½®å…¨å±€ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="comment"># å¯åŠ¨nginx</span></span><br><span class="line"><span class="comment"># å¯åŠ¨ä¹‹åè®¿é—®å¯¹åº”çš„nginxé…ç½®å¥½çš„è·¯å¾„å³å¯</span></span><br><span class="line">nginx</span><br><span class="line"><span class="comment"># å…³é—­nginx</span></span><br><span class="line">nginx -s stop</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
            <tag> Nginx </tag>
            
            <tag> uwsgi </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Vue2ã€‘å…¥é—¨å­¦ä¹ ç¬”è®°-03</title>
      <link href="/2022/12/12/Vue2-03/"/>
      <url>/2022/12/12/Vue2-03/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2å…¥é—¨å­¦ä¹ ç¬”è®°"><a href="#Vue2å…¥é—¨å­¦ä¹ ç¬”è®°" class="headerlink" title="Vue2å…¥é—¨å­¦ä¹ ç¬”è®°"></a>Vue2å…¥é—¨å­¦ä¹ ç¬”è®°</h1><blockquote><p>Vue2å…¥é—¨å¿…å¤‡ï¼</p><p>â­å…³æ³¨æˆ‘æŸ¥çœ‹æ›´å¤šé…å¥—ç¬”è®°</p><p>å­¦ä¹ è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Zy4y1K7SH/">https://www.bilibili.com/video/BV1Zy4y1K7SH/</a></p><p>ã€å°šç¡…è°·Vueå…¨å®¶æ¡¶ã€‘</p><p>æœ¬åšå®¢æ˜¯å¯¹è¯¥è§†é¢‘å†…å®¹çš„æ•´ç†ä»¥åŠåŠ å…¥è‡ªå·±çš„ç†è§£ <strong>æƒ³å…¨é¢å­¦ä¹ çš„æ¨èå¤§å®¶å»çœ‹åŸè§†é¢‘</strong></p></blockquote><h2 id="1-VueåŠ¨ç”»"><a href="#1-VueåŠ¨ç”»" class="headerlink" title="1.VueåŠ¨ç”»"></a>1.VueåŠ¨ç”»</h2><p><strong>è‡ªå·±ä½¿ç”¨ Css ä¹Ÿèƒ½å®ç°</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨æ ‡ç­¾transitionåŒ…è£¹ --&gt;</span></span><br><span class="line">// apperå±æ€§å¯ä»¥è®©åŠ¨ç”»åŠ è½½æ—¶å‡ºç° ç®€å†™ apper å±æ€§ç›´æ¥æ·»åŠ </span><br><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">:apper</span>=<span class="string">&quot;true&quot;</span> <span class="attr">apper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;</span></span><br><span class="line">            æ˜¾ç¤º/éšè—</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">            æˆ‘æ˜¯åŠ¨ç”»å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¿…é¡»ä½¿ç”¨ vue è§„å®šçš„åç§°è¯†åˆ« --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* .ä¹‹åçš„åç§°ä¸nameä¸€è‡´ ä¸åŠ nameé»˜è®¤ä¸ºv */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.hello-enter-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.hello-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´ everse;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-enter-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´ everse;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyfarm</span> åŠ¨ç”»å&#123;</span></span><br><span class="line"><span class="language-css">        ...</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-Vueè¿‡æ¸¡"><a href="#2-Vueè¿‡æ¸¡" class="headerlink" title="2.Vueè¿‡æ¸¡"></a>2.Vueè¿‡æ¸¡</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨æ ‡ç­¾transitionåŒ…è£¹ --&gt;</span></span><br><span class="line">// apperå±æ€§å¯ä»¥è®©åŠ¨ç”»åŠ è½½æ—¶å‡ºç° ç®€å†™ apper å±æ€§ç›´æ¥æ·»åŠ </span><br><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">:apper</span>=<span class="string">&quot;true&quot;</span> <span class="attr">apper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;</span></span><br><span class="line">            æ˜¾ç¤º/éšè—</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">            æˆ‘æ˜¯åŠ¨ç”»å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¿…é¡»ä½¿ç”¨ vue è§„å®šçš„åç§°è¯†åˆ« --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* .ä¹‹åçš„åç§°ä¸nameä¸€è‡´ ä¸åŠ nameé»˜è®¤ä¸ºv */</span></span></span><br><span class="line"><span class="language-css"><span class="comment">/* ç»™æ‰€éœ€åŠ¨ç”»æ·»åŠ è¿‡åº¦å±æ€§ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: all <span class="number">0.5s</span> linear;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* åˆå§‹æ•ˆæœ ç¦»å¼€çš„ç»ˆç‚¹ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-enter</span>,<span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* è¿‡æ¸¡æ•ˆæœä¸­ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-enter-active</span>,<span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: all <span class="number">0.5s</span> linear;</span></span><br><span class="line"><span class="language-css">    &#125;    </span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* ç»“æŸæ•ˆæœ ç»“æŸçš„èµ·ç‚¹ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-leave-enter-to</span>,<span class="selector-class">.v-leave</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´ everse;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyfarm</span> åŠ¨ç”»å&#123;</span></span><br><span class="line"><span class="language-css">        ...</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-å¤šä¸ªå…ƒç´ è¿‡æ¸¡"><a href="#3-å¤šä¸ªå…ƒç´ è¿‡æ¸¡" class="headerlink" title="3.å¤šä¸ªå…ƒç´ è¿‡æ¸¡"></a>3.å¤šä¸ªå…ƒç´ è¿‡æ¸¡</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨æ ‡ç­¾transitionåŒ…è£¹ --&gt;</span></span><br><span class="line">// apperå±æ€§å¯ä»¥è®©åŠ¨ç”»åŠ è½½æ—¶å‡ºç° ç®€å†™ apper å±æ€§ç›´æ¥æ·»åŠ </span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;</span></span><br><span class="line">    æ˜¾ç¤º/éšè—</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¤šä¸ªåŠ¨ç”»æ·»åŠ éœ€è¦ä½¿ç”¨transition-group --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">group</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">apper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">            æˆ‘æ˜¯åŠ¨ç”»å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">            æˆ‘æ˜¯åŠ¨ç”»å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¿…é¡»ä½¿ç”¨ vue è§„å®šçš„åç§°è¯†åˆ« --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* .ä¹‹åçš„åç§°ä¸nameä¸€è‡´ ä¸åŠ nameé»˜è®¤ä¸ºv */</span></span></span><br><span class="line"><span class="language-css"><span class="comment">/* ç»™æ‰€éœ€åŠ¨ç”»æ·»åŠ è¿‡åº¦å±æ€§ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: all <span class="number">0.5s</span> linear;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* åˆå§‹æ•ˆæœ ç¦»å¼€çš„ç»ˆç‚¹ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-enter</span>,<span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* è¿‡æ¸¡æ•ˆæœä¸­ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-enter-active</span>,<span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: all <span class="number">0.5s</span> linear;</span></span><br><span class="line"><span class="language-css">    &#125;    </span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="comment">/* ç»“æŸæ•ˆæœ ç»“æŸçš„èµ·ç‚¹ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.v-leave-enter-to</span>,<span class="selector-class">.v-leave</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">animation</span>: åŠ¨ç”»å æŒç»­æ—¶é—´ everse;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyfarm</span> åŠ¨ç”»å&#123;</span></span><br><span class="line"><span class="language-css">        ...</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220419164137507.png" alt="image-20220419164137507"></p><h2 id="4-è¶…çº§å¥½ç”¨çš„åŠ¨ç”»åº“"><a href="#4-è¶…çº§å¥½ç”¨çš„åŠ¨ç”»åº“" class="headerlink" title="4.è¶…çº§å¥½ç”¨çš„åŠ¨ç”»åº“"></a>4.è¶…çº§å¥½ç”¨çš„åŠ¨ç”»åº“</h2><p><strong>animate.css</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">      <span class="attr">enter-active-class</span>=<span class="string">&quot;animate__fadeIn&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">leave-active-class</span>=<span class="string">&quot;animate__fadeOut&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;visible&quot;</span> <span class="attr">class</span>=<span class="string">&quot;animate__animated&quot;</span>&gt;</span>Animate.css<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">// name=&quot;animate__animated animate__bounce&quot; åœ¨ transitionä¸­æ·»åŠ è¯¥å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å®˜ç½‘æ‰¾åˆ°å–œæ¬¢çš„å±æ€§é…ç½® å¤åˆ¶æ·»åŠ åˆ°</span></span><br><span class="line"><span class="comment">// enter-active-class=&quot;&quot; leave-active-class=&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npmå®‰è£…</span></span><br><span class="line"><span class="comment">// npm install animate.css</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•ç”¨ animate.css åŠ¨ç”»åº“</span></span><br><span class="line"><span class="keyword">import</span> animate <span class="keyword">from</span> <span class="string">&#x27;animate.css&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(animate)</span><br></pre></td></tr></table></figure><p>å®˜ç½‘ï¼š<a href="https://animate.style/#documentation">Animate.css | A cross-browser library of CSS animations.</a></p><h2 id="5-Httpè¯·æ±‚-ä»£ç†"><a href="#5-Httpè¯·æ±‚-ä»£ç†" class="headerlink" title="5.Httpè¯·æ±‚ ä»£ç†"></a>5.Httpè¯·æ±‚ ä»£ç†</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹ xhr è¿›è¡Œå°è£…</span></span><br><span class="line"><span class="comment">// xhr new XMLHttpRequest() xhr.open() xhr.send()</span></span><br><span class="line"><span class="comment">// jQuery $.get $.post</span></span><br><span class="line"><span class="comment">// axios</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ xhrå¹³çº§</span></span><br><span class="line"><span class="comment">// fetch</span></span><br></pre></td></tr></table></figure><p><strong>Vue é¡¹ç›®ä¸­ æ¨èä½¿ç”¨ axios</strong></p><p><strong>è§£å†³è·¨åŸŸé—®é¢˜</strong></p><p><strong>1.CORS</strong></p><p><strong>2.Jsonp</strong>         script src <strong>åªèƒ½ä½¿ç”¨ get</strong></p><p><strong>3.ä»£ç†æœåŠ¡å™¨</strong> ä»£ç†æœåŠ¡å™¨é»˜è®¤ç«¯å£å· 8080</p><p>1.â€“ nginx</p><p>2.â€“ vue-cli</p><h3 id="5-1ç®€æ˜“ä»£ç†"><a href="#5-1ç®€æ˜“ä»£ç†" class="headerlink" title="5.1ç®€æ˜“ä»£ç†"></a>5.1ç®€æ˜“ä»£ç†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½® å¼€å¯ä»£ç†æœåŠ¡å™¨ ä»£ç†æœåŠ¡å™¨å¼€å¯åœ¨ 8080</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="comment">// éœ€è¦è½¬å‘ç»™è°</span></span><br><span class="line">    <span class="attr">proxy</span>:<span class="string">&#x27;http://åç«¯æœåŠ¡å™¨åœ°å€&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ³¨æ„</span></span><br><span class="line"><span class="comment">8080ç«¯å£æœåŠ¡å™¨ çš„æ ¹ç›®å½•ä¸º public å…¶ä¸­æœ‰çš„ä¸œè¥¿ç›´æ¥å›è¿”å›</span></span><br><span class="line"><span class="comment">ä¸ä¼šè½¬å‘è¯·æ±‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨axiosä¸­è¯·æ±‚</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8080/åç«¯è·¯ç”±åœ°å€&#x27;</span>).<span class="title function_">then</span>(</span><br><span class="line"><span class="function"><span class="params">response</span> =&gt;</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">errror</span> =&gt;</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-2å®Œç¾ä»£ç†"><a href="#5-2å®Œç¾ä»£ç†" class="headerlink" title="5.2å®Œç¾ä»£ç†"></a>5.2å®Œç¾ä»£ç†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½® å¼€å¯ä»£ç†æœåŠ¡å™¨ ä»£ç†æœåŠ¡å™¨å¼€å¯åœ¨ 8080</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">     <span class="attr">proxy</span>:&#123;</span><br><span class="line">         <span class="comment">// é…ç½® è½¬å‘æœåŠ¡å™¨çš„å‰ç¼€</span></span><br><span class="line">         <span class="string">&#x27;/api&#x27;</span>:&#123;</span><br><span class="line">             <span class="comment">// è½¬å‘åœ°å€</span></span><br><span class="line">             <span class="attr">target</span>:<span class="string">&#x27;http://åç«¯æœåŠ¡å™¨åœ°å€&#x27;</span>,</span><br><span class="line">             <span class="comment">//åŠ å…¥æ­¤é…ç½®é¡¹ è½¬å‘åœ°å€ä¸º /api/student æ›¿æ¢ä¸º /student ä¸ç„¶ä¼šè¯·æ±‚åŸè·¯å¾„</span></span><br><span class="line">             <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">                 <span class="string">&#x27;^/api&#x27;</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">             &#125;,</span><br><span class="line">             <span class="attr">ws</span>:<span class="literal">true</span>, <span class="comment">// ç”¨äºæ”¯æŒ websocket </span></span><br><span class="line">             <span class="attr">changeOrigin</span>:<span class="literal">true</span>, <span class="comment">// è¯´è°(ä¼ªè£…è¯·æ±‚åœ°å€) é»˜è®¤ä¸º true</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="comment">// å¯é…ç½®å¤šä¸ª</span></span><br><span class="line">         <span class="string">&#x27;/cas&#x27;</span>:&#123;</span><br><span class="line">             <span class="attr">target</span>:<span class="string">&#x27;http://åç«¯æœåŠ¡å™¨åœ°å€&#x27;</span>,</span><br><span class="line">             <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">                 <span class="string">&#x27;^/cas&#x27;</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">             &#125;,</span><br><span class="line">             <span class="attr">ws</span>:<span class="literal">true</span>,</span><br><span class="line">             <span class="attr">changeOrigin</span>:<span class="literal">true</span>,</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8080/é…ç½®çš„å‰ç¼€/åç«¯è·¯ç”±åœ°å€&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="6-é™æ€ç»„ä»¶"><a href="#6-é™æ€ç»„ä»¶" class="headerlink" title="6.é™æ€ç»„ä»¶"></a>6.é™æ€ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;....&#x27;</span> <span class="comment">// vue ä¼šè¿›è¡Œä¸¥æ ¼çš„è¯­æ³•æ£€æŸ¥ æ”¾åœ¨assatè¿›è¡Œå¼•å…¥</span></span><br><span class="line"><span class="comment">// æ¨èæ”¾å…¥ public æ–‡ä»¶å¤¹ åœ¨ index.html ä¸­ä½¿ç”¨ link å¼•å…¥ bootstrap.. ç­‰ </span></span><br></pre></td></tr></table></figure><p>ES6 åˆå¹¶å¯¹è±¡è¯­æ³•  Obj &#x3D; {â€¦å¯¹è±¡1åç§°,â€¦å¯¹è±¡2åç§°}</p><h2 id="7-vue-resource-vueçš„æ’ä»¶åº“"><a href="#7-vue-resource-vueçš„æ’ä»¶åº“" class="headerlink" title="7.vue-resource vueçš„æ’ä»¶åº“"></a>7.vue-resource vueçš„æ’ä»¶åº“</h2><p><strong>å¯¹ xhr è¿›è¡Œå°è£…</strong></p><p><strong>Vue.use(vueResource)</strong> åœ¨main.jsä¸­è¿›è¡Œå…¨å±€é…ç½®</p><p>åœ¨ vm ä¸­ä¼šå‡ºç° $http</p><p>ä½¿ç”¨ this.$http ä»£æ›¿ axios apiå®Œå…¨ä¸€è‡´ vue1.0å¹¿æ³›ä½¿ç”¨</p><h2 id="8-slot-æ’æ§½"><a href="#8-slot-æ’æ§½" class="headerlink" title="8.slot æ’æ§½"></a>8.slot æ’æ§½</h2><h3 id="8-1é»˜è®¤æ’æ§½"><a href="#8-1é»˜è®¤æ’æ§½" class="headerlink" title="8.1é»˜è®¤æ’æ§½"></a>8.1é»˜è®¤æ’æ§½</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ­£å¸¸è‡ªé—­å’Œç»„ä»¶ / æ­£å¸¸ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Student</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Student</span>&gt;</span><span class="tag">&lt;/<span class="name">Student</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç›¸åŒç»„ä»¶éœ€è¦å±•ç¤ºä¸åŒçš„å…ƒç´ æ—¶ä½¿ç”¨ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é»˜è®¤æ’æ§½å†™æ³• --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Student</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- éœ€è¦æ’å…¥çš„å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Student</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- çˆ¶ç»„ä»¶ä¼ å…¥æ’æ§½çš„å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span>&gt;</span>ä½¿ç”¨è€…æ²¡æœ‰ä¼ å…¥æ’æ§½ ä¼šå°†æˆ‘å±•ç¤º<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- style å¯ä»¥åœ¨ çˆ¶/å­ ç»„ä»¶ä¹¦å†™ --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-2-å…·åæ’æ§½-å¤šä¸ªæ’æ§½"><a href="#8-2-å…·åæ’æ§½-å¤šä¸ªæ’æ§½" class="headerlink" title="8.2(å…·åæ’æ§½)å¤šä¸ªæ’æ§½"></a>8.2(å…·åæ’æ§½)å¤šä¸ªæ’æ§½</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¤šä¸ªæ’æ§½å†™æ³• --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Student</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- éœ€è¦æ’å…¥çš„å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">slot</span>=<span class="string">&quot;slotåç§°1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">vido</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">slot</span>=<span class="string">&quot;slotåç§°2&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment">&lt;!-- templateå†™æ³• templateæ ‡ç­¾ ä¸å½±å“ç»“æ„--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- slot:slotåç§°1 ä¸º vue2.7 æ›´æ–°çš„å†™æ³• åªèƒ½åœ¨ templateæ ‡ç­¾ä¸­ä½¿ç”¨ --&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;slotåç§°1&quot;</span> <span class="attr">slot:slotåç§°1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>æˆ‘æ˜¯div<span class="tag">&lt;/<span class="name">viv</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Student</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- çˆ¶ç»„ä»¶ä¼ å…¥æ’æ§½çš„å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;slotåç§°1&quot;</span>&gt;</span>ä½¿ç”¨è€…æ²¡æœ‰ä¼ å…¥æ’æ§½ ä¼šå°†æˆ‘å±•ç¤º<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;slotåç§°2&quot;</span>&gt;</span>ä½¿ç”¨è€…æ²¡æœ‰ä¼ å…¥æ’æ§½ ä¼šå°†æˆ‘å±•ç¤º<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- style å¯ä»¥åœ¨ çˆ¶/å­ ç»„ä»¶ä¹¦å†™ --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-3ä½œç”¨åŸŸæ’æ§½"><a href="#8-3ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="8.3ä½œç”¨åŸŸæ’æ§½"></a>8.3ä½œç”¨åŸŸæ’æ§½</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½œç”¨åŸŸæ’æ§½å†™æ³• --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Student</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä½œç”¨åŸŸå¿…é¡»ä½¿ç”¨ template æ ‡ç­¾ ä¼ å‚ ä½œç”¨åŸŸ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">scop</span>=<span class="string">&quot;Obj&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- games msg åœ¨Objä¸­ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;Obj.games&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;Obj.msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Student</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å­ç»„ä»¶æ’æ§½ä¸­ç»™çˆ¶ç»„ä»¶ä¼ å‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">:games</span>=<span class="string">&quot;games&quot;</span> <span class="attr">msg</span>=<span class="string">&quot;è¿™é‡Œæ˜¯msgä¿¡æ¯&quot;</span>&gt;</span>ä½¿ç”¨è€…æ²¡æœ‰ä¼ å…¥æ’æ§½ ä¼šå°†æˆ‘å±•ç¤º<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- style å¯ä»¥åœ¨ çˆ¶/å­ ç»„ä»¶ä¹¦å†™ --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="9-Vuex"><a href="#9-Vuex" class="headerlink" title="9.Vuex"></a>9.Vuex</h2><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220421151212172.png" alt="image-20220421151212172"></p><p><strong>å¤šç»„ä»¶å…±äº«æ•°æ®</strong> çŠ¶æ€ &#x3D; æ•°æ®</p><ol><li>å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€ä¸ªçŠ¶æ€</li><li>æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦ä¿®æ”¹åŒä¸€çŠ¶æ€</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>npm i vuex</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span> <span class="comment">// åœ¨ index.js ä¸­ å¼•å…¥</span></span><br><span class="line"><span class="comment">// vue2 -&gt; vuex3</span></span><br><span class="line"><span class="comment">// vue3 -&gt; vuex4</span></span><br><span class="line"><span class="number">3.</span><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">store</span>:<span class="string">&quot;hello&quot;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ vm ä¸­ å‡ºç° $store ä¿å­˜ä¼ å…¥çš„æ•°æ®</span></span><br></pre></td></tr></table></figure><p>åœ¨componentsåŒçº§æ–‡ä»¶å¤¹ä¸‹æ·»åŠ  store æ–‡ä»¶å¤¹</p><p><strong>æ·»åŠ  index.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯¥æ–‡ä»¶ç”¨äºåˆ›å»º Vuex ä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ </span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">// åº”ç”¨Vuexæ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"><span class="comment">// å‡†å¤‡ actions</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">// éœ€è¦dispatchçš„å‡½æ•°</span></span><br><span class="line">    <span class="string">&quot;å‡½æ•°å&quot;</span>(context,value)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;actions ä¸­çš„å‡½æ•°è¢«è°ƒç”¨äº†&#x27;</span>,context,value); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ†é…ç»™ å…¶ä»– dispatch åˆ†æ®µå¤„ç† ä¾¿äºç»´æŠ¤ä»£ç </span></span><br><span class="line">        context.<span class="title function_">dispatch</span>(<span class="string">&quot;å‡½æ•°2&quot;</span>,value);</span><br><span class="line">        </span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&quot;å‡½æ•°å(ä½¿ç”¨å¤§å†™ä¸actionsè¿›è¡ŒåŒºåˆ†)&quot;</span>,value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‡†å¤‡ mutations æ“ä½œ data</span></span><br><span class="line"><span class="comment">// å¼€å‘è€…å·¥å…· æ£€æµ‹ mutations</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="string">&quot;å¤§å†™å‡½æ•°å&quot;</span>(state,value)&#123;</span><br><span class="line">state.<span class="property">value</span> += value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‡†å¤‡ state ç”¨äºå­˜å‚¨æ•°æ® å…¨å±€ data</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="comment">// å‡†å¤‡æ•°æ®</span></span><br><span class="line">    <span class="string">&quot;value&quot;</span>:<span class="number">0</span>,</span><br><span class="line">    <span class="comment">// æ”¹å˜åä¼šæ›¿ä»£ vc é‡Œçš„ data</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°å…¨å±€çš„ è®¡ç®—å±æ€§ computed</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="comment">// å¯¹ state è¿›è¡ŒåŠ å·¥</span></span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ² store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>main.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store/index.js&#x27;</span></span><br><span class="line"><span class="comment">// é…ç½®é¡¹ä¸­æ·»åŠ store</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>js æ‰§è¡Œ import</strong> <strong>å…¨éƒ¨ import</strong> ä¼šè¢«æå‡åˆ°<strong>æœ€é«˜å±‚</strong></p><p>vue è§„å®šå¿…é¡» å…ˆ ues(vuex) å† åˆ›å»º store å®ä¾‹</p><p>ä½¿ç”¨2.import Vuex from â€˜vuexâ€™<br>&#x2F;&#x2F; vue2 -&gt; vuex3<br>&#x2F;&#x2F; vue3 -&gt; vuex4<br>3.Vue.use(Vuex)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methds</span>:&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;äº‹ä»¶å&quot;</span>,ä¼ å…¥çš„æ•°æ®);</span><br><span class="line">    <span class="comment">// ç›´æ¥è·¨è¿‡action</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;äº‹ä»¶å&quot;</span>,ä¼ å…¥çš„æ•°æ®);</span><br><span class="line">    <span class="comment">// è·å¾—è®¡ç®—å±æ€§</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">bigSum</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color=yellow>å¯ç›´æ¥å¤¸è¿‡ Actions è¿›è¡Œ Commit è°ƒç”¨ mutation çš„å‡½æ•° </font></p><p>vuex å¼€å‘è€…å·¥å…· å†å²è®°å½•ç¬¦å·</p><p><strong>å›åˆ°è¯¥æ¬¡æ•°æ®</strong> å†å²è®°å½•ç¬¦å·</p><p><strong>å¯ä»¥åˆ é™¤å†å²è®°å½•</strong> ç¦ç”¨ç¬¦å·</p><p><strong>åˆå¹¶è®°å½•</strong> ä¸‹è½½ç¬¦å·</p><p>åº•éƒ¨åˆ† å¯ä»¥ <strong>å¯¼å…¥å¯¼å‡º</strong> &#x2F; <strong>ç²˜è´´å¤åˆ¶</strong></p><p>ES6 è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Obj1</span> = &#123;<span class="attr">x</span>:<span class="number">1</span>,<span class="attr">y</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Obj2</span> =&#123;</span><br><span class="line">    <span class="attr">z</span>:<span class="number">3</span>,</span><br><span class="line">    ...<span class="title class_">Obj1</span>, <span class="comment">// ç›´æ¥å°†Obj1çš„é”®å€¼å¯¹æ’å…¥</span></span><br><span class="line">    <span class="attr">m</span>:<span class="number">7</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-1-mapState-mapGetters"><a href="#9-1-mapState-mapGetters" class="headerlink" title="9.1 **mapState **mapGetters"></a>9.1 **mapState **mapGetters</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// æ˜ å°„ State ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="attr">computed</span>:&#123;</span><br><span class="line">    <span class="comment">// å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ ä»stateä¸­è¯»å–æ•°æ®</span></span><br><span class="line">    ...<span class="title function_">mapState</span>(&#123;<span class="attr">sum</span>:<span class="string">&#x27;sum&#x27;</span>,<span class="attr">adress</span>:<span class="string">&#x27;adress&#x27;</span>&#125;) <span class="comment">// å¯ç›´æ¥åœ¨è®¡ç®—å±æ€§ä¸­æ·»åŠ </span></span><br><span class="line">    <span class="comment">// ä¸å¯ç®€å†™ å¯¹è±¡ç®€å†™æ–¹å¼ä¸º &#123;sum:sum&#125; === &#123;sum&#125;  !== &#123;sum:&quot;sum&quot;&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Vue å¯è¯†åˆ« ç®€å†™æ–¹æ³• ä¸ä¸Šè¿°æ–¹æ³•ç”¨é€”ä¸€è‡´</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å…¨å±€è®¡ç®—å±æ€§è·å–</span></span><br><span class="line">    ...<span class="title function_">mapGeters</span>([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-2-mapAction-mapMutations"><a href="#9-2-mapAction-mapMutations" class="headerlink" title="9.2 mapAction mapMutations"></a>9.2 mapAction mapMutations</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// æ˜ å°„ State ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ•°ç»„ / å¯¹è±¡ å½¢å¼é»˜è®¤ç”Ÿæˆæ–¹æ³• éœ€è¦åœ¨è°ƒç”¨æ—¶ä¼ å‚</span></span><br><span class="line">    <span class="comment">/*add(value)&#123;</span></span><br><span class="line"><span class="comment">    this.$store.commit(&#x27;add&#x27;,value)</span></span><br><span class="line"><span class="comment">&#125;*/</span>  </span><br><span class="line">    </span><br><span class="line">...<span class="title function_">mapActions</span>([<span class="string">&#x27;add&#x27;</span>]),</span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;add&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-3Vuexæ¨¡å—åŒ–"><a href="#9-3Vuexæ¨¡å—åŒ–" class="headerlink" title="9.3Vuexæ¨¡å—åŒ–"></a>9.3Vuexæ¨¡å—åŒ–</h3><p>index.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡æ•°ç›¸å…³å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> countOptions = &#123;</span><br><span class="line">    <span class="comment">// é…ç½®è¯¥é¡¹å¯åœ¨ ç»„ä»¶ ä¸­ä½¿ç”¨æ›´ç®€æ´çš„å†™æ³•</span></span><br><span class="line">    <span class="attr">namespaced</span>:<span class="literal">true</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸æ­£å¸¸ vuex é…ç½®å®Œå…¨ä¸€è‡´</span></span><br><span class="line">    <span class="attr">action</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">mutation</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">state</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">getter</span>:&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äººå‘˜ç›¸å…³å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> personOptions = &#123;</span><br><span class="line">    <span class="attr">action</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">mutation</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">state</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">getter</span>:&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>:&#123;</span><br><span class="line">        <span class="attr">countAbout</span>:countOptions,</span><br><span class="line">        <span class="attr">personAbout</span>:personOptions</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶ä¸­ç®€å†™ä½¿ç”¨</span></span><br><span class="line"><span class="attr">computed</span>:&#123;</span><br><span class="line">    <span class="comment">// æ™®é€šç®€å†™</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨ stateæ—¶ éœ€è¦ä½¿ç”¨ countAbout.data</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;countAbout&#x27;</span>,<span class="string">&#x27;personAbout&#x27;</span>]),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// éœ€è¦åœ¨ vuex ä¸­ å¼€å¯ namespaced</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨æ—¶ ç›´æ¥ä½¿ç”¨ data å°±å¯ä»¥</span></span><br><span class="line">    ...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;data&#x27;</span>]),</span><br><span class="line">    ...<span class="title function_">mapState</span>(<span class="string">&#x27;personAbout&#x27;</span>,[<span class="string">&#x27;data&#x27;</span>]),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">// å…¶ä»– map åŒç†ä½¿ç”¨</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// getter æ¨¡å—åŒ–ä¹‹å å€¼ä¸º countAbout/bigSum  countAboutä¸å†ä¸ºå¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10-è·¯ç”±"><a href="#10-è·¯ç”±" class="headerlink" title="10.è·¯ç”±"></a>10.è·¯ç”±</h2><h3 id="10-1-è·¯ç”±åŸºç¡€"><a href="#10-1-è·¯ç”±åŸºç¡€" class="headerlink" title="10.1 è·¯ç”±åŸºç¡€"></a>10.1 è·¯ç”±åŸºç¡€</h3><p><strong>å•é¡µé¢åº”ç”¨</strong> è·¯ç”±æ”¹å˜ é¡µé¢å±€éƒ¨åˆ·æ–° (æ²¡æœ‰å…¨éƒ¨åˆ·æ–°)</p><p>ä½¿ç”¨ vue çš„æ’ä»¶åº“ vue-router</p><p>npm install -g vue-router</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">vue-router 3 ç‰ˆæœ¬å¯¹åº” vue 2</span></span><br><span class="line"><span class="comment">vue-router 4 ç‰ˆæœ¬å¯¹åº” vue 3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// npm install vue-router@3</span></span><br></pre></td></tr></table></figure><p>åœ¨ <strong>components</strong> åŒçº§æ–‡ä»¶å¤¹ä¸‹åˆ›å»º <strong>router</strong> æ–‡ä»¶å¤¹</p><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ vue-router</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">TheList</span> <span class="keyword">from</span> <span class="string">&#x27;../components/TheList.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AboutSnowman</span> <span class="keyword">from</span> <span class="string">&#x27;../components/AboutSnowman.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º å¹¶ æš´éœ² ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/about&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">AboutSnowman</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// path ä¸º * è¡¨ç¤ºåŒ¹é…å…¨éƒ¨ å¯ä»¥åŒ¹é…å…¨éƒ¨è·¯å¾„ è·¯å¾„åŒ¹é…ä¸ºä»ä¸Šè‡³ä¸‹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;*&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">AboutSnowman</span>,</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ è·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="comment">// è®¾ç½® router</span></span><br><span class="line">  <span class="attr">router</span>:router,</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ€ç»ˆ åœ¨ html é¡µé¢ä¸­è½¬åŒ–ä¸º a æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- to ä¸ºè·³è½¬åˆ°çš„è·¯ç”± --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- active-class ä¸ºåœ¨è¯¥è·¯ç”±æ—¶åº”ç”¨çš„ æ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/TodoList&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>å…³äºæˆ‘çš„ä¸»é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è§†å›¾å±•ç¤º å¯¹åº”è·¯ç”±çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ <strong>components</strong> åŒçº§æ–‡ä»¶å¤¹ä¸‹åˆ›å»º <strong>pages</strong> æ–‡ä»¶å¤¹</p><p>ä¾¿äºåˆ†ç±» pageså­˜æ”¾ <strong>è·¯ç”±ç»„ä»¶</strong> componentsæ–‡ä»¶å¤¹å­˜æ”¾ <strong>ä¸€èˆ¬ç»„ä»¶</strong></p><p>åŸç† ï¼š {ä¸æ–­é”€æ¯ä¸æŒ‚åœ¨ç»„ä»¶}</p><ul><li>æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„$routeå±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯</li><li>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªrouter, å¯ä»¥é€šè¿‡ç»„ä»¶çš„$routerå±æ€§è·å–åˆ°</li></ul><h3 id="10-2-å¤šçº§è·¯ç”±-åµŒå¥—è·¯ç”±"><a href="#10-2-å¤šçº§è·¯ç”±-åµŒå¥—è·¯ç”±" class="headerlink" title="10.2 å¤šçº§è·¯ç”± (åµŒå¥—è·¯ç”±)"></a>10.2 å¤šçº§è·¯ç”± (åµŒå¥—è·¯ç”±)</h3><p>index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ vue-router</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">TheList</span> <span class="keyword">from</span> <span class="string">&#x27;../components/TheList.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AboutSnowman</span> <span class="keyword">from</span> <span class="string">&#x27;../components/AboutSnowman.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º å¹¶ æš´éœ² ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        <span class="comment">// ä¸€çº§è·¯ç”±</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            <span class="comment">// è·¯ç”±åµŒå¥—ä»è¿™é‡Œå¼€å§‹</span></span><br><span class="line">            <span class="comment">// äºŒçº§è·¯ç”±</span></span><br><span class="line">            <span class="attr">children</span>:[&#123;</span><br><span class="line">                <span class="comment">// ç¬¬äºŒçº§ä¸éœ€è¦åŠ  / ä¼šå‡ºé—®é¢˜</span></span><br><span class="line">                <span class="attr">path</span>:<span class="string">&quot;new&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ä¸€çº§è·¯ç”±</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/about&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">AboutSnowman</span>,</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ€ç»ˆ åœ¨ html é¡µé¢ä¸­è½¬åŒ–ä¸º a æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- to ä¸ºè·³è½¬åˆ°çš„è·¯ç”± --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- active-class ä¸ºåœ¨è¯¥è·¯ç”±æ—¶åº”ç”¨çš„ æ ·å¼ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- äºŒçº§è·¯ç”±å¿…é¡»æºå¸¦çˆ¶äº²çº§è·¯ç”±çš„è·¯å¾„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/TodoList/new&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/new&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>å…³äºæˆ‘çš„ä¸»é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è§†å›¾å±•ç¤º å¯¹åº”è·¯ç”±çš„ä½ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="10-3-è·¯ç”±ä¼ å‚"><a href="#10-3-è·¯ç”±ä¼ å‚" class="headerlink" title="10.3 è·¯ç”±ä¼ å‚"></a>10.3 è·¯ç”±ä¼ å‚</h3><p>queryå‚æ•° getä¼ å‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/TodoList/new?name=é›ªäºº&amp;age=18&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åŠ  v-bind + ES6 `` åŠ¨æ€ä¼ å‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`/TodoList/new?name=$&#123;name&#125;&amp;age=$&#123;age&#125;`&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¯¹è±¡å¼ ä¼ å‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">                  path=&quot;</span>/<span class="attr">TodoList</span>/<span class="attr">new</span>&quot;,</span></span><br><span class="line"><span class="tag">                  <span class="attr">query:</span>&#123;</span></span><br><span class="line"><span class="tag">                         <span class="attr">name:name</span>,</span></span><br><span class="line"><span class="tag">                         <span class="attr">age:age</span>,</span></span><br><span class="line"><span class="tag">                         &#125;               </span></span><br><span class="line"><span class="tag">                  &#125;</span></span><br><span class="line"><span class="tag">                  `&quot; <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/new&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>å…³äºæˆ‘çš„ä¸»é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶ä¸­è·å–</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">name</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">age</span></span><br></pre></td></tr></table></figure><h3 id="10-4-å‘½åè·¯ç”±"><a href="#10-4-å‘½åè·¯ç”±" class="headerlink" title="10.4 å‘½åè·¯ç”±"></a>10.4 å‘½åè·¯ç”±</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// é…ç½®å§“å ç®€åŒ–ä¼ å‚</span></span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;ListName&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            <span class="attr">children</span>:[&#123;</span><br><span class="line">                <span class="comment">// é…ç½®å§“å ç®€åŒ–ä¼ å‚</span></span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;new&#x27;</span>,</span><br><span class="line">                <span class="attr">path</span>:<span class="string">&quot;new&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¯¹è±¡å¼ ä¼ å‚ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨ name å¿…é¡»ä½¿ç”¨å¯¹è±¡å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">                  // æ­¤å¤„ç›´æ¥ä¼ å…¥ è·¯ç”±å™¨ å®šä¹‰çš„åå­—</span></span></span><br><span class="line"><span class="string"><span class="tag">                  name:&quot;</span><span class="attr">ListName</span>&quot;,</span></span><br><span class="line"><span class="tag">                  <span class="attr">query:</span>&#123;</span></span><br><span class="line"><span class="tag">                         <span class="attr">name:name</span>,</span></span><br><span class="line"><span class="tag">                         <span class="attr">age:age</span>,</span></span><br><span class="line"><span class="tag">                         &#125;               </span></span><br><span class="line"><span class="tag">                  &#125;</span></span><br><span class="line"><span class="tag">                  `&quot; <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="10-5-paramså‚æ•°"><a href="#10-5-paramså‚æ•°" class="headerlink" title="10.5 paramså‚æ•°"></a>10.5 paramså‚æ•°</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- paramså‚æ•° ä¼ å‚ éœ€è¦é…ç½®å ä½ç¬¦ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`/TodoList/new/11/ç‹äºŒ`&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- paramså‚æ•° å¯¹è±¡å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">                  // params åªèƒ½ä½¿ç”¨name pathä¼šæŠ¥é”™ï¼ï¼ï¼</span></span></span><br><span class="line"><span class="string"><span class="tag">                  name:&quot;</span><span class="attr">ListName</span>&quot;,</span></span><br><span class="line"><span class="tag">                  <span class="attr">params:</span>&#123;</span></span><br><span class="line"><span class="tag">                         <span class="attr">id:11</span>,</span></span><br><span class="line"><span class="tag">                         <span class="attr">name:</span>&quot;<span class="attr">ç‹äºŒ</span>&quot;,</span></span><br><span class="line"><span class="tag">                         &#125;               </span></span><br><span class="line"><span class="tag">                  &#125;</span></span><br><span class="line"><span class="tag">                  `&quot; <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ·»åŠ å ä½ç¬¦è®¾ç½®å‚æ•°</span></span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;ListName&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList/:id/:name&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            <span class="attr">children</span>:[&#123;</span><br><span class="line">                <span class="comment">// æ·»åŠ å ä½ç¬¦è®¾ç½®å‚æ•°</span></span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;new/:id/:name&#x27;</span>,</span><br><span class="line">                <span class="attr">path</span>:<span class="string">&quot;new&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶ä¸­è·å–</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">name</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">age</span></span><br></pre></td></tr></table></figure><h3 id="10-6-propsçš„é…ç½®"><a href="#10-6-propsçš„é…ç½®" class="headerlink" title="10.6 propsçš„é…ç½®"></a>10.6 propsçš„é…ç½®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;ListName&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList/:id/:name&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            <span class="attr">children</span>:[&#123;</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;new/:id/:name&#x27;</span>,</span><br><span class="line">                <span class="attr">path</span>:<span class="string">&quot;new&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">                <span class="comment">// props å†™æ³•ä¸€</span></span><br><span class="line">                <span class="comment">// è¯¥å¯¹è±¡ä¸­çš„æ‰€æœ‰ key-value éƒ½ä¼šä»¥propsçš„å½¢å¼ä¼ ç»™ ç»„ä»¶ TheListä¸­</span></span><br><span class="line">                <span class="attr">props</span>:&#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span>&#125;,</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// props å†™æ³•äºŒ</span></span><br><span class="line">                <span class="comment">// propså€¼ä¸ºå¸ƒå°”å€¼,è‹¥å¸ƒå°”å€¼ä¸ºçœŸ,å°±ä¼šæŠŠè¯¥å‚æ•°çš„ paramså€¼å½“åš props å€¼ä¼ é€’ç»™ç»„ä»¶</span></span><br><span class="line">                <span class="attr">props</span>:<span class="literal">true</span>,</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// props å†™æ³•ä¸‰</span></span><br><span class="line">                <span class="comment">// å€¼ä¸ºå‡½æ•° è¿”å›å€¼ ä»¥props ä¼ é€’ç»™ç»„ä»¶</span></span><br><span class="line">                <span class="comment">// $route è¢«å›è°ƒä¼ å…¥ çœŸå¥½</span></span><br><span class="line">                <span class="title function_">props</span>(<span class="params">$route</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;<span class="attr">id</span>:$route.<span class="property">query</span>.<span class="property">id</span>,<span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// ç»“æ„èµ‹å€¼å†™æ³•</span></span><br><span class="line">                <span class="title function_">props</span>(<span class="params">&#123;query&#125;</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;<span class="attr">id</span>:query.<span class="property">id</span>,<span class="attr">name</span>:query.<span class="property">name</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="10-7-replace-è®°å½•"><a href="#10-7-replace-è®°å½•" class="headerlink" title="10.7 replace è®°å½•"></a>10.7 replace è®°å½•</h3><p><strong>é»˜è®¤ä¸ºpushè®°å½• æ ˆçš„ä¸æ–­æ·»åŠ </strong></p><p><strong>replace æ›¿æ¢å½“å‰è®°å½• ä¸èƒ½è¿”å›</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼€å¯replace :replace=&quot;true&quot; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/TodoList/new&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">:replace</span>=<span class="string">&quot;true&quot;</span>&gt;</span>æ¯æ—¥æ¸…å•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯replace ç®€å†™æ–¹å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/new&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">replace</span>&gt;</span>å…³äºæˆ‘çš„ä¸»é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="10-8-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"><a href="#10-8-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª" class="headerlink" title="10.8 ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"></a>10.8 ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</h3><p><strong>åœ¨ $router ä¸­ ç›´æ¥æ“ä½œ ä¸å€ŸåŠ© router-link</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;button @click=&quot;showPush&quot;&gt;</span><br><span class="line">        pushæŸ¥çœ‹</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showReplace&quot;&gt;</span><br><span class="line">        replaceæŸ¥çœ‹</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;back&quot;&gt;</span><br><span class="line">        åé€€</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;forward&quot;&gt;</span><br><span class="line">        å‰è¿›</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;go&quot;&gt;</span><br><span class="line">        å‰è¿›</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        showPush()&#123;</span><br><span class="line">             // è°ƒç”¨ $router ä¸Šçš„API</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&quot;xiangqing&quot;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:&#x27;11&#x27;,</span><br><span class="line">                    name:&#x27;ç‹äºŒ&#x27;,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        showReplace()&#123;</span><br><span class="line">             // è°ƒç”¨ $router ä¸Šçš„API</span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&quot;xiangqing&quot;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:&#x27;11&#x27;,</span><br><span class="line">                    name:&#x27;ç‹äºŒ&#x27;,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        back()&#123;</span><br><span class="line">            this.$router.back</span><br><span class="line">        &#125;,</span><br><span class="line">        forward()&#123;</span><br><span class="line">            this.$router.forward</span><br><span class="line">        &#125;,</span><br><span class="line">        go()&#123;</span><br><span class="line">            // æ­£æ•° å‰è¿› n æ¬¡</span><br><span class="line">            // å¤æ•° åé€€ n æ¬¡</span><br><span class="line">            this.$router.go(n)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="10-8-ç¼“å­˜è·¯ç”±ç»„ä»¶"><a href="#10-8-ç¼“å­˜è·¯ç”±ç»„ä»¶" class="headerlink" title="10.8 ç¼“å­˜è·¯ç”±ç»„ä»¶"></a>10.8 ç¼“å­˜è·¯ç”±ç»„ä»¶</h3><p>ç»„ä»¶åˆ‡èµ°æ—¶ä¼šè¢«é”€æ¯ å†…å®¹æ¶ˆå¤± å¦‚ä½•ä¿å­˜?</p><p><strong>éœ€è¦ä¿å­˜æ•°æ®çš„å»ç¼“å­˜</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- inlude=&quot;&quot; é…ç½®éœ€è¦ç¼“å­˜çš„ç»„ä»¶ å¦åˆ™ç¼“å­˜å…¨éƒ¨ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é˜²æ­¢ç»„ä»¶è¢«é”€æ¯ æ•°æ®ä¸¢å¤± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">inlude</span>=<span class="string">&quot;ç»„ä»¶å&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç¼“å­˜å¤šä¸ªç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">:inlude</span>=<span class="string">&quot;[&#x27;ç»„ä»¶å1&#x27;,&#x27;ç»„ä»¶å2&#x27;,&#x27;ç»„ä»¶å3&#x27;]&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="10-9æ¿€æ´»ä¸å¤±æ´»å£°æ˜å‘¨æœŸ"><a href="#10-9æ¿€æ´»ä¸å¤±æ´»å£°æ˜å‘¨æœŸ" class="headerlink" title="10.9æ¿€æ´»ä¸å¤±æ´»å£°æ˜å‘¨æœŸ"></a>10.9æ¿€æ´»ä¸å¤±æ´»å£°æ˜å‘¨æœŸ</h3><p><strong>ç”¨äºè·¯ç”±ç»„ä»¶çš„ å¼€å¯å®šæ—¶å™¨ æ¯” mountedæ›´é«˜æ•ˆ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line"><span class="title function_">activated</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// å¼€å¯å®šæ—¶å™¨</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">deactivated</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// å®šæ—¶å™¨è‡ªåŠ¨å…³é—­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-10è·¯ç”±å®ˆå«"><a href="#10-10è·¯ç”±å®ˆå«" class="headerlink" title="10.10è·¯ç”±å®ˆå«"></a>10.10è·¯ç”±å®ˆå«</h3><h4 id="1-å‰-x2F-å-ç½®è·¯ç”±å®ˆå«"><a href="#1-å‰-x2F-å-ç½®è·¯ç”±å®ˆå«" class="headerlink" title="1.å‰ &#x2F; å ç½®è·¯ç”±å®ˆå«"></a>1.å‰ &#x2F; å ç½®è·¯ç”±å®ˆå«</h4><p>ä¿æŠ¤è·¯ç”±çš„å®‰å…¨ <strong>éªŒè¯æ•°æ®åº“å†å±•ç¤º</strong></p><p>å…¨å±€å‰ç½®è·¯ç”±å®ˆå«</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            <span class="comment">// ç”¨äºå­˜æ”¾ç”¨æˆ·éœ€è¦çš„ç‰¹æ®Šæ•°æ®</span></span><br><span class="line">            <span class="comment">// å¯ä»¥åœ¨åˆ¤æ–­ä¸­è¿›è¡Œç´¢å¼• ä¸æŒ‡å®šé»˜è®¤ä¸º undefined ä¸º false</span></span><br><span class="line">            <span class="attr">meta</span>:&#123;<span class="attr">isAuth</span>:<span class="literal">true</span>,<span class="attr">title</span>:<span class="string">&quot;æ¯æ—¥æ¸…å•&quot;</span>&#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€å‰ç½®è·¯ç”±å®ˆå«</span></span><br><span class="line"><span class="comment">// to è·¯ç”±å»å‘ è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="comment">// from è·¯ç”±ç”±æ¥ è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="comment">// next å›è°ƒå‡½æ•° ä½¿ç”¨ next()æ‰èƒ½åˆ‡æ¢è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">path</span> === <span class="string">&#x27;/home&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">// åˆ©ç”¨metaåˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">from</span>.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€åç½®è·¯ç”±å®ˆå«</span></span><br><span class="line"><span class="comment">// æ—  next è·¯ç”±è·³è½¬å·²ç»å®Œæˆåè§¦å‘</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// å¯åœ¨è·³è½¬å®Œæˆåæ›´æ”¹è·¯ç”±</span></span><br><span class="line">doucment.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span> || <span class="string">&#x27;ç½‘é¡µæ ‡é¢˜&#x27;</span> <span class="comment">// çŸ­è·¯åˆ¤æ–­</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2-ç‹¬äº«è·¯ç”±å®ˆå«"><a href="#2-ç‹¬äº«è·¯ç”±å®ˆå«" class="headerlink" title="2.ç‹¬äº«è·¯ç”±å®ˆå«"></a>2.ç‹¬äº«è·¯ç”±å®ˆå«</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/TodoList&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">TheList</span>,</span><br><span class="line">            <span class="comment">// ç”¨äºå­˜æ”¾ç”¨æˆ·éœ€è¦çš„ç‰¹æ®Šæ•°æ®</span></span><br><span class="line">            <span class="comment">// å¯ä»¥åœ¨åˆ¤æ–­ä¸­è¿›è¡Œç´¢å¼• ä¸æŒ‡å®šé»˜è®¤ä¸º undefined ä¸º false</span></span><br><span class="line">            <span class="attr">meta</span>:&#123;<span class="attr">isAuth</span>:<span class="literal">true</span>,<span class="attr">title</span>:<span class="string">&quot;æ¯æ—¥æ¸…å•&quot;</span>&#125;,</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// ç‹¬äº«è·¯ç”±å®ˆå« ä»…æœ‰å‰ç½® æ— åç½®</span></span><br><span class="line">            <span class="attr">beforeEnter</span>:<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(...)&#123;</span><br><span class="line">                   <span class="title function_">next</span>()</span><br><span class="line">                   &#125;</span><br><span class="line">&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="3-ç»„ä»¶å†…è·¯ç”±å®ˆå«"><a href="#3-ç»„ä»¶å†…è·¯ç”±å®ˆå«" class="headerlink" title="3.ç»„ä»¶å†…è·¯ç”±å®ˆå«"></a>3.ç»„ä»¶å†…è·¯ç”±å®ˆå«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">mounted()&#123;</span><br><span class="line">        // é€šè¿‡è·¯ç”±å™¨è§„åˆ™ è¿›è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span><br><span class="line">        // åœ¨beforeEnter ä¹‹å‰</span><br><span class="line">        // to ä¸€å®šæ˜¯è¯¥ç»„ä»¶è·¯ç”±</span><br><span class="line">        beforeRouteEnter(to,from,next)&#123;</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        // é€šè¿‡è·¯ç”±å™¨è§„åˆ™ ç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span><br><span class="line">        // from ä¸€å®šæ˜¯è¯¥ç»„ä»¶è·¯ç”±</span><br><span class="line">        beforeRouteLeave(to,from,next)&#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="11-æµè§ˆå™¨è·¯ç”±æ¨¡å¼"><a href="#11-æµè§ˆå™¨è·¯ç”±æ¨¡å¼" class="headerlink" title="11.æµè§ˆå™¨è·¯ç”±æ¨¡å¼"></a>11.æµè§ˆå™¨è·¯ç”±æ¨¡å¼</h2><p><strong>main.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hash å¸¦ # å…¼å®¹æ€§å¥½ ä¸ç¾è§‚ </span></span><br><span class="line"><span class="comment">// history ä¸å¸¦ # å…¼å®¹æ€§å·®(ç›¸å¯¹) ç¾è§‚ ä¼šå¯»æ‰¾æœåŠ¡å™¨è·¯å¾„èµ„æº å®¹æ˜“å‡ºé”™(åç«¯è§£å†³)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®æ¨¡å¼</span></span><br><span class="line">    <span class="attr">mode</span>:history,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="12-æ‰“åŒ…-ä¸Šä¼ æœåŠ¡å™¨"><a href="#12-æ‰“åŒ…-ä¸Šä¼ æœåŠ¡å™¨" class="headerlink" title="12.æ‰“åŒ… ä¸Šä¼ æœåŠ¡å™¨"></a>12.æ‰“åŒ… <strong>ä¸Šä¼ æœåŠ¡å™¨</strong></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; npm run build</span><br><span class="line"><span class="comment">// ç”Ÿæˆ dist æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment">// ä¸ºæ‰“åŒ…åçš„ css js html æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// ç›´æ¥ç‚¹å‡» index.html æ— æ³•è¿è¡Œå¿…é¡»åœ¨æœåŠ¡å™¨éƒ¨ç½²</span></span><br></pre></td></tr></table></figure><p><strong>å¦‚ä½•éƒ¨ç½²æœåŠ¡å™¨</strong></p><p>node.js <strong>express</strong> æ¡†æ¶</p><p>-&gt;npm init</p><p>-&gt;text_serve åŒ…å</p><p>-&gt;npm i express</p><p><strong>ä¸­é—´ä»¶è§£å†³ history æ¨¡å¼ 404é—®é¢˜</strong></p><p>-&gt;npm i connect-history-api-fallback</p><p>&#x2F;&#x2F; åœ¨ server.js åŒçº§ç›®å½•ä¸‹ æ–°å»º js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> history = <span class="built_in">require</span>(<span class="string">&#x27;connect-history-api-fallback&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³history 404 é—®é¢˜</span></span><br><span class="line">app.<span class="title function_">use</span>(history)</span><br><span class="line"><span class="comment">// é»˜è®¤é€‰æ‹© index.html</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(__dirname+<span class="string">&quot;./static&quot;</span>))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/person&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    res.<span class="title function_">send</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">5005</span>,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸäº†!&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="13-Vue-UI-ç»„ä»¶åº“"><a href="#13-Vue-UI-ç»„ä»¶åº“" class="headerlink" title="13.Vue UI ç»„ä»¶åº“"></a>13.Vue UI ç»„ä»¶åº“</h2><p>7.1 ç§»åŠ¨ç«¯å¸¸ç”¨ç»„ä»¶åº“</p><ul><li>Vant <a href="https://youzan.github.io/vante">https://youzan.github.io/vante</a></li><li>Cube UI <a href="https://didi.github.io/cube-ui">https://didi.github.io/cube-ui</a></li><li>Mint Ul <a href="http://mint-ui.github.io/">http://mint-ui.github.io</a></li></ul><p>7.2PCç«¯å¸¸ç”¨UIç»„ä»¶åº“</p><ul><li>Element Ul <a href="https://element.eleme.cn/">https://element.eleme.cn</a></li><li>lView Ul <a href="https://www.iviewui.com/">https://www.iviewui.com</a></li><li>ant design <a href="https://ant.design/index-cn">Ant Design - ä¸€å¥—ä¼ä¸šçº§ UI è®¾è®¡è¯­è¨€å’Œ React ç»„ä»¶åº“</a></li></ul><p><strong>ç›´æ¥ç”¨å°±è¡Œ</strong></p><p>æ­¤å¤„ä»‹ç»Element UI</p><p>-&gt;npm i element-ui</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥å…¨éƒ¨æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¤å¤„use å ä¼šæ³¨å†Œå…¨éƒ¨ç»„ä»¶ä¸ºå…¨å±€ç»„ä»¶</span></span><br><span class="line"><span class="comment">// å¼•å…¥çš„ js éå¸¸å¤§ 7.2M(åˆ«ç”¨)</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>æŒ‰éœ€å¼•å…¥</strong></p><p>-&gt; npm install babel-plugin-component -D <strong>æŒ‰éœ€å¼•å…¥çš„åº“</strong> -Dä¸ºå¼€å‘ä¾èµ–(å¼€å‘ç¯å¢ƒ)</p><p>-&gt;npm install babel-preset-es2015 â€“save</p><p>-&gt;npm install â€“save-dev @babel&#x2F;cli</p><p><strong>éœ€è¦ä¿®æ”¹ babel.config.js é…ç½®</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    <span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span>,</span><br><span class="line">    [<span class="string">&#x27;es2015&#x27;</span>, &#123; <span class="attr">modules</span>: <span class="literal">false</span> &#125;],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&#x27;component&#x27;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">libraryName</span>: <span class="string">&#x27;element-ui&#x27;</span>,</span><br><span class="line">        <span class="attr">styleLibraryName</span>: <span class="string">&#x27;theme-chalk&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰éœ€å¼•å…¥ </span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Button</span>,<span class="title class_">Row</span>,...&#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="comment">// é…ç½®ä¹‹åä¼šå¼•å…¥éœ€è¦çš„ css è€Œä¸æ˜¯å…¨éƒ¨css</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Button çš„ç»„ä»¶å å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class="line"><span class="comment">// æ³¨å†Œå…¨å±€ç»„ä»¶</span></span><br><span class="line"><span class="title class_">VUe</span>.<span class="title function_">component</span>(<span class="title class_">Button</span>.<span class="property">name</span>,<span class="title class_">Button</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Vue2ã€‘å…¥é—¨å­¦ä¹ ç¬”è®°-02</title>
      <link href="/2022/12/12/Vue2-02/"/>
      <url>/2022/12/12/Vue2-02/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2å…¥é—¨å­¦ä¹ ç¬”è®°"><a href="#Vue2å…¥é—¨å­¦ä¹ ç¬”è®°" class="headerlink" title="Vue2å…¥é—¨å­¦ä¹ ç¬”è®°"></a>Vue2å…¥é—¨å­¦ä¹ ç¬”è®°</h1><blockquote><p>Vue2å…¥é—¨å¿…å¤‡ï¼</p><p>â­å…³æ³¨æˆ‘æŸ¥çœ‹æ›´å¤šé…å¥—ç¬”è®°</p><p>å­¦ä¹ è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Zy4y1K7SH/">https://www.bilibili.com/video/BV1Zy4y1K7SH/</a></p><p>ã€å°šç¡…è°·Vueå…¨å®¶æ¡¶ã€‘</p><p>æœ¬åšå®¢æ˜¯å¯¹è¯¥è§†é¢‘å†…å®¹çš„æ•´ç†ä»¥åŠåŠ å…¥è‡ªå·±çš„ç†è§£ <strong>æƒ³å…¨é¢å­¦ä¹ çš„æ¨èå¤§å®¶å»çœ‹åŸè§†é¢‘</strong></p></blockquote><h2 id="1-Vueè„šæ‰‹æ¶åŸºç¡€"><a href="#1-Vueè„šæ‰‹æ¶åŸºç¡€" class="headerlink" title="1.Vueè„šæ‰‹æ¶åŸºç¡€"></a>1.Vueè„šæ‰‹æ¶åŸºç¡€</h2><p>å®˜æ–¹æä¾›çš„ Vue å®˜æ–¹ æ ‡å‡†å¼€å‘å·¥å…·</p><p>å®˜æ–¹æ–‡æ¡£:<a href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a></p><p>Vue CLI(command line interface)è„šæ‰‹æ¶</p><p><strong>0.é…ç½®æ·˜å®é•œåƒ ä¸ç„¶ä¼šå¾ˆæ…¢ ç”šè‡³å®‰è£…å¤±è´¥</strong></p><p>npm config set registry <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p><p><strong>1.å…¨å±€å®‰è£…@vue&#x2F;cli</strong></p><p>npm install -g @vue&#x2F;cli</p><p><strong>2.åˆ‡æ¢åˆ°å¯¹åº”ç›®å½•</strong> åˆ›å»ºè„šæ‰‹æ¶</p><p>vue create vue_projectone</p><p>è¾“å…¥åä¼šé€‰æ‹© <strong>ä½¿ç”¨Vueçš„ç‰ˆæœ¬</strong>  2&#x2F;3&#x2F;è‡ªå®šä¹‰</p><p>bable : ES6 è¯­æ³•è½¬æ¢ä¸º ES5</p><p>eslint : è¯­æ³•æ£€æŸ¥å·¥å…· æ£€æŸ¥ä»£ç æ˜¯å¦åˆç†</p><p>é€‰æ‹©å¥½ä¹‹åè¾“å…¥å›è½¦</p><p><strong>è¿›è¡Œå¦‚ä¸‹æ“ä½œ</strong></p><ul><li>cd é¡¹ç›®å</li><li>npm run serve</li></ul><p>ä¹‹ååå¼€å§‹ç¼–è¯‘ä»£ç </p><p><strong>åœæ­¢ç»ˆç«¯è¿è¡Œ ctrl + c è¿ç»­æŒ‰ä¸¤æ¬¡ y&#x2F;n è¾“å…¥ä»€ä¹ˆéƒ½ä¼šå…³é—­</strong></p><h3 id="è„šæ‰‹æ¶ç»“æ„è®²è§£"><a href="#è„šæ‰‹æ¶ç»“æ„è®²è§£" class="headerlink" title="è„šæ‰‹æ¶ç»“æ„è®²è§£"></a>è„šæ‰‹æ¶ç»“æ„è®²è§£</h3><p><strong>src</strong></p><ul><li>main.js <strong>æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶</strong></li><li>App.vue</li><li>.gitignore git <strong>å¿½ç•¥ä¸Šä¼ gitæ–‡ä»¶çš„ é…ç½®</strong></li><li>babel.config.js <strong>babelçš„é…ç½®æ–‡ä»¶</strong></li><li>package.json <strong>npmåŒ…é…ç½®æ–‡ä»¶</strong><ul><li>serve <strong>ä»£ç æ‰§è¡Œåç›´æ¥è¿è¡Œ man.js</strong></li><li>build <strong>æ„å»º css js html</strong></li><li>lint <strong>è¿›è¡Œè¯­æ³•æ£€æŸ¥</strong></li></ul></li><li>package-lock.json <strong>åŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶</strong></li><li>README.md <strong>æ•™ç¨‹</strong></li></ul><p>app.vue</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220409160558455.png" alt="image-20220409160558455"></p><p><strong>app.vueå†…å®¹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">    &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // å¯¼å…¥vue</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">   /*å†™æ ·å¼*/</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>public &#x3D;&gt; index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é’ˆå¯¹IEæµè§ˆå™¨çš„ä¸€ä¸ªç‰¹æ®Šé…ç½®,å«ä¹‰æ˜¯è®©IEæµè§ˆå™¨ä»¥æœ€é«˜çš„æ¸²æŸ“çº§åˆ«æ¸²æŸ“é¡µé¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯ç§»åŠ¨ç«¯çš„ç†æƒ³è§†å£ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼•å…¥ favicon.ico  &lt;%= BASE_URL %&gt; ä»£è¡¨â€œ./â€åº•å±‚æœ‰å¤„ç†--&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¼šå°† package.json ä¸­çš„å†…å®¹å½“ä½œæ ‡é¢˜ webpackç›¸å…³å†…å®¹ --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--å½“æµè§ˆå™¨ä¸æ”¯æŒjsæ—¶ noscriptä¼šæ¸²æŸ“noscriptçš„æ ‡ç­¾--&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å®¹å™¨--&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åˆ†ærenderå‡½æ•°"><a href="#åˆ†ærenderå‡½æ•°" class="headerlink" title="åˆ†ærenderå‡½æ•°"></a>åˆ†ærenderå‡½æ•°</h3><p>å¼•å…¥çš„æ˜¯æ®‹ç¼ºçš„Vue ä¸å«æ¨¡æ¿è§£æå™¨ </p><p><strong>éœ€è¦è‡ªå·±ä½¿ç”¨render</strong> #çœä½“ç§¯ çœç©ºé—´</p><p><strong>æˆ–è€…è‡ªå·±å¼•å…¥å®Œæ•´ç‰ˆvue</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="comment">// h å®˜æ–¹è¯´æ³•æ˜¯ createElement æ˜¯ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="comment">// createElement(&quot;h1&quot;,&quot;ä½ å¥½å•Š&quot;) ç”Ÿæˆ&lt;h1&gt;ä½ å¥½å•Š&lt;/h1&gt;</span></span><br><span class="line">    <span class="comment">// ä¼ å…¥ ç»„ä»¶ ä¸ºæ¸²æŸ“ç»„ä»¶</span></span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å…³äºä¸åŒç‰ˆæœ¬çš„Vue:</span></span><br><span class="line"><span class="comment">1.vue.js ä¸vue.runtime.xxx.jsçš„åŒºåˆ«:</span></span><br><span class="line"><span class="comment">(1).vue.jsæ˜¯å®Œæ•´ç‰ˆçš„Vueï¼ŒåŒ…å«:æ ¸å¿ƒåŠŸèƒ½+æ¨¡æ¿è§£æå™¨ã€‚</span></span><br><span class="line"><span class="comment">(2).vue.runtime.xxx.jsæ˜¯è¿è¡Œç‰ˆçš„Vueï¼ŒåªåŒ…å«:æ ¸å¿ƒåŠŸèƒ½;æ²¡æœ‰æ¨¡æ¿è§£æå™¨ã€‚</span></span><br><span class="line"><span class="comment">2.å› ä¸ºvue.runtime.xxx.jsæ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨templateé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨renderå‡½æ•°æ¥æ”¶åˆ°çš„createElementçš„æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="2-è„šæ‰‹æ¶é…ç½®"><a href="#2-è„šæ‰‹æ¶é…ç½®" class="headerlink" title="2.è„šæ‰‹æ¶é…ç½®"></a>2.è„šæ‰‹æ¶é…ç½®</h2><p>Vueè„šæ‰‹æ¶éšè—äº†æ‰€æœ‰webpackç›¸å…³çš„é…ç½®ï¼Œè‹¥æƒ³æŸ¥çœ‹å…·ä½“çš„webpakcé…ç½®ï¼Œè¯·æ‰§</p><p><strong>vue inspect &gt; output.js</strong></p><p>&#x2F;&#x2F; ä»…ä»…æ˜¯è¾“å‡ºè®©ä½ çœ‹çš„æ–‡ä»¶ åœ¨è¿™é‡Œæ›´æ”¹æ˜¯æ— æ•ˆçš„</p><h3 id="å¦‚ä½•è‡ªè¡Œé…ç½®ï¼Ÿ"><a href="#å¦‚ä½•è‡ªè¡Œé…ç½®ï¼Ÿ" class="headerlink" title="å¦‚ä½•è‡ªè¡Œé…ç½®ï¼Ÿ"></a>å¦‚ä½•è‡ªè¡Œé…ç½®ï¼Ÿ</h3><p><a href="https://cli.vuejs.org/zh/config/">é…ç½®å‚è€ƒ | Vue CLI (vuejs.org)</a></p><p>åœ¨ package.json åŒçº§ç›®å½•ä¸‹åˆ›å»º <strong>vue.config.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Commonjs çš„æš´éœ²</span></span><br><span class="line"><span class="comment">// node.js ä½¿ç”¨çš„ commonjsçš„æš´éœ² ä¸èƒ½ç”¨ES6</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">pages</span>: &#123;</span><br><span class="line">    <span class="attr">index</span>: &#123;</span><br><span class="line">      <span class="comment">// page çš„å…¥å£</span></span><br><span class="line">      <span class="attr">entry</span>: <span class="string">&#x27;src/index/main.js&#x27;</span>,</span><br><span class="line">      <span class="comment">// æ¨¡æ¿æ¥æº</span></span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;public/index.html&#x27;</span>,</span><br><span class="line">      <span class="comment">// åœ¨ dist/index.html çš„è¾“å‡º</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">      <span class="comment">// å½“ä½¿ç”¨ title é€‰é¡¹æ—¶ï¼Œ</span></span><br><span class="line">      <span class="comment">// template ä¸­çš„ title æ ‡ç­¾éœ€è¦æ˜¯ &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span></span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Index Page&#x27;</span>,</span><br><span class="line">      <span class="comment">// åœ¨è¿™ä¸ªé¡µé¢ä¸­åŒ…å«çš„å—ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šåŒ…å«</span></span><br><span class="line">      <span class="comment">// æå–å‡ºæ¥çš„é€šç”¨ chunk å’Œ vendor chunkã€‚</span></span><br><span class="line">      <span class="attr">chunks</span>: [<span class="string">&#x27;chunk-vendors&#x27;</span>, <span class="string">&#x27;chunk-common&#x27;</span>, <span class="string">&#x27;index&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å½“ä½¿ç”¨åªæœ‰å…¥å£çš„å­—ç¬¦ä¸²æ ¼å¼æ—¶ï¼Œ</span></span><br><span class="line">    <span class="comment">// æ¨¡æ¿ä¼šè¢«æ¨å¯¼ä¸º `public/subpage.html`</span></span><br><span class="line">    <span class="comment">// å¹¶ä¸”å¦‚æœæ‰¾ä¸åˆ°çš„è¯ï¼Œå°±å›é€€åˆ° `public/index.html`ã€‚</span></span><br><span class="line">    <span class="comment">// è¾“å‡ºæ–‡ä»¶åä¼šè¢«æ¨å¯¼ä¸º `subpage.html`ã€‚</span></span><br><span class="line">    <span class="attr">subpage</span>: <span class="string">&#x27;src/subpage/main.js&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color=yellow>å…³é—­è¯­æ³•æ£€æŸ¥</font></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lintOnSave</span>:<span class="literal">false</span> <span class="comment">//ä¸pageå¹³çº§</span></span><br></pre></td></tr></table></figure><h2 id="3-refå±æ€§"><a href="#3-refå±æ€§" class="headerlink" title="3.refå±æ€§"></a>3.refå±æ€§</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">ref</span>=<span class="string">&quot;title&quot;</span>&gt;</span>H1æ ‡ç­¾<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">School</span> <span class="attr">ref</span>=<span class="string">&quot;sc&quot;</span>&gt;</span>H1æ ‡ç­¾<span class="tag">&lt;/<span class="name">School</span>&gt;</span> ç»„ä»¶æ ‡ç­¾ä½¿ç”¨</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// vuecomponent å¯¹è±¡å±æ€§</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">title</span>) <span class="comment">// è·å–çœŸå®dom</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å¯åœ¨æ­¤å¤„æ“ä½œDOM</span></span></span><br><span class="line"><span class="language-javascript">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sc</span>) <span class="comment">// è·å¾—vcå¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">1.è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£è€…ï¼‰</span></span><br><span class="line"><span class="comment">2.åº”ç”¨åœ¨htm1æ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ ï¼Œåº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šæ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡(vc)</span></span><br><span class="line"><span class="comment">3.ä½¿ç”¨æ–¹å¼:</span></span><br><span class="line"><span class="comment">æ‰“æ ‡è¯†:&lt;h1 ref=&quot;xxx &quot;&gt;.....&lt;/h1&gt;æˆ–&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</span></span><br><span class="line"><span class="comment">è·å–: this.$refs.xxx</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-propsé…ç½®"><a href="#4-propsé…ç½®" class="headerlink" title="4.propsé…ç½®"></a>4.propsé…ç½®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;!-- ä¼ å…¥dataå‚æ•° --&gt;</span><br><span class="line">        &lt;Student name=&quot;æå››&quot; sex=&quot;å¥³&quot; age=&quot;18&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;!-- ageä¸ç»‘å®šä¸ºå­—ç¬¦ä¸² æ— æ³•ä½¿ç”¨æ•°å­—è®¡ç®—</span><br><span class="line">å¯ä»¥ä½¿ç”¨ç»‘å®š --&gt;</span><br><span class="line">        &lt;Student name=&quot;æå››&quot; sex=&quot;å¥³&quot; :age=&quot;18&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">// åŠ å…¥æ­¤é¡¹é…ç½®é¡¹ æ¥æ”¶æ•°æ®</span></span><br><span class="line">    <span class="attr">props</span>:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>],</span><br><span class="line">    <span class="comment">// ç¬¬äºŒç§å†™æ³• é™åˆ¶ç±»å‹</span></span><br><span class="line">    <span class="attr">props</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="title class_">String</span>,</span><br><span class="line">        <span class="attr">age</span>:<span class="title class_">Number</span>,</span><br><span class="line">        <span class="attr">sex</span>:<span class="title class_">String</span>,</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰ç§å†™æ³•</span></span><br><span class="line">    <span class="attr">props</span>:&#123;</span><br><span class="line">    <span class="attr">name</span>:&#123;</span><br><span class="line">    <span class="attr">type</span>:<span class="title class_">String</span>, <span class="comment">// æŒ‡å®šç±»å‹</span></span><br><span class="line">    <span class="attr">required</span>:<span class="literal">true</span>, <span class="comment">// æ˜¯å¦ä¸ºå¿…é¡»çš„å‚æ•°</span></span><br><span class="line">    <span class="attr">default</span>:<span class="string">&quot;ç‹äºŒ&quot;</span>, <span class="comment">// ä¸ä¼ å‚é»˜è®¤ä¸ºè¯¥å€¼</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// props ä¸­æ¥æ”¶çš„æ•°æ®æ— æ³•æ›´æ”¹ ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">// å¼ºè¡Œæ›´æ”¹æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">props</span>:[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>],</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            myAge = <span class="variable language_">this</span>.<span class="property">age</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ myAge ä»£æ›¿ age</span></span><br><span class="line">    <span class="comment">// props ä¼˜å…ˆçº§æ›´é«˜ ä¼šä¼˜å…ˆå±•ç¤º</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// props ä¸èƒ½ä¼ å…¥ vue å·²ç»ä½¿ç”¨çš„å±æ€§</span></span><br><span class="line"><span class="comment">// ref key ...</span></span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## é…ç½®é¡¹props</span></span><br><span class="line">åŠŸèƒ½:è®©ç»„ä»¶æ¥æ”¶å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ®</span><br><span class="line"><span class="code">(1).ä¼ é€’æ•°æ®:</span></span><br><span class="line"><span class="code">&lt;Demo name=&quot;xxx&quot;/&gt;</span></span><br><span class="line"><span class="code">(2).æ¥æ”¶æ•°æ®:</span></span><br><span class="line"><span class="code">ç¬¬ä¸€ç§æ–¹å¼(åªæ¥æ”¶)âˆ¶</span></span><br><span class="line"><span class="code">props:[&quot;name&quot;]</span></span><br><span class="line"><span class="code">ç¬¬äºŒç§æ–¹å¼(é™åˆ¶ç±»å‹):</span></span><br><span class="line"><span class="code">props:&#123;</span></span><br><span class="line"><span class="code">name: Number</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">ç¬¬ä¸‰ç§æ–¹å¼(é™åˆ¶ç±»å‹ã€é™åˆ¶å¿…è¦æ€§ã€æŒ‡å®šé»˜è®¤å€¼):</span></span><br><span class="line"><span class="code">    props:&#123;</span></span><br><span class="line"><span class="code">    name:&#123;</span></span><br><span class="line"><span class="code">    type:String, // æŒ‡å®šç±»å‹</span></span><br><span class="line"><span class="code">    required:true, // æ˜¯å¦ä¸ºå¿…é¡»çš„å‚æ•°</span></span><br><span class="line"><span class="code">    default:&quot;ç‹äºŒ&quot;, // ä¸ä¼ å‚é»˜è®¤ä¸ºè¯¥å€¼</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">å¤‡æ³¨: propsæ˜¯åªè¯»çš„ï¼ŒVueåº•å±‚ä¼šç›‘æµ‹ä½ å¯¹propsçš„ä¿®æ”¹ï¼Œå¦‚æœè¿›è¡Œäº†ä¿®æ”¹ï¼Œå°±ä¼šå‘å‡ºè­¦å‘Š,</span><br><span class="line">è‹¥ä¸šåŠ¡éœ€æ±‚ç¡®å®éœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯·å¤åˆ¶propsçš„å†…å®¹åˆ°dataä¸­ä¸€ä»½ï¼Œç„¶åå»ä¿®æ”¹dataä¸­çš„æ•°æ®ã€‚</span><br></pre></td></tr></table></figure><h2 id="5-mixin-æ··å…¥"><a href="#5-mixin-æ··å…¥" class="headerlink" title="5.mixin(æ··å…¥)"></a>5.mixin(æ··å…¥)</h2><p>mixin.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸¤ä¸ªç»„ä»¶å…±åŒä½¿ç”¨ç›¸åŒçš„é…ç½®</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">x</span>:<span class="number">200</span>,</span><br><span class="line">            <span class="attr">y</span>:<span class="number">200</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>vueä¸­çš„script</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ä¸€ä¸ªæ··åˆç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;mixin&#125; <span class="keyword">from</span> <span class="string">&quot;../mixin&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;School&quot;</span>,</span><br><span class="line">    <span class="comment">// å¤ç”¨é…ç½®</span></span><br><span class="line">     <span class="attr">mixins</span>:[minxin,mixin2],</span><br><span class="line">    <span class="comment">// æ•°æ®é‡å¤</span></span><br><span class="line">    <span class="comment">// ä¸ç ´ååŸæœ‰æ•°æ® å°†ç°æœ‰æ•°æ®ä¸åŸæœ‰æ•°æ®æ•´åˆ å¦‚æœé‡å¤ç°æœ‰æ•°æ®ä¼˜å…ˆçº§æ›´é«˜</span></span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            <span class="attr">x</span>:<span class="number">300</span>,</span><br><span class="line">            <span class="attr">y</span>:<span class="number">200</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç”Ÿå‘½å‘¨æœŸ mounted ç­‰æŒ‚è½½å‡½æ•° æ··å…¥ä¼šæ‰§è¡Œç›¸åŒä¸¤æ®µä»£ç </span></span><br><span class="line">    <span class="comment">// æ¥è€…ä¸æ‹’ å‡ä¼šæ‰§è¡Œ</span></span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¤šæ¬¡é‡å¤æ‰§è¡Œ&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€æ··åˆ</span></span><br><span class="line"><span class="comment">// main.js ä¸­</span></span><br><span class="line"><span class="keyword">import</span> &#123;mixin&#125; <span class="keyword">from</span> <span class="string">&quot;../mixin&quot;</span>;</span><br><span class="line"><span class="comment">// vm ä¸ vc å‡ä¼šæ‰§è¡Œè¯¥å‡½æ•°</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-æ’ä»¶"><a href="#6-æ’ä»¶" class="headerlink" title="6.æ’ä»¶"></a>6.æ’ä»¶</h2><p><strong>èšåˆä»£ç </strong> ä¹¦å†™å…¨å±€é…ç½®</p><p>åœ¨ src æ·»åŠ  plugs.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">// è¯¥å‚æ•° ä¸º Vueçš„æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="title function_">install</span>(<span class="params">Vue,x,y,z</span>)&#123;</span><br><span class="line">        <span class="comment">// å…¨å±€è¿‡æ»¤å™¨</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&quot;mySlice&quot;</span>,<span class="title function_">fuction</span>(<span class="params">value</span>)&#123;&#125;);</span><br><span class="line">    <span class="comment">// å…¨å±€æŒ‡ä»¤</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&quot;fbind&quot;</span>,&#123;&#125;);</span><br><span class="line"><span class="comment">// å®šä¹‰æ··å…¥</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™VueåŸå‹æ·»åŠ æ–¹æ³• vm ä¸ vc å‡èƒ½ä½¿ç”¨</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">hello</span> = <span class="function">()=&gt;</span>&#123;<span class="title function_">alert</span>(<span class="string">&quot;ä½ å¥½å•Š&quot;</span>)&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶ </span></span><br><span class="line"><span class="keyword">import</span> plugs <span class="keyword">from</span> <span class="string">&quot;../plugs.js&quot;</span></span><br><span class="line"><span class="comment">// åœ¨å£°æ˜ vm ä¹‹å‰å¼€å¯æ’ä»¶</span></span><br><span class="line"><span class="comment">// èƒ½æ¥æ”¶å¤šä¸ª å‚æ•° ä½†æ˜¯ç¬¬ä¸€ä¸ªå¿…é¡»æ˜¯æ’ä»¶å installçš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¸º Vue</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(plugs,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€å£°æ˜ä¹‹å å¯åœ¨ å…¨éƒ¨ vm vc ä¸­ä½¿ç”¨</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="7-scopedæ ·å¼-x2F-less-ç¼–è¯‘"><a href="#7-scopedæ ·å¼-x2F-less-ç¼–è¯‘" class="headerlink" title="7.scopedæ ·å¼ &#x2F; less ç¼–è¯‘"></a>7.scopedæ ·å¼ &#x2F; less ç¼–è¯‘</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">    /* åŠ å…¥scopedä¹‹å å„ä¸ªcssä¹‹é—´ç›¸äº’ç‹¬ç«‹ ä¸äº’ç›¸å½±å“ */</span><br><span class="line">    /* ä¸€èˆ¬appç»„ä»¶ä¸­ ä¸ä¼šä½¿ç”¨scoped */</span><br><span class="line">    /* ä½¿cssæ ·å¼å±€éƒ¨ç”Ÿæ•ˆ */</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line">    /* æ”¯æŒä½¿ç”¨less */</span><br><span class="line">    /* éœ€è¦å®‰è£…åŒ… less-loader */</span><br><span class="line">    /* éœ€è¦è€ƒè™‘å…¼å®¹æ€§é—®é¢˜ */</span><br><span class="line">    /* å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ less-loader ä¸ç„¶ä¼šæŠ¥é”™ */ </span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;css&quot;&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="8-ç»™å…„å¼Ÿç»„ä»¶ä¼ å‚"><a href="#8-ç»™å…„å¼Ÿç»„ä»¶ä¼ å‚" class="headerlink" title="8.ç»™å…„å¼Ÿç»„ä»¶ä¼ å‚"></a>8.ç»™å…„å¼Ÿç»„ä»¶ä¼ å‚</h2><p>1.ä¼ ç»™çˆ¶å…ƒç´  (propsä¼ ç»™çˆ¶å…ƒç´ ä¸€ä¸ªæ–¹æ³•)</p><p>2.ç”±çˆ¶å…ƒç´ ä¼ ç»™å­å…ƒç´ çš„å…„å¼Ÿå…ƒç´ </p><p>ï¼ˆ9. ä¸­å«å…¶ä»–æ–¹æ³• ä½¿ç”¨refä¸è‡ªå®šä¹‰äº‹ä»¶ ä¸mountedï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;School :receive=&quot;receive&quot;&gt;&lt;/School&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&quot;Compents&quot;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            receive(x)&#123;</span><br><span class="line">                console.log(&#x27;æˆ‘æ˜¯appç»„ä»¶æˆ‘æ”¶åˆ°äº†æ•°æ®&#x27;,x)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&quot;School&quot;,</span><br><span class="line">        props:[&quot;receive&quot;],</span><br><span class="line">        method:&#123;</span><br><span class="line">            add(x)&#123;</span><br><span class="line">                receive(x);</span><br><span class="line">                // å¯åœ¨å­å…ƒç´ è°ƒç”¨çˆ¶å…ƒç´ çš„æ–¹æ³•</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="9-ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶"><a href="#9-ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="9.ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶"></a>9.ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶</h2><p>1.jså†…ç½®äº‹ä»¶ click keyup ç­‰</p><p>2.è‡ªå®šä¹‰äº‹ä»¶</p><p>app.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Student v-on:atguigu=&quot;getStudentName&quot;&gt;&lt;/Student&gt;</span><br><span class="line">&lt;Student ref=&quot;studnet&quot;&gt;&lt;/Student&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#123;</span><br><span class="line">        // æŒ‚è½½mounted å­ä¼ çˆ¶</span><br><span class="line">        mounted()&#123;</span><br><span class="line">            // $on å½“atguiguäº‹ä»¶è§¦å‘çš„æ—¶å€™</span><br><span class="line">            this.$refs.student.$on(&#x27;atguigu&#x27;,this.getStudentName)</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">getStudentName(name)&#123;</span><br><span class="line">                console.log(&quot;è·å¾—nameæ•°æ®&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;h1 @click=&quot;ad&quot;&gt;&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#123;</span><br><span class="line">        // props:[&#x27;getStudentName&#x27;],</span><br><span class="line">        // è§¦å‘äº‹ä»¶ å­ä¼ çˆ¶</span><br><span class="line">        methods:&#123;</span><br><span class="line">            ad()&#123;</span><br><span class="line">                // è§¦å‘äº‹ä»¶ ä½¿ç”¨æ–¹æ³• $emit</span><br><span class="line">                this.$emit(&#x27;atguigu&#x27;,this.name)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="10-è§£é™¤ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶"><a href="#10-è§£é™¤ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="10.è§£é™¤ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶"></a>10.è§£é™¤ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶</h2><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;h1 @click=&quot;unBind&quot;&gt;&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#123;</span><br><span class="line">        methods:&#123;</span><br><span class="line">            unBind()&#123;</span><br><span class="line">                // è§¦å‘äº‹ä»¶ ä½¿ç”¨æ–¹æ³• $emit</span><br><span class="line">                this.$emit(&#x27;atguigu&#x27;,this.name)</span><br><span class="line">                // è§£ç»‘å•ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span><br><span class="line">                this.$off(&#x27;atguigu&#x27;)</span><br><span class="line">                // è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶</span><br><span class="line">                // ä¼ å…¥æ•°ç»„</span><br><span class="line">                this.$off([&#x27;atguigu&#x27;,&#x27;...&#x27;,&#x27;...&#x27;])</span><br><span class="line">                // è§£ç»‘å…¨éƒ¨è‡ªå®šä¹‰äº‹ä»¶</span><br><span class="line">                this.$off()</span><br><span class="line">               // æ‘§æ¯ vcå®ä¾‹ è‡ªå®šä¹‰äº‹ä»¶è§£ç»‘(å…¨éƒ¨å¤±æ•ˆ)</span><br><span class="line">                this.$destroy()</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="11-å…¨å±€äº‹ä»¶æ€»çº¿"><a href="#11-å…¨å±€äº‹ä»¶æ€»çº¿" class="headerlink" title="11.å…¨å±€äº‹ä»¶æ€»çº¿"></a>11.å…¨å±€äº‹ä»¶æ€»çº¿</h2><p>è®¾è®¡ä¸€ä¸ªä¸åœ¨ä»»ä½•ç»„ä»¶å†…çš„ç»„ä»¶ <strong>ä½œä¸ºå…¨éƒ¨äº‹ä»¶çš„ä¸­è½¬ç«™</strong></p><p>Aä¸­è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ ä¸­è½¬X è§¦å‘Cçš„æ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨æ‰€æœ‰ç»„ä»¶éƒ½èƒ½è®¿é—®çš„åœ°æ–¹æ·»åŠ  æ•°æ®å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨ $on $off $emit</span></span><br></pre></td></tr></table></figure><p>1.windows 2.VueCompents(éœ€è¦æ”¹åŸå‹)</p><p>ä½¿ç”¨ Vue  åœ¨main.jsä¸­æ“ä½œ</p><p>VueCompentå¯¹è±¡çš„____proto____æŒ‡å‘Vueçš„åŸå‹å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨main.js ä¸­æ·»åŠ  &#x27;X&#x27; å‚€å„¡ ä½œä¸º vm / vc å¯ä»¥ä½¿ç”¨ $on $emit $off</span></span><br><span class="line"><span class="comment">// åˆ™å‚€å„¡å¿…é¡»ä¸º Vue å®ä¾‹ vm</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&quot;app&quot;</span>,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="title function_">beforeCreate</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span>; <span class="comment">//å…¨å±€äº‹ä»¶æ€»çº¿</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å…¶ä»– vc ä¸­ä½¿ç”¨å…¨å±€äº‹ä»¶æ€»çº¿</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="attr">methods</span>:&#123;</span><br><span class="line">            <span class="title function_">unBind</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="comment">// è§¦å‘äº‹ä»¶ ä½¿ç”¨æ–¹æ³• $emit</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&#x27;atguigu&#x27;</span>,<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// è§£ç»‘å…¨éƒ¨è‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$bus</span>.$off()</span><br><span class="line">               <span class="comment">// æ‘§æ¯ å…¨å±€äº‹ä»¶æ€»çº¿ vm å®ä¾‹ è‡ªå®šä¹‰äº‹ä»¶è§£ç»‘(å…¨éƒ¨å¤±æ•ˆ)</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$bus</span>.$destroy()</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">beforDestroy</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="comment">// åœ¨åœ¨è¢«æ‘§æ¯ä¹‹å‰è§£ç»‘è¯¥ç»„ä»¶ åœ¨æ€»çº¿ä¸­çš„äº‹ä»¶</span></span><br><span class="line">            <span class="comment">// è§£ç»‘å•ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$bus</span>.$off(<span class="string">&#x27;atguigu&#x27;</span>)</span><br><span class="line">                <span class="comment">// è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line">                <span class="comment">// ä¼ å…¥æ•°ç»„</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$bus</span>.$off([<span class="string">&#x27;atguigu&#x27;</span>,<span class="string">&#x27;...&#x27;</span>,<span class="string">&#x27;...&#x27;</span>])</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220418175658554.png" alt="image-20220418175658554"></p><h2 id="12-æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"><a href="#12-æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ" class="headerlink" title="12.æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"></a>12.æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</span></span><br><span class="line"><span class="comment">1.è®¢é˜…æ¶ˆæ¯ï¸°æ¶ˆæ¯å</span></span><br><span class="line"><span class="comment">2.å‘å¸ƒæ¶ˆæ¯ï¸°æ¶ˆæ¯å†…å®¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦ä½¿ç”¨ æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒçš„åº“</span></span><br><span class="line"><span class="comment">// åœ¨å„ç§æ¡†æ¶é‡Œéƒ½èƒ½ä½¿ç”¨ ä¸å±€é™äº vue </span></span><br><span class="line"><span class="comment">// æœ‰å¤šç§åº“å­˜åœ¨ æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒæ˜¯ä¸€ç§ç†å¿µ</span></span><br><span class="line"><span class="comment">// è¿™é‡Œæ¨è : pubsub-js </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»ä¼¼äº $bus</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¢é˜…æ¶ˆæ¯</span></span><br><span class="line"><span class="keyword">import</span> pubsub <span class="keyword">from</span> <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line"><span class="comment">// åœ¨mountedä¸­è®¢é˜…</span></span><br><span class="line"><span class="comment">// éœ€è¦è®¾ç½®id// évueç®¡ç†å¿…é¡»ä½¿ç”¨ç®­å¤´å‡½æ•°!!</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable language_">this</span>.<span class="property">pubid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&quot;æ¶ˆæ¯å&quot;</span>,<span class="title function_">fuction</span>(<span class="params">msgName,data</span>)&#123;</span><br><span class="line"><span class="comment">// msgName ä¸ºæ¶ˆæ¯å </span></span><br><span class="line">    <span class="comment">// data ä¸ºä¹‹åçš„ä¼ é€’çš„å‚æ•°</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æˆ–è€…ä¼ å…¥ åœ¨ methods ä¸­é…ç½®çš„æ–¹æ³• this ä¸ä¼šå‡ºé—®é¢˜</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable language_">this</span>.<span class="property">pubid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&quot;æ¶ˆæ¯å&quot;</span>,<span class="variable language_">this</span>.<span class="property">method</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨é”€æ¯å‰å–æ¶ˆä¸è®¢é˜… beforDistory</span></span><br><span class="line">pubsub.<span class="title function_">unsubscribe</span>(<span class="variable language_">this</span>.<span class="property">pubid</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒæ¶ˆæ¯</span></span><br><span class="line">pubsub.<span class="title function_">publish</span>(<span class="string">&#x27;hello&#x27;</span>,<span class="number">666</span>);</span><br></pre></td></tr></table></figure><h2 id="13-nextTick"><a href="#13-nextTick" class="headerlink" title="13.$nextTick"></a>13.$nextTick</h2><p>åœ¨DOMèŠ‚ç‚¹ ä¸‹ä¸€æ¬¡æ›´æ–°ä¹‹å æ‰§è¡Œå›è°ƒå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">editInput</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">element</span>)=&gt;</span>&#123;</span><br><span class="line">    element.<span class="title function_">focus</span>();</span><br><span class="line">&#125;)</span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Vue2ã€‘å…¥é—¨å­¦ä¹ ç¬”è®°-01</title>
      <link href="/2022/12/11/Vue2-01/"/>
      <url>/2022/12/11/Vue2-01/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2å…¥é—¨å­¦ä¹ ç¬”è®°"><a href="#Vue2å…¥é—¨å­¦ä¹ ç¬”è®°" class="headerlink" title="Vue2å…¥é—¨å­¦ä¹ ç¬”è®°"></a>Vue2å…¥é—¨å­¦ä¹ ç¬”è®°</h1><blockquote><p>Vue2å…¥é—¨å¿…å¤‡ï¼</p><p>â­å…³æ³¨æˆ‘æŸ¥çœ‹æ›´å¤šé…å¥—ç¬”è®°</p><p>å­¦ä¹ è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Zy4y1K7SH/">https://www.bilibili.com/video/BV1Zy4y1K7SH/</a></p><p>ã€å°šç¡…è°·Vueå…¨å®¶æ¡¶ã€‘</p><p>æœ¬åšå®¢æ˜¯å¯¹è¯¥è§†é¢‘å†…å®¹çš„æ•´ç†ä»¥åŠåŠ å…¥è‡ªå·±çš„ç†è§£ <strong>æƒ³å…¨é¢å­¦ä¹ çš„æ¨èå¤§å®¶å»çœ‹åŸè§†é¢‘</strong></p></blockquote><h2 id="1-åŸºç¡€"><a href="#1-åŸºç¡€" class="headerlink" title="1.åŸºç¡€"></a>1.åŸºç¡€</h2><h3 id="1-ç‰¹ç‚¹"><a href="#1-ç‰¹ç‚¹" class="headerlink" title="1.ç‰¹ç‚¹"></a>1.ç‰¹ç‚¹</h3><p>1.é‡‡ç”¨ç»„ä»¶åŒ–æ¨¡å¼ï¼Œæé«˜ä»£ç å¤ç”¨ç‡ï¼Œè®©ä»£ç æ›´å¥½ç»´æŠ¤</p><p>2.å£°æ˜å¼ç¼–ç ï¼Œè®©ç¼–ç äººå‘˜æ— éœ€ç›´æ¥æ“ä½œDOMï¼Œæé«˜å¼€å‘æ•ˆç‡</p><p>3.ä½¿ç”¨è™šæ‹ŸDOM + ä¼˜ç§€çš„Diffç®—æ³•ï¼Œå°½é‡å¤ç”¨DOMèŠ‚ç‚¹</p><h3 id="2-å®˜ç½‘å†…å®¹"><a href="#2-å®˜ç½‘å†…å®¹" class="headerlink" title="2.å®˜ç½‘å†…å®¹"></a>2.å®˜ç½‘å†…å®¹</h3><p>å®˜æ–¹ç½‘å€ ï¼šcn.vuejs.org</p><h3 id="3-ä¸‹è½½åŠå®‰è£…"><a href="#3-ä¸‹è½½åŠå®‰è£…" class="headerlink" title="3.ä¸‹è½½åŠå®‰è£…"></a>3.ä¸‹è½½åŠå®‰è£…</h3><h4 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1.ä¸‹è½½"></a>1.ä¸‹è½½</h4><p>åœ¨å®˜æ–¹ç½‘å€ :  <a href="https://cn.vuejs.org/v2/guide/installation.html">å®‰è£… â€” Vue.js (vuejs.org)</a></p><p>éœ€è¦é…ç½®ä»¥ä¸‹å†…å®¹ï¼š</p><h4 id="2-å®‰è£…å¼€å‘è€…å·¥å…·"><a href="#2-å®‰è£…å¼€å‘è€…å·¥å…·" class="headerlink" title="2.å®‰è£…å¼€å‘è€…å·¥å…·"></a>2.å®‰è£…å¼€å‘è€…å·¥å…·</h4><p>ä¸€ã€Chromeæµè§ˆå™¨å®‰è£…æ–¹å¼ï¼š<br>â‘ ï¼šç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹<br>â‘¡ï¼šç‚¹å‡»æ›´å¤šå·¥å…·<br>â‘¢ï¼šç‚¹å‡»æ‰©å±•ç¨‹åº<br>â‘£ï¼šç‚¹å‡»å³ä¸Šè§’çš„å¼€å‘è€…æ¨¡å¼ï¼Œå°†ä»–å¯ç”¨<br>â‘¤ï¼šå°†ä¸‹è½½çš„Vue.crxæ–‡ä»¶ç›´æ¥æ‹–åŠ¨åˆ°æµè§ˆå™¨çª—å£å³å¯<br>äºŒï¼šEdgeæµè§ˆå™¨å®‰è£…æ–¹å¼<br>â‘ ï¼šç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹<br>â‘¡ï¼šç‚¹å‡»æ‰©å±•<br>â‘¢ï¼šç‚¹å‡»å·¦ä¸‹è§’çš„å¼€å‘äººå‘˜æ¨¡å¼ï¼Œå°†ä»–å¯ç”¨<br>â‘£ï¼šå°†Vue.crxæ–‡ä»¶æ‹–åŠ¨åˆ°æµè§ˆå™¨å³å¯</p><p><a href="https://pan.baidu.com/s/1MtYvMPew4lb14piIrs9x6w">https://pan.baidu.com/s/1MtYvMPew4lb14piIrs9x6w</a><br>æå–ç ï¼š6666 </p><h4 id="3-å…³é—­å¼€å‘è€…æç¤º"><a href="#3-å…³é—­å¼€å‘è€…æç¤º" class="headerlink" title="3.å…³é—­å¼€å‘è€…æç¤º"></a>3.å…³é—­å¼€å‘è€…æç¤º</h4><p>Vue.config.productionTip &#x3D; false;</p><h2 id="2-åŸºç¡€ä½¿ç”¨"><a href="#2-åŸºç¡€ä½¿ç”¨" class="headerlink" title="2.åŸºç¡€ä½¿ç”¨"></a>2.åŸºç¡€ä½¿ç”¨</h2><p>&#x2F;&#x2F; éVueæ§åˆ¶çš„å‡½æ•°å°½é‡å†™æˆç®­å¤´å‡½æ•°</p><h3 id="1-åŸºç¡€Vueå…¨å±€é…ç½®-ä¼ å‚-x2F-ä½¿ç”¨å¯¹è±¡æ–¹æ³•"><a href="#1-åŸºç¡€Vueå…¨å±€é…ç½®-ä¼ å‚-x2F-ä½¿ç”¨å¯¹è±¡æ–¹æ³•" class="headerlink" title="1.åŸºç¡€Vueå…¨å±€é…ç½®(ä¼ å‚)&#x2F;ä½¿ç”¨å¯¹è±¡æ–¹æ³•"></a>1.åŸºç¡€Vueå…¨å±€é…ç½®(ä¼ å‚)&#x2F;ä½¿ç”¨å¯¹è±¡æ–¹æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä½ å¥½,&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> <span class="comment">&lt;!-- ä½¿ç”¨æ¨¡æ¿è¯­æ³•å»æ¸²æŸ“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä½ å¥½,&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> <span class="comment">&lt;!-- &#123;&#123; &#125;&#125; ä¸­å¿…é¡»å†™JSè¡¨è¾¾å¼ï¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç°åœ¨æ—¶é—´æ˜¯&#123;&#123;Date.now()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è¡¨è¾¾å¼: ä¸€ä¸ªè¡¨è¾¾å¼ä¼šç”Ÿæˆä¸€ä¸ªå€¼,å¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, <span class="comment">//elç”¨äºæŒ‡å®šå½“å‰Vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ é€šå¸¸ä¸ºcssé€‰æ‹©å™¨å­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;  <span class="comment">//å‚¨å­˜æ•°æ®,åªèƒ½åœ¨æŒ‡å®šçš„å®¹å™¨ä¸­å»ä½¿ç”¨,å€¼å†™æˆä¸€ä¸ªå¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;å°šç¡…è°·&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// åªä¼šé€‰æ‹©ç¬¬ä¸€ä¸ª root </span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å®¹å™¨ä¸Vueæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ï¼ï¼</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> y = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;.root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;å°šç¡…è°·&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// dataç¬¬äºŒç§å†™æ³• å‡½æ•°å¼å†™æ³• vueè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•° this ä¼šæŒ‡å‘windows</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:<span class="title function_">fuction</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;QQQ&#x27;</span>, <span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;å°šç¡…è°·&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ä½¿ç”¨æ–¹æ³•ä¿®æ”¹å‚æ•°</span></span></span><br><span class="line"><span class="language-javascript">    y.$mount(<span class="string">&#x27;#root&#x27;</span>)  <span class="comment">// sä¿®æ”¹å®ä¾‹æ„é€ å™¨ä¸­çš„ element</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-æ¨¡æ¿è¯­æ³•"><a href="#2-æ¨¡æ¿è¯­æ³•" class="headerlink" title="2.æ¨¡æ¿è¯­æ³•"></a>2.æ¨¡æ¿è¯­æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">æ’å€¼è¯­æ³• </span></span><br><span class="line"><span class="comment">åŠŸèƒ½:ç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹ </span></span><br><span class="line"><span class="comment">å†™æ³•:&#123;[xXXx&#125;]. xxxæ˜¯jsè¡¨è¾¾å¼,ä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä½ å¥½,&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">æŒ‡ä»¤è¯­æ³• è®¾ç½®å…ƒç´ çš„å±æ€§</span></span><br><span class="line"><span class="comment">åŠŸèƒ½:ç”¨äºè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬:æ ‡ç­¾å±æ€§ã€æ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶.....)</span></span><br><span class="line"><span class="comment">ä¸¾ä¾‹:v-bind:href=&quot;&quot;xxxâ€æˆ–ç®€å†™ä¸º:href=&quot;xxx&quot;&quot;ï¼ŒxxxåŒæ ·è¦jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§</span></span><br><span class="line"><span class="comment">å¤‡æ³¨:Vueä¸­æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œä¸”å½¢å¼éƒ½æ˜¯: v-????ï¼Œæ­¤å¤„æˆ‘ä»¬åªæ˜¯æ‹¿v-bindä¸¾ä¸ªä¾‹å­ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç®€å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-æ•°æ®ç»‘å®š"><a href="#3-æ•°æ®ç»‘å®š" class="headerlink" title="3.æ•°æ®ç»‘å®š"></a>3.æ•°æ®ç»‘å®š</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;url&quot;</span>&gt;</span>æˆ‘æ˜¯å•é¡¹ç»‘å®š</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model:value</span>=<span class="string">&quot;url&quot;</span>&gt;</span>æˆ‘æ˜¯åŒå‘ç»‘å®š</span><br><span class="line"><span class="comment">&lt;!-- v-model åªèƒ½ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ä¸Š è¾“å…¥ç±»å…ƒç´  å«æœ‰valueå€¼ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç®€å†™ --&gt;</span></span><br><span class="line">// ç»‘å®šå ä¸ºjsè¡¨è¾¾å¼ ä¸ç»‘å®šä¸ºå­—ç¬¦ä¸²</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">&quot;url&quot;</span>&gt;</span>æˆ‘æ˜¯å•é¡¹ç»‘å®š</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;url&quot;</span>&gt;</span>æˆ‘æ˜¯åŒå‘ç»‘å®š</span><br></pre></td></tr></table></figure><h3 id="4-MVVMæ¨¡å‹"><a href="#4-MVVMæ¨¡å‹" class="headerlink" title="4.MVVMæ¨¡å‹"></a>4.MVVMæ¨¡å‹</h3><p>1.M:æ¨¡å‹(Model):å¯¹åº”dataä¸­çš„æ•°æ®</p><p>2.V:è§†å›¾(View):æ¨¡æ¿</p><p>3.VM:è§†å›¾æ¨¡å‹(ViewModel) : Vue å®ä¾‹å¯¹è±¡å¿ƒ</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220328193753311.png" alt="image-20220328193753311"></p><p><strong>å› æ­¤ vm ä¹Ÿç»å¸¸ä½œä¸º Vueçš„å®ä¾‹å¯¹è±¡</strong></p><p><strong>const vm &#x3D; new Vue({})</strong></p><h3 id="5-vm"><a href="#5-vm" class="headerlink" title="5.vm"></a>5.vm</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    vmä¸­å®ä¾‹å«æœ‰çš„å†…å®¹</span></span><br><span class="line"><span class="comment">    å¯ä»¥ç›´æ¥åœ¨ Vue æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    &#123;&#123; $mount(&#x27;#root&#x27;) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&#123;&#123;name&#125;&#125; å­˜åœ¨æ˜¯å› ä¸ºä¼šè‡ªåŠ¨æ·»åŠ åˆ° vm å¯¹è±¡ä¸­</span><br></pre></td></tr></table></figure><h3 id="6-è¿›é˜¶æŠ€æœ¯-Objectæ–¹æ³•"><a href="#6-è¿›é˜¶æŠ€æœ¯-Objectæ–¹æ³•" class="headerlink" title="6.è¿›é˜¶æŠ€æœ¯ Objectæ–¹æ³•"></a>6.è¿›é˜¶æŠ€æœ¯ Objectæ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ object.defineProperty æ·»åŠ å¯¹è±¡æˆå‘˜</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(å¯¹è±¡å,æ·»åŠ çš„é”®,æ·»åŠ çš„å€¼)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,keys,&#123;</span><br><span class="line">    <span class="attr">value</span>:<span class="number">18</span>, <span class="comment">// è®¾ç½® </span></span><br><span class="line">    <span class="attr">enumerable</span>:<span class="literal">true</span>, <span class="comment">// æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«æšä¸¾(è¢«éå†)  é»˜è®¤ä¸ºfalse</span></span><br><span class="line">    <span class="attr">writable</span>:<span class="literal">true</span>, <span class="comment">// æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ é»˜è®¤ä¸ºfalse</span></span><br><span class="line">    <span class="attr">configurable</span>:<span class="literal">true</span>, <span class="comment">// æ§åˆ¶å±æ€§çŸ³ä½›å¯ä»¥è¢«åˆ é™¤ é»˜è®¤ä¸ºfalse</span></span><br><span class="line">    <span class="comment">// å½“æœ‰äººè¯»å–personçš„ageå±æ€§æ—¶ï¼Œgetå‡½æ•°(getter)å°±ä¼šè¢«è°ƒç”¨,ä¸”è¿”å›å€¼å°±æ˜¯ageçš„å€¼</span></span><br><span class="line">    <span class="attr">get</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç®€å†™</span></span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// getter ä¸ setter</span></span><br><span class="line"><span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        number = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="7-æ•°æ®ä»£ç†"><a href="#7-æ•°æ®ä»£ç†" class="headerlink" title="7.æ•°æ®ä»£ç†"></a>7.æ•°æ®ä»£ç†</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ•°æ®ä»£ç†:é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    obj1 = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">x</span>:<span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    obj2 = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">y</span>:<span class="number">200</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2,x,&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">value</span>:obj1.<span class="property">x</span>, <span class="comment">// æ­¤å¤„ä¸ obj1 çš„å±æ€§ç»‘å®š</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure><p><strong>æ•°æ®ä»£ç†åœ¨ Vue ä¸­çš„åº”ç”¨</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">vm å®ä¾‹ä¸­çš„æ•°æ® ä¸æ„é€ å™¨ä¸­ dataä¸­çš„æ•°æ®ç»‘å®š</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220328202239085.png" alt="image-20220328202239085"></p><p><strong>_dataå®é™…ä¸Šé‡Œé¢ä¸ºæ•°æ®åŠ«æŒ</strong></p><h3 id="8-äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨"><a href="#8-äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="8.äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨"></a>8.äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- äº‹ä»¶è§¦å‘å›è°ƒå‡½æ•° --&gt;</span></span><br><span class="line">    // éœ€è¦ä¼ å‚å¯ä»¥åŠ æ‹¬å· ä½†æ˜¯ eventä¼šæ¶ˆå¤± åŠ å…¥ $event Vueå¸®åŠ©ä¼ å‚</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>  <span class="attr">v-on:click</span>=<span class="string">&quot;showInfo($event,66)&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- äº‹ä»¶ä¿®é¥°ç¬¦ + ç®€å†™ @   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;methods&quot;</span>&gt;</span>ç‚¹æˆ‘è·³è½¬<span class="tag">&lt;/<span class="name">a</span>&gt;</span> // é˜»æ­¢è·³è½¬</span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">1.prevent: é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨);</span></span><br><span class="line"><span class="comment">2.stop:é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨);</span></span><br><span class="line"><span class="comment">3.once:äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰;</span></span><br><span class="line"><span class="comment">4.capture:ä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼;</span></span><br><span class="line"><span class="comment">5.self:åªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ˜¯æ‰è§¦å‘äº‹ä»¶;</span></span><br><span class="line"><span class="comment">6.passive:äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•;</span></span><br><span class="line"><span class="comment">// é»˜è®¤çš„æ—¶å€™ å…ˆæ‰§è¡Œå›è°ƒå‡½æ•° ç­‰å¾…å›è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•å†è¿è¡Œé»˜è®¤äº‹ä»¶(é¼ æ ‡ä¸‹æ»‘ç­‰)</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123; <span class="comment">// æ•°æ®åŠ«æŒ + æ•°æ®ä»£ç†</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;å°šç¡…è°·&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123; <span class="comment">// methodsä¸­çš„å‡½æ•°å¯ä»¥åŠ åˆ°dataä¸­ ä½†ä¼šæ‹–ç´¯Vue</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showInfo</span>(<span class="params">event,number</span>)&#123; <span class="comment">// event ä¸ºäº‹ä»¶å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;åŒå­¦ä½ å¥½&quot;</span> + number);</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">aClick</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                e.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;åŒå­¦ä½ å¥½&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="9-é”®ç›˜äº‹ä»¶"><a href="#9-é”®ç›˜äº‹ä»¶" class="headerlink" title="9.é”®ç›˜äº‹ä»¶"></a>9.é”®ç›˜äº‹ä»¶</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;å­¦ä¹ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span> <span class="comment">&lt;!-- è¿™é‡Œçš„.enterä»£è¡¨æŒ‰ä¸‹é”®ç›˜enteré”® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot;</span>@<span class="attr">keyup.enter</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//é˜»æ­¢ vueåœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        el : <span class="string">&quot;#root&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&quot;å°šç¡…è°·&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:<span class="title function_">showInfo</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">1.Vueä¸­å¸¸ç”¨çš„æŒ‰èµåˆ«åï¼š</span><br><span class="line">å›è½¦ =&gt;enter</span><br><span class="line">åˆ é™¤=&gt;deleteï¼ˆæ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</span><br><span class="line">é€€å‡º=&gt;esc</span><br><span class="line">ç©ºæ ¼=&gt;space</span><br><span class="line">æ¢è¡Œ=&gt;tab</span><br><span class="line">ä¸Š=&gt;up</span><br><span class="line">ä¸‹=&gt;down</span><br><span class="line">å·¦=&gt;left</span><br><span class="line">å³=&gt; right</span><br><span class="line">2.Vueæœªæä¾›åˆ«åçš„æŒ‰å¥ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„keyå€¼å»ç»‘å®šï¼Œä½†æ³¨æ„è¦è½¬ä¸ºkebab-case(çŸ­æ¨ªçº¿å‘½å)</span><br><span class="line">caps-lock å¤§å°å†™é”®åˆ«å</span><br><span class="line">3.ç³»ç»Ÿä¿®é¥°å¥(ç”¨æ³•ç‰¹æ®Š): ctrlã€altã€shiftã€meta(win)</span><br><span class="line">(1).é…åˆkeyupä½¿ç”¨:æŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ã€‚äº‹ä»¶æ‰è¢«è§¦å‘ã€‚</span><br><span class="line">(2).é…åˆkeydownä½¿ç”¨:æ­£å¸¸è§¦å‘äº‹ä»¶ã€‚</span><br><span class="line">4.ä¹Ÿå¯ä»¥ä½¿ç”¨keyCodeå»æŒ‡å®šå…·ä¼‘çš„æŒ‰é”®(ä¸æ¨è)</span><br><span class="line">5.Vue.config.keyCodes.è‡ªå®šä¹‰å¥å=å¥ç ,å¯ä»¥å»å®šåˆ¶æŒ‰å¥åˆ«å</span><br></pre></td></tr></table></figure><p>&#x2F;*</p><p> ä¿®é¥°ç¬¦æ˜¯å¯ä»¥è¿ç»­ä½¿ç”¨çš„(é“¾å¼è°ƒç”¨)</p><ul><li>@click.prevent.top</li><li>@keydown.alt.y &#x2F;* y ä¸ alt ä¸€èµ·æŒ‰ä¸‹ *&#x2F;</li></ul><p>*&#x2F;</p><h3 id="10-è®¡ç®—å±æ€§"><a href="#10-è®¡ç®—å±æ€§" class="headerlink" title="10.è®¡ç®—å±æ€§"></a>10.è®¡ç®—å±æ€§</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;å­¦ä¹ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    // æ¨¡æ¿ä¸­å¯ä»¥å†™ä¸€äº›ç®€å•çš„è¯­å¥ ä½†æ˜¯ä¸èƒ½å†™ Vmä¸­æ²¡æœ‰çš„ï¼</span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name = !name&#125;&#125;å­¦ä¹ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;æŒ‰ä¸‹å›è½¦æç¤ºè¾“å…¥&quot;</span>@<span class="attr">keyup.enter</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//é˜»æ­¢ vueåœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        el : <span class="string">&quot;#root&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// firstname å«å±æ€§</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &quot;å°šç¡…è°·&quot; å«å±æ€§å€¼</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">firstname</span>:<span class="string">&quot;å°šç¡…è°·&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">lastname</span>:<span class="string">&quot;snowman&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// methodä¸­çš„æ–¹å¼ä¸ä¼šç¼“å­˜ ä¼šè¢«å¤šæ¬¡è°ƒç”¨</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// computedçš„å±æ€§å«åšè®¡ç®—å±æ€§</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// è¾“å…¥ &#123;&#123;fullname&#125;&#125; è‡ªåŠ¨è°ƒç”¨fullname getå‡½æ•°</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">fullname</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// fullname è¢«è¯»å–è°ƒç”¨get</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// æ­¤å¤„çš„ this è¢« Vue é…ç½®ä¸º vm</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// get ä»€ä¹ˆæ—¶å€™è°ƒç”¨?</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 1.åˆæ¬¡è¯»å–fullnameæ—¶ 2.æ‰€ä¾èµ–çš„æ•°æ®æ”¹å˜æ—¶</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstname</span> + <span class="variable language_">this</span>.<span class="property">lastname</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// fullname è¢«ä¿®æ”¹æ—¶ è°ƒç”¨set</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> arr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">firstname</span> = arr[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">lastname</span> = arr[<span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        * 1.å®šä¹‰:è¦ç”¨çš„å±æ€§ä¸æœ‰åœ¨,è¦é€šè¿‡å·²æœ‰å±æ€§è®¡ç®—å¾—æ¥ã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        * 2.åŸç†:åº•å±‚ä»€åŠ©äº†objcet.definepropertyæ–¹æ³•æ‰ä¾›çš„getterå’Œsetter.</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        * 3.getå‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ?</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        (1).åˆæ¬¡è¯»å–æ—¶ä¼šæ‰§è¡Œä¸€æ¬¡.</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        (2).å½“ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ä¼šè¢«å†æ¬¡è°ƒç”¨ã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        * 4.ä¼˜åŠ¿:ä¸methodså®ç°å’Œæ¯”,å†…éƒ¨æœ‰çº§å­˜æœºåˆ¶(å¤ç”¨ï¼‰ã€‚æ•ˆç‡æ›´é«˜ã€‚è°ƒè¯•æ–¹ä¾¿</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        * 5,å¤‡æ³¨:</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        1.è®¡ç®—å±Šæ€§æœ€ç»ˆä¼šå‡ºç°åœ¨vmä¸Š,ç›´æ¥è¯»å–ä½¿ç”¨å³å¯..</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        2.å¦‚æœè®¡ç®—å±æ€§è¦è¢«ä¿®è¿”ï¼Œé‚£å¿…é¡»å†™setå‡½æ•°å¤«å“åº”ä¿®æ”¹ï¼Œfsetä¸­è¦å¼•èµ·è®¡ç®—æ—¶ä¾èµ–çš„æ•°æ®å‘ç‰›</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        */</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç®€å†™æ–¹å¼ ç¡®å®šåªè¯»ä¸æ”¹</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">fullname</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="string">&quot;å°çŒªä½©å¥‡&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="11-ç›‘è§†å±æ€§"><a href="#11-ç›‘è§†å±æ€§" class="headerlink" title="11.ç›‘è§†å±æ€§"></a>11.ç›‘è§†å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span> (&#123;</span><br><span class="line">    <span class="comment">// ç›‘è§†åœ¨ vm ä¸­çš„å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ– å˜åŒ–æ—¶ ä½œä½•å¤„ç†</span></span><br><span class="line"><span class="attr">watch</span>:&#123;</span><br><span class="line">        <span class="attr">isHot</span>:&#123;</span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡handler</span></span><br><span class="line">            <span class="attr">immediate</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// isHotå‘ç”Ÿå˜åŒ– ä¼ å‚ newValueä¸ºæ–°çš„å€¼ oldValue ä¸ºæ—§çš„å€¼</span></span><br><span class="line"><span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldValue);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç¬¬äºŒç§å†™æ³• æ·»åŠ åˆ°vmå®ä¾‹ä¸­</span></span><br><span class="line">vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">immediate</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="12-æ·±åº¦ç›‘è§†"><a href="#12-æ·±åº¦ç›‘è§†" class="headerlink" title="12.æ·±åº¦ç›‘è§†"></a>12.æ·±åº¦ç›‘è§†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vueå¯ä»¥æ£€æµ‹å¤šå±‚çº§çš„ç›‘è§† watchä¸æ£€æµ‹</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* (1).vueä¸­çš„watché»˜è®¤ä¸ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜(ä¸€å±‚ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">* (2).é…ç½®deep:trueå¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼æ”¹å˜(å¤šå±‚ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">* å¤‡æ³¨:</span></span><br><span class="line"><span class="comment">* (1).vueè‡ªèº«å¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼Œä½†vueæä¾›çš„watché»˜è®¤ä¸å¯ä»¥!</span></span><br><span class="line"><span class="comment">* (2).ä½¿ç”¨watchæ—¶æ ¹æ®æ•°æ®çš„å…·ä½“ç»“æ„,å†³å®šæ˜¯å¦é‡‡ç”¨æ·±åº¦ç›‘è§†ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span> (&#123;</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">number</span>:&#123;</span><br><span class="line">            <span class="attr">a</span>:<span class="number">500</span>,</span><br><span class="line">            <span class="attr">b</span>:<span class="number">600</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;é€¯å°‘&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘è§†åœ¨ vm ä¸­çš„å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ– å˜åŒ–æ—¶ ä½œä½•å¤„ç†</span></span><br><span class="line"><span class="attr">watch</span>:&#123;</span><br><span class="line">        <span class="attr">number</span>:&#123;</span><br><span class="line">    <span class="comment">// å¼€å¯æ·±åº¦ç›‘è§† ä¸å¼€å¯çš„è¯numberçš„æˆå‘˜ä¸ä¼šè¢«æ£€æµ‹</span></span><br><span class="line">    <span class="attr">deep</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡handler</span></span><br><span class="line">            <span class="attr">immediate</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// numberå‘ç”Ÿå˜åŒ– ä¼ å‚ newValueä¸ºæ–°çš„å€¼ oldValue ä¸ºæ—§çš„å€¼</span></span><br><span class="line"><span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldValue);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// watch ç®€å†™ å‰æ: ä¸éœ€è¦ deep immediate</span></span><br><span class="line">    <span class="attr">watch</span>:&#123;</span><br><span class="line">        <span class="title function_">name</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;nameè¢«æ”¹å˜äº†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// $ç¬¦ç®€å†™</span></span><br><span class="line">vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,<span class="title function_">fuction</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;isHotè¢«æ”¹å˜äº†&quot;</span>);</span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure><h3 id="13-watchä¸computedå¯¹æ¯”"><a href="#13-watchä¸computedå¯¹æ¯”" class="headerlink" title="13.watchä¸computedå¯¹æ¯”"></a>13.watchä¸computedå¯¹æ¯”</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// computedæ›´å®¹æ˜“å†™</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯computedæ— æ³•è¿›è¡Œå¼‚æ­¥æ“ä½œ</span></span><br><span class="line"><span class="comment">// computed éœ€è¦è¿”å›å€¼ å¼‚æ­¥ä¼šå‡ºé”™</span></span><br><span class="line"><span class="comment">// watchä¸­çš„å¼‚æ­¥æ“ä½œ</span></span><br><span class="line"> <span class="title function_">handler</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1s passing numberæ”¹å˜äº†&quot;</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* computedå’Œlwatchä¹‹é—´çš„åŒºåˆ«:</span></span><br><span class="line"><span class="comment">* 1.computedèƒ½å®Œæˆçš„åŠŸèƒ½ã€‚ watchéƒ½å¯ä»¥å®Œæˆ..</span></span><br><span class="line"><span class="comment">* 2.watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚: watchå¯ä»¥è¿›è¡Œå¼‚æ­¥ç³…ä½œã€‚</span></span><br><span class="line"><span class="comment">*1.æ‰€è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">*2.æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ç­‰)ï¼Œæœ€å¥½å†™æˆç®­å¤´å‡½æ•°ã€‚è¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="14-ä¿®æ”¹-x2F-ç»‘å®š-class"><a href="#14-ä¿®æ”¹-x2F-ç»‘å®š-class" class="headerlink" title="14.ä¿®æ”¹&#x2F;ç»‘å®š class"></a>14.ä¿®æ”¹&#x2F;ç»‘å®š class</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Vue ä¼šè§£ææ•°ç»„/å¯¹è±¡ --&gt; Jsè¡¨è¾¾å¼</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- éœ€è¦çš„ class æ˜¯åŠ¨æ€çš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;yourclass&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç»‘å®šclassæ ·å¼--æ•°ç»„å†™æ³•ï¼Œé€‚ç”¨ä¸:è¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®šã€åå­—ä¹Ÿä¸ç¡®å®š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;list_arr&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç»‘å®šclassæ ·å¼å¯¹è±¡å†™æ³•ã€‚é€‚ç”¨äº:è¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ç¡®å®šã€åå®ä¹Ÿç¡®å®šä½†è¦åŠ¨æ€å†³å®šç”¨ä¸å·--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Styleè¡Œå†…æ ·å¼ ä¼ å…¥Styleå¯¹è±¡ æˆ–è€… æ•°ç»„å†…åŒ…å«Styleå¯¹è±¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">---&gt; ç»è¿‡Vueè§£æä¹‹åä¼šå˜æˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic normal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic class1 class2 class3&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;list_arr&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic class1 class3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:red;fontSize:10px;backgroundColir:grzy;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#id&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">yourclass</span>:<span class="string">&#x27;normal&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">list_arr</span>:[<span class="string">&#x27;class1&#x27;</span>,<span class="string">&#x27;class2&#x27;</span>,<span class="string">&#x27;class3&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">classObj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">class1</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">class2</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">class3</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ­¤å¤„çš„æ ·å¼å¿…é¡»ä¸º css ä¸­æœ‰çš„æ ·å¼ font-size --&gt; fontSize å¤šå•è¯æ‹†æ•£å¤§å°å†™æ‹¼æ¥</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">styleObj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">color</span>:red,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">fontSize</span>:10px,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">backgroundColir</span>:grzy,</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="15-æ¡ä»¶æ¸²æŸ“"><a href="#15-æ¡ä»¶æ¸²æŸ“" class="headerlink" title="15.æ¡ä»¶æ¸²æŸ“"></a>15.æ¡ä»¶æ¸²æŸ“</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- v-show ä¸ v-if showæ§åˆ¶displayå±æ€§ ifç›´æ¥ä¼šåˆ é™¤/ä¿ç•™è¯¥å…ƒç´  --&gt;</span></span><br><span class="line">â€œâ€ ä¸­å¡«å†™ js è¡¨è¾¾å¼</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;false&quot;</span>&gt;</span>æˆ‘çš„displayå±æ€§ä¸ºnone<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;true&quot;</span>&gt;</span>æˆ‘çš„displayå±æ€§ä¸ºé»˜è®¤<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä¸jsè¯­æ³•ä¸­if else if else çš„ç”¨æ³•ä¸€è‡´ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>æˆ‘ä¸ä¼šåœ¨DOMä¸­å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>æˆ‘ä¸ä¼šåœ¨DOMä¸­å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>=<span class="string">&quot;false&quot;</span>&gt;</span>æˆ‘ä¸ä¼šåœ¨DOMä¸­å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;true&quot;</span>&gt;</span>æˆ‘ä¼šåœ¨DOMä¸­å‡ºç°<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">éœ€è¦æ•´ä½“éšè—çš„æ—¶å€™ ä½¿ç”¨ templateä¸ä¼šå½±å“ç»“æ„ </span><br><span class="line">divä¹Ÿå¯ä»¥ æ³¨æ„css</span><br><span class="line">template åªèƒ½ä¸ v-if é…åˆ v-show ä¼šå¤±æ•ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;è¡¨è¾¾å¼&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="16-åˆ—è¡¨æ¸²æŸ“-å¾ªç¯"><a href="#16-åˆ—è¡¨æ¸²æŸ“-å¾ªç¯" class="headerlink" title="16.åˆ—è¡¨æ¸²æŸ“  å¾ªç¯"></a>16.åˆ—è¡¨æ¸²æŸ“  å¾ªç¯</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ¯ä¸ªliæ ‡ç­¾éœ€è¦æœ‰å…¶å•ç‹¬å”¯ä¸€çš„æ ‡è¯† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;p in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span>&#123;&#123;p.id&#125;&#125;-&#123;&#123;p.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- pä¸ºpersonsä¸­çš„å…ƒç´  indexä¸ºå…¶å¯¹åº”çš„ä¸‹æ ‡ indexå†™keyæ¯”è¾ƒæ–¹ä¾¿  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123;p.id&#125;&#125;-&#123;&#123;p.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- v-for å¯ä»¥éå† æ•°ç»„,å¯¹è±¡,å­—ç¬¦ä¸²  --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- éå†å¯¹è±¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key) in Obj&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;key&quot;</span>&gt;</span>&#123;&#123;key&#125;&#125;-&#123;&#123;value&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#id&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;001&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;001&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;002&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;002&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;003&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;003&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Obj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&quot;ç‹äºŒ&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">adress</span>:<span class="string">&quot;äºŒä»™æ¡¥&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">v-foræŒ‡ä»¤:</span></span><br><span class="line"><span class="comment">1.ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®</span></span><br><span class="line"><span class="comment">2.è¯­æ³•:v-for=&quot;(item,index) in xxx&quot; : key=&quot;yyy&quot;</span></span><br><span class="line"><span class="comment">3.å¯é€…å†:æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘)ã€æŒ‡å®šæ¬¡è‡´ï¼ˆç”¨çš„å¾ˆå°‘)</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="17-å¾ªç¯-keyè¯¦è§£"><a href="#17-å¾ªç¯-keyè¯¦è§£" class="headerlink" title="17.å¾ªç¯ keyè¯¦è§£"></a>17.å¾ªç¯ keyè¯¦è§£</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è™šæ‹ŸDom å¯¹æ¯”ç®—æ³• ï¼ï¼ï¼ å¯¹æ¯”åè½¬åŒ–ä¸ºçœŸå® Dom</span></span><br><span class="line"><span class="comment">key å¦‚æœç”¨ indexè¿›è¡Œç»‘å®šä¼šå‡ºé—®é¢˜ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸€å®šè¦ä½¿ç”¨å”¯ä¸€çš„ key å¯ä»¥ä½¿ç”¨æ•°æ®åº“ä¸­çš„ä¸»é”® --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">é¢è¯•é¢˜: reactã€ vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨?ï¼ˆkeyçš„å†…éƒ¨åŸç†)</span></span><br><span class="line"><span class="comment">1ï¼Œè™šæ‹ŸDONä¸­&#x27;keyçš„ä½œç”¨:</span></span><br><span class="line"><span class="comment">keyæ˜¯è™šæ‹ŸDOAå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“çŠ¶æ€ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOéšåVueè¿›è¡Œã€æ–°è™šæŠµDOMã€‘ ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹:</span></span><br><span class="line"><span class="comment">2.å¯¹æ¯”è§„åˆ™:</span></span><br><span class="line"><span class="comment">(1).æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOç›¸åŒçš„key:</span></span><br><span class="line"><span class="comment">è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜,ç™¾æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOM</span></span><br><span class="line"><span class="comment">è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†ï¼Œåˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMã€‚éšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOM</span></span><br><span class="line"><span class="comment">(2).æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key</span></span><br><span class="line"><span class="comment">åˆ›å»ºæ–°çš„çœŸå®DOMã€‚éšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚</span></span><br><span class="line"><span class="comment">3.ç”¨indexä½œä¸ºkey å¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜:</span></span><br><span class="line"><span class="comment">1.è‹¥å¯¹æ•°æ®è¿›è¡Œ:é€†åºæ·»åŠ ã€é€†åºå‰§é™¤ç­‰ç ´ç¯é¡ºåºæ“ä½œ:</span></span><br><span class="line"><span class="comment">ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–°==&gt;ç•Œé¢æ•ˆæœæ²¡é—®é¢˜,ä½†æ•ˆç‡ä½ã€‚</span></span><br><span class="line"><span class="comment">2ï¼å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOM:</span></span><br><span class="line"><span class="comment">ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–°==&gt;ç•Œé¢æœ‰é—®é¢˜</span></span><br><span class="line"><span class="comment">4ï¼å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:</span></span><br><span class="line"><span class="comment">1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkeyï¼ŒIæ¯”å¦‚idã€äºæœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€ä¼¯ã€‚</span></span><br><span class="line"><span class="comment">2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºæœ‹é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="18-åˆ—è¡¨è¿‡æ»¤-æœç´¢"><a href="#18-åˆ—è¡¨è¿‡æ»¤-æœç´¢" class="headerlink" title="18.åˆ—è¡¨è¿‡æ»¤ (æœç´¢)"></a>18.åˆ—è¡¨è¿‡æ»¤ (æœç´¢)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“å&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;p in filterPersons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span>&#123;&#123;p.id&#125;&#125;-&#123;&#123;p.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType = 1&quot;</span>&gt;</span>idé™åº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType = 0&quot;</span>&gt;</span>åŸæ’åº<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#id&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">sortType</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">keyWord</span>:<span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;001&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;001&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;002&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;002&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;003&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;003&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;<span class="attr">id</span>:<span class="string">&quot;004&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;004&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">filterPersons</span>:[],</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ä½¿ç”¨watch å®ç°æœç´¢æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">keyWords</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">immediate</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">handler</span>(<span class="params">val</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">filterPersons</span> = <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(bal) !== -<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// è®¡ç®—å±æ€§å®ç°</span></span></span><br><span class="line"><span class="language-javascript">   </span></span><br><span class="line"><span class="language-javascript">    <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">filterPersons</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">     <span class="comment">// å®ç° åˆ†éœ€æ±‚ æ’åºåŠŸèƒ½</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">filterPersons</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> list = <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">sortType</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                list.<span class="title function_">sort</span>(<span class="function">(<span class="params">p1.age,p2.age</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sortType</span> === <span class="number">1</span> ? p1.<span class="property">age</span>-p2.<span class="property">age</span> : p2.<span class="property">age</span>-p1.<span class="property">age</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">             <span class="keyword">return</span> list;             </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">&quot;abc&quot;.indexOf(&#x27;&#x27;) &gt;&gt;&gt; 0  //ç©ºå­—ç¬¦ä¸²è¿”å›å€¼ä¸º 0</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-Vueæ£€æµ‹æ•°æ®çš„åŸç†"><a href="#3-Vueæ£€æµ‹æ•°æ®çš„åŸç†" class="headerlink" title="3.Vueæ£€æµ‹æ•°æ®çš„åŸç†"></a>3.Vueæ£€æµ‹æ•°æ®çš„åŸç†</h2><h3 id="19-Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†"><a href="#19-Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†" class="headerlink" title="19.Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†"></a>19.Vueæ£€æµ‹æ•°æ®æ”¹å˜çš„åŸç†</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ›´æ”¹æ•°æ® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Vueæ— æ³•æ£€æµ‹</span></span></span><br><span class="line"><span class="language-javascript">vm.<span class="property">persons</span>[<span class="number">0</span>] = &#123;<span class="attr">id</span>:<span class="string">&quot;001&quot;</span>, <span class="attr">name</span>:<span class="string">&quot;é©¬è€å¸ˆ&quot;</span>, <span class="attr">age</span>:<span class="number">50</span>&#125;; </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Vueå¯ä»¥æ£€æµ‹</span></span></span><br><span class="line"><span class="language-javascript">vm.<span class="property">persons</span>[<span class="number">0</span>].<span class="property">name</span> = <span class="string">&quot;é©¬è€å¸ˆ&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">vm.<span class="property">persons</span>[<span class="number">0</span>].<span class="property">age</span> = <span class="number">50</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// data --&gt; åŠ å·¥å vm å¯¹è±¡ä¸­ç”Ÿæˆ _data åŒ…å«dataä¸­çš„å±æ€§ å¹¶åˆ›å»ºå¯¹åº”çš„getter setteræ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">    get set æ–¹æ³• åœ¨è°ƒç”¨ å¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è¢«æ›´æ”¹</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç›´æ¥ object.defineProperty å¯¹åº”çš„å¯¹è±¡ è°ƒç”¨get set ä¼šé™·å…¥æ­»å¾ªç¯</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// åˆ›å»ºæ£€æµ‹å®ä¾‹å¯¹è±¡ è¿›è¡Œæ•°æ®ä»£ç†</span></span></span><br><span class="line"><span class="language-javascript">    data = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>:<span class="string">&quot;ç‹äºŒ&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> obs = <span class="keyword">new</span> <span class="title class_">Observer</span>(data)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obs)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">observer</span>(<span class="params">obj</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//æ±‡æ€»å¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§å½¢æˆä¸€ä¸ªæ•°ç»„</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> keys = object.<span class="title function_">keys</span>(obj)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//éå†</span></span></span><br><span class="line"><span class="language-javascript">        keys.<span class="title function_">forEach</span>(<span class="function">(<span class="params">k</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            object.<span class="title function_">defineProperty</span>(<span class="variable language_">this</span>,k,&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> obj[k]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">set</span>(<span class="params">val</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    obj[k] = val</span></span><br><span class="line"><span class="language-javascript">                &#125; </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">!!!!!! æ£€æµ‹åŸç†å°±æ˜¯ä½¿ç”¨setter è€ƒè™‘éå¸¸å‘¨åˆ°ï¼é€’å½’æ•°ç»„éƒ½èƒ½æ£€æµ‹ï¼ï¼ï¼</span><br></pre></td></tr></table></figure><h3 id="20-vue-set-æ·»åŠ å“åº”å¼å±æ€§"><a href="#20-vue-set-æ·»åŠ å“åº”å¼å±æ€§" class="headerlink" title="20.vue.set æ·»åŠ å“åº”å¼å±æ€§"></a>20.vue.set æ·»åŠ å“åº”å¼å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// _data ä¸ data æ˜¯æ•°æ®ä»£ç†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Vue æ–¹æ³•</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(target,key,value)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm.<span class="property">student</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;ç‹äºŒ&quot;</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm.<span class="property">_data</span>.<span class="property">student</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;ç‹äºŒ&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// vm æ–¹æ³•</span></span><br><span class="line">vm.$set(vm.<span class="property">student</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;ç‹äºŒ&quot;</span>)</span><br><span class="line">vm.$set(vm.<span class="property">_data</span>.<span class="property">student</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;ç‹äºŒ&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å±€é™æ€§ set ä¸èƒ½ å°† vm ä½œä¸º target</span></span><br></pre></td></tr></table></figure><h3 id="21-Vueæ£€æµ‹æ•°ç»„"><a href="#21-Vueæ£€æµ‹æ•°ç»„" class="headerlink" title="21.Vueæ£€æµ‹æ•°ç»„"></a>21.Vueæ£€æµ‹æ•°ç»„</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸èƒ½ç›´æ¥æ›´æ”¹æ•°ç»„ä¸­çš„æ•°å€¼ vue æ— æ³•æ£€æµ‹</span></span><br><span class="line"><span class="comment">// Vue å¯ä»¥æ£€æµ‹ç¨‹åºå‘˜ä½¿ç”¨æ•°ç»„æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹å‡ä¸ºå¯ä»¥ä¿®æ”¹æ•°ç»„çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">/*push/pop æœ«å°¾ æ·»åŠ /åˆ é™¤ å…ƒç´ </span></span><br><span class="line"><span class="comment">*unshift/shift å¼€å¤´ æ·»åŠ /åˆ é™¤ å…ƒç´ </span></span><br><span class="line"><span class="comment">*splice æ›¿æ¢å…ƒç´ </span></span><br><span class="line"><span class="comment">*sort æ’åº</span></span><br><span class="line"><span class="comment">*reverse åè½¬</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ä¸ªpushä¸ä¸€æ · vue å¯¹pushè¿›è¡Œäº†è¦†å†™ åŸpushåŠŸèƒ½ + å“åº”å¼çš„æ›´æ”¹</span></span><br><span class="line">vm.<span class="property">data</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="property">push</span> === <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> </span><br><span class="line">&gt;&gt;&gt; <span class="literal">false</span> </span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Vueç›‘è§†æ•°æ®çš„åŸç†:</span></span><br><span class="line"><span class="comment">1. vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">    2ï¼å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„è£æ®</span></span><br><span class="line"><span class="comment">    é€šè¿‡setterå®ç°ç›‘è§†,ä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">        (1).å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†</span></span><br><span class="line"><span class="comment">(2).å¦‚Tç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹API:</span></span><br><span class="line"><span class="comment">        vue.set(target.propertyName/index.value)</span></span><br><span class="line"><span class="comment">                vm.$set(target. propertyName/index. value)</span></span><br><span class="line"><span class="comment">3ã€‚å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="comment">    é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°,æœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹:</span></span><br><span class="line"><span class="comment">        (1).è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ã€‚</span></span><br><span class="line"><span class="comment">(2).é‡æ–°è§£ææ¨¡æ¿,è¿›è€Œæ›´æ–°é¡µé¢ã€‚</span></span><br><span class="line"><span class="comment">4.åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•:</span></span><br><span class="line"><span class="comment">1.ä½¿ç”¨è¿™äº›API:push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse()</span></span><br><span class="line"><span class="comment">2.Vue.set()æˆ–vm.$set()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç‰¹åˆ«æ³¨æ„: Vue.set()å’Œ vm.$set()ä¸èƒ½ç»™vm æˆ– vmçš„æ ¹æ•°æ®å¯¹è±¡æ·»åŠ å±æ€§ !!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="4-æ”¶é›†è¡¨å•æ•°æ®"><a href="#4-æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="4.æ”¶é›†è¡¨å•æ•°æ®"></a>4.æ”¶é›†è¡¨å•æ•°æ®</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è‹¥:&lt;input type=&quot;text&quot;/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ã€‚ç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚</span></span><br><span class="line"><span class="comment">è‹¥:&lt;input type=&quot;radio&quot; /&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚</span></span><br><span class="line"><span class="comment">è‹¥:&lt;input type=&quot;checkbox&quot;/&gt;</span></span><br><span class="line"><span class="comment">1.æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰oræœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼)</span></span><br><span class="line"><span class="comment">2.é…ç½®inputçš„valueå±æ€§:</span></span><br><span class="line"><span class="comment">(1)v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ oræœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼)</span></span><br><span class="line"><span class="comment">         (2)v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„</span></span><br><span class="line"><span class="comment">å¤‡æ³¨:v-modelçš„ä¸‰ä¸ªä¿®é¥°ç¬¦:</span></span><br><span class="line"><span class="comment">lazy:å¤±å»ç„¦ç‚¹å†æ”¶é›†æ•°æ®</span></span><br><span class="line"><span class="comment">number:è¾“å…¥å­—ç¬¦ä¸²è½¬ä¸ºæœ‰æ•ˆçš„æ•°å­—</span></span><br><span class="line"><span class="comment">trim:è¾“å…¥é¦–å°¾ç©ºæ ¼è¿‡æ»¤</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="5-è¿‡æ»¤å™¨"><a href="#5-è¿‡æ»¤å™¨" class="headerlink" title="5.è¿‡æ»¤å™¨"></a>5.è¿‡æ»¤å™¨</h2><p><strong>day.js åº“å¯ä»¥æ ¼å¼åŒ–æ—¶é—´</strong></p><p>åœ¨BootCDNå¯ä»¥æŸ¥è¯¢åˆ°å¼€æºçš„æ‰€æœ‰åº“</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">è¿‡æ»¤å™¨ å¯ä»¥åœ¨ v-bind ä¸ æ’å€¼è¯­æ³•ä¸­ä½¿ç”¨</span><br><span class="line"><span class="comment">&lt;!-- è¯­æ³•: æœ¬è´¨æ˜¯ä¸€ç§å‡½æ•° å¯ä»¥è¿ç»­é“¾å¼ä½¿ç”¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç°åœ¨æ˜¯: &#123;&#123;time | timeFormater() | otherFilters()&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å…¨å±€è¿‡æ»¤å™¨ ä»»æ„ Vue å®ä¾‹å¯¹è±¡ä¸­å‡å¯ä½¿ç”¨</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&quot;mySlice&quot;</span>,<span class="title function_">fuction</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">return</span> <span class="string">&quot;è¿‡æ»¤åçš„å†…å®¹&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">filters</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">timeFormater</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> <span class="string">&quot;valueä¸ºä¼ å…¥timeçš„å€¼ è¿”å›å€¼ä½œä¸º è¡¨è¾¾å¼å±•ç¤ºçš„å€¼&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-VueæŒ‡ä»¤æ±‡æ€»"><a href="#6-VueæŒ‡ä»¤æ±‡æ€»" class="headerlink" title="6.VueæŒ‡ä»¤æ±‡æ€»"></a>6.VueæŒ‡ä»¤æ±‡æ€»</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">v-bind :å•å‘ç»‘å®šè§£æè¡¨è¾¾å¼,å¯ç®€å†™ä¸º:XXX</span></span><br><span class="line"><span class="comment">v-model :åŒå‘æ•°æ®ç»‘å®š</span></span><br><span class="line"><span class="comment">v-for :éå†æ•°ç»„/å¯¹è±¡/å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">v-on: ç»‘å®šäº‹ä»¶ç›‘å¬,å¯ç®€å†™ä¸º@</span></span><br><span class="line"><span class="comment">v-if:æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨)</span></span><br><span class="line"><span class="comment">v-else:æ¡ä»¶æ¸²æŸ“ã€ŠåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨)</span></span><br><span class="line"><span class="comment">v-show:æ¡ä»¶æ¸²æŸ“(åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å±•ç¤º)</span></span><br><span class="line"><span class="comment">v-text: æ›¿æ¢æ•´ä¸ª Value</span></span><br><span class="line"><span class="comment">v-html: å¯ä»¥æ¸²æŸ“htmlè¯­æ³• &lt;h1&gt;&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">// v-html å…·æœ‰å®‰å…¨æ€§é—®é¢˜ xssæ³¨å…¥</span></span><br><span class="line"><span class="comment">v-cloak: åŠ å…¥è¯¥å±æ€§ä¸css display:none Vueæ¥ç®¡æ—¶ä¼šåˆ é™¤è¯¥å±æ€§</span></span><br><span class="line"><span class="comment">v-once: è®©æŸå…ƒç´ åªæ¸²æŸ“ä¸€æ¬¡</span></span><br><span class="line"><span class="comment">v-pre: é˜»æ­¢Vueè§£ædoucment</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">v-htmlæŒ‡ä»¤:</span></span><br><span class="line"><span class="comment">1.ä½œç”¨:å‘æŒ‡å®šèŠ‚ç‚¹ä¸­æ¸²æŸ“åŒ…å«htmlç»“æ„çš„å†…å®¹</span></span><br><span class="line"><span class="comment">2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«:</span></span><br><span class="line"><span class="comment">(1).v-htmlä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„å†…å®¹ï¼Œ&#123;&#123;xx&#125;&#125;åˆ™ä¸ä¼š</span></span><br><span class="line"><span class="comment">(2).v-htmlå¯ä»¥è¯†åˆ«htmlç»“æ„ã€‚</span></span><br><span class="line"><span class="comment">3.ä¸¥é‡æ³¨æ„: v-htmlæœ‰å®‰å…¨æ€§é—®é¢˜!!!!</span></span><br><span class="line"><span class="comment">(1).åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„HTALæ˜¯éå¸¸å±é™©çš„,å®¹æ˜“å¯¼è‡´XSSæ”»å‡».</span></span><br><span class="line"><span class="comment">(2).ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œæ°¸ä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Š!</span></span><br><span class="line"><span class="comment">--&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">v-cloakæŒ‡ä»¤ï¼ˆæ²¡æœ‰å€¼):</span></span><br><span class="line"><span class="comment">1.æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ŒVueå®ä¾‹åˆ›å»ºå®Œä¸­å¹¶æ¥ç®¡å®¹å™¨åã€‚ä¼šåˆ æ‰v-cloakå±æ€§.</span></span><br><span class="line"><span class="comment">2.ä½¿ç”¨cssé…åˆv-cloakå¯ä»¥è§£å†³ç½‘é€Ÿæ…¢æ—¶é¡µé¢å±•ç¤ºå‡º&#123;&#123;xxx&#125;&#125;çš„é—®é¢˜ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-attr">[v-cloak]</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>:none;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">v-onceæŒ‡ä»¤:</span></span><br><span class="line"><span class="comment">1.v-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“å,å°±è§†ä¸ºé™æ€å†…å®¹äº†</span></span><br><span class="line"><span class="comment">2.ä»¥åæ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">v-preæŒ‡ä»¤:</span></span><br><span class="line"><span class="comment">1.è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚</span></span><br><span class="line"><span class="comment">2.å¯åˆ©ç”¨å®ƒè·³è¿‡:æ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h2 id="7-Vueè‡ªå®šä¹‰æŒ‡ä»¤"><a href="#7-Vueè‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="7.Vueè‡ªå®šä¹‰æŒ‡ä»¤"></a>7.Vueè‡ªå®šä¹‰æŒ‡ä»¤</h2><h3 id="7-1å‡½æ•°å¼"><a href="#7-1å‡½æ•°å¼" class="headerlink" title="7.1å‡½æ•°å¼"></a>7.1å‡½æ•°å¼</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">næ”¾å¤§åå€ä¹‹åçš„å€¼ä¸º:</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// elementä¼ å…¥å¯¹åº”å…ƒç´ å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// binding ä¸ bigä¸­çš„è¡¨è¾¾å¼ç»‘å®š &quot;n&quot;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">big</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ç»‘å®šæ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ ä½†æ˜¯ input è¿˜æ²¡æœ‰æ”¾å…¥doucment fouceä¸èµ·ä½œç”¨</span></span></span><br><span class="line"><span class="language-javascript">            element.<span class="title function_">fouce</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// bigå‡½æ•°ä½•æ—¶ä¼šè¢«è°ƒç”¨?</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶(ä¸€å¼€å§‹)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span></span></span><br><span class="line"><span class="language-javascript">    &#125; </span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-2å¯¹è±¡å¼"><a href="#7-2å¯¹è±¡å¼" class="headerlink" title="7.2å¯¹è±¡å¼"></a>7.2å¯¹è±¡å¼</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// æ­¤å¯¹è±¡ä¸­æ‰€æœ‰çš„ this å‡æŒ‡å‘ window</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fbind</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ç»‘å®šæ—¶è¢«è°ƒç”¨</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å…ƒç´ è¢«æ’å…¥æ—¶è¢«è°ƒç”¨</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">inserted</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶è¢«è°ƒç”¨</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">update</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125; </span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-3å°æ€»ç»“"><a href="#7-3å°æ€»ç»“" class="headerlink" title="7.3å°æ€»ç»“"></a>7.3å°æ€»ç»“</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„: å‘½åæ—¶å°½é‡ä¸è¦ç”¨å¤§å†™å­—æ¯ Vue ä¼šå°†å¤§å†™å­—æ¯ è§£ææˆå°å†™å­—æ¯</span><br><span class="line">v-set-member  ---&gt;   `set-member`()&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// å…¨å±€Vue directivesé…ç½®</span></span></span><br><span class="line"><span class="language-javascript">   <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;big&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">        ...</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="8-ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#8-ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="8.ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>8.ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2><h3 id="8-1-mountedä»‹ç»"><a href="#8-1-mountedä»‹ç»" class="headerlink" title="8.1 mountedä»‹ç»"></a>8.1 mountedä»‹ç»</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// åŠ¨æ€ç»‘å®šæ•°æ®éœ€è¦å†™æˆå¯¹è±¡çš„å½¢å¼</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;&#123;opacity: opacity&#125;&quot;</span>&gt;</span> æˆ‘ä¼šå˜åŒ–é€æ˜åº¦ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">// å±æ€§å€¼ä¸é”®åé‡å¤æ—¶å¯ç®€å†™   </span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methos</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">change</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// é Vue ç®¡ç†çš„å‡½æ•° ä½¿ç”¨ç®­å¤´å‡½æ•° this æŒ‡å‘ Vue(vm)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">opacity</span> -= <span class="number">0.01</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">opacity</span> &lt;= <span class="number">0</span>) <span class="variable language_">this</span>.<span class="property">opacity</span> = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// é€æ˜å˜åŒ–çš„å­—ä½“</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="number">16</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// mounted æŒ‚è½½</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Vueå®Œæˆæ¨¡æ¿çš„è§£æå¹¶ä¸”æŠŠåˆå§‹çš„çœŸå®Domæ”¾å…¥å…ƒç´ é¡µé¢å(æŒ‚åœ¨å®Œæ¯•å) æ‰§è¡Œmounted</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å†™å…¥æ­¤å¤„æ‰§è¡Œä¸€æ¬¡ mounted å‡½æ•° è¿›è¡Œè®¡æ—¶å™¨å‡½æ•°ä¹¦å†™</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç¬¬ä¸€æ¬¡æ”¾å…¥æ—¶æ‰§è¡Œ ï¼ï¼ï¼ ä¹‹åçš„å«æ›´æ–° é‡æ–°è§£æ ä¸æ‰§è¡Œ mounted </span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">opacity</span> -= <span class="number">0.01</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">opacity</span> &lt;= <span class="number">0</span>) <span class="variable language_">this</span>.<span class="property">opacity</span> = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// é€æ˜å˜åŒ–çš„å­—ä½“</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="number">16</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç”Ÿå‘½å‘¨æœŸå‡½æ•°æœ‰å¤šç§ è¿™é‡Œåªä»‹ç»äº† mounted</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-2æŒ‚è½½æµç¨‹"><a href="#8-2æŒ‚è½½æµç¨‹" class="headerlink" title="8.2æŒ‚è½½æµç¨‹"></a>8.2æŒ‚è½½æµç¨‹</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="attr">tmplate</span>:<span class="string">`åœ¨æ­¤å¤„å¯ä»¥å†™ HTML è¯­æ³• æ›¿æ¢æ¨¡æ¿`</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// åˆå§‹åŒ–:ç”Ÿå‘½å‘¨æœŸã€äº‹ä»¶ï¼Œä½†æ•°æ®ä»£ç†è¿˜æœªå¼€å§‹ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// æ­¤æ—¶:æ— æ³•é€šè¿‡vmè®¿é—®åˆ°dataä¸­çš„æ•°æ®. methodsä¸­çš„æ–¹æ³•ã€‚</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">beforeCreate</span>(<span class="params"></span>)&#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// åˆå§‹åŒ–:æ•°æ®ç›‘æµ‹ã€æ•°æ®ä»£ç†ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// æ­¤æ—¶:å¯ä»¥é€šè¿‡vmè®¿é—®åˆ°dataä¸­çš„æ•°æ®ã€ methodsä¸­é…ç½®çš„æ–¹æ³•ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// è¿˜æœªè¿›è¡Œæ¨¡æ¿è§£æ ç”Ÿæˆè™šæ‹ŸDOM</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">created</span>(<span class="params"></span>)&#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.é¡µé¢å‘ˆç°çš„æ˜¯æœªç»Vueç¼–è¯‘çš„DOMç»“æ„ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.æ‰€æœ‰å¯¹DOMçš„æ“ä½œï¼Œæœ€ç»ˆéƒ½ä¸å¥æ•ˆã€‚ å› ä¸ºåœ¨æœ€åä¼šä½¿ç”¨ è™šæ‹ŸDOM æ›¿æ¢å…¨éƒ¨çœŸå®DOM</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// è¿›è¡Œæ¨¡æ¿è§£æä¹‹å è™šæ‹ŸDOMå·²ç”Ÿæˆ</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">beforeMount</span>(<span class="params"></span>)&#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å°†è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMæ’å…¥é¡µé¢</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.é¡µé¢ä¸­å‘ˆç°çš„æ˜¯ç»è¿‡Vueç¼–è¯‘çš„DOM.</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.å¯¹DOMçš„æ“ä½œå‡æœ‰æ•ˆ(å°½å¯èƒ½é¿å…)ã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// è‡³æ­¤åˆå§‹åŒ–è¿‡ç¨‹ç»“æŸï¼Œä¸€èˆ¬åœ¨æ­¤è¿›è¡Œ:</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€ç­‰åˆå§‹åŒ–æ“ä½œã€‚</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">mounted</span>(<span class="params"></span>)&#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-3æ›´æ–°æµç¨‹"><a href="#8-3æ›´æ–°æµç¨‹" class="headerlink" title="8.3æ›´æ–°æµç¨‹:"></a>8.3æ›´æ–°æµç¨‹:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="comment">// æ­¤æ—¶:æ•°æ®æ˜¯æ–°çš„ï¼Œä½†é¡µé¢æ˜¯æ—§çš„ï¼Œå³:é¡µé¢å°šæœªå’Œæ•°æ®ä¿æŒåŒæ­¥ã€‚</span></span><br><span class="line">    <span class="title function_">beforeUpdate</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è™šæ‹ŸDOM ä¹‹é—´çš„å¯¹æ¯” ä¿®æ”¹è™šæ‹ŸDOM</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¤æ—¶:æ•°æ®æ˜¯æ–°çš„ï¼Œé¡µé¢ä¹Ÿæ˜¯æ–°çš„ï¼Œå³:é¡µé¢å’Œæ•°æ®ä¿æŒåŒæ­¥ã€‚</span></span><br><span class="line">    <span class="title function_">updated</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="8-4é”€æ¯æµç¨‹"><a href="#8-4é”€æ¯æµç¨‹" class="headerlink" title="8.4é”€æ¯æµç¨‹"></a>8.4é”€æ¯æµç¨‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ $destroy() æ–¹æ³• å®Œå…¨é”€æ¯vmå®ä¾‹ ä¸ä¼šè¿›è¡Œç®¡ç† DOMé¡µé¢äº†</span></span><br><span class="line"><span class="comment">// vm.$destroy()</span></span><br><span class="line"><span class="comment">// åŸç”ŸDOMäº‹ä»¶ä¸ä¼šè¢«é”€æ¯ ä¼šé”€æ¯è‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="comment">// æ­¤æ—¶: vmä¸­æ‰€æœ‰çš„: dataã€methodsã€æŒ‡ä»¤ç­‰ç­‰ï¼Œéƒ½å¤„äºå¯ç”¨çŠ¶æ€ï¼Œé©¬ä¸Šè¦æ‰§è¡Œé”€æ¯è¿‡ç¨‹,ä¸€èˆ¬åœ¨æ­¤é˜¶æ®µ:å…³é—­å®šæ—¶å™¨ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯.è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ç­‰æ”¶å°¾æ“ä½œ</span></span><br><span class="line">    <span class="title function_">beforeDestory</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// vm å·²é”€æ¯</span></span><br><span class="line">    <span class="title function_">destoryed</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200729110210796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ3MjM5NDE0,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="9-ç»„ä»¶åŒ–"><a href="#9-ç»„ä»¶åŒ–" class="headerlink" title="9.ç»„ä»¶åŒ– !!!"></a>9.ç»„ä»¶åŒ– !!!</h2><p><strong>å®šä¹‰ï¼šç°å®åº”ç”¨ä¸­å±€éƒ¨åŠŸèƒ½ä»£ç å’Œèµ„æºçš„é›†åˆ</strong></p><p>éå•æ–‡ä»¶ç»„ä»¶âˆ¶</p><p>â€‹ä¸€ä¸ªæ–‡ä»¶ä¸­åŒ…å«æœ‰nä¸ªç»„ä»¶ã€‚</p><p>å•æ–‡ä»¶ç»„ä»¶âˆ¶</p><p>â€‹ä¸€ä¸ªæ–‡ä»¶ä¸­åªåŒ…å«æœ‰1ä¸ªç»„ä»¶ã€‚</p><h3 id="1-éå•æ–‡ä»¶ç»„ä»¶"><a href="#1-éå•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="1.éå•æ–‡ä»¶ç»„ä»¶"></a>1.éå•æ–‡ä»¶ç»„ä»¶</h3><h4 id="1-éå•æ–‡ä»¶ç»„ä»¶-1"><a href="#1-éå•æ–‡ä»¶ç»„ä»¶-1" class="headerlink" title="1.éå•æ–‡ä»¶ç»„ä»¶"></a>1.éå•æ–‡ä»¶ç»„ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.åˆ›å»ºç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">    <span class="comment">// ä¸éœ€è¦å†™ el é…ç½®é¡¹ åªå¯é…ç½®åœ¨ vm å®ä¾‹ä¸­</span></span><br><span class="line">    <span class="comment">// el:&quot;&quot;,</span></span><br><span class="line">    <span class="comment">// data å¿…é¡»å†™æˆå‡½æ•°å¼</span></span><br><span class="line">    <span class="comment">// å¯¹è±¡å¼å¼•ç”¨çš„å†…å­˜ä¸­åŒä¸€åœ°å€ ä¼šå‡ºé”™(VueæŠ¥é”™é˜»æ­¢)</span></span><br><span class="line">    <span class="attr">data</span>:<span class="title function_">fouction</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">HTML å†…å®¹</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.æ³¨å†Œç»„ä»¶</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="comment">// æ³¨å†Œç»„ä»¶ (å±€éƒ¨æ³¨å†Œ)</span></span><br><span class="line">    <span class="attr">components</span>:&#123;</span><br><span class="line">        <span class="attr">xuexiao</span>:school,</span><br><span class="line">        <span class="comment">// ä»¥ä¸‹å¯ä»¥ç®€å†™</span></span><br><span class="line">        <span class="attr">school</span>:school,</span><br><span class="line">        <span class="comment">// ç®€å†™å½¢å¼</span></span><br><span class="line">        school</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å…¨å±€æ³¨å†Œç»„ä»¶</span></span><br><span class="line"><span class="comment">// Vue.component(&#x27;hello&#x27;,hello)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.åœ¨HTMLé¡µé¢ä¸­ä½¿ç”¨ç»„ä»¶æ ‡ç­¾</span></span><br><span class="line"><span class="comment">// åœ¨ components ä¸­é…ç½®çš„é”®å€¼</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&lt;div id=&quot;root&quot;&gt;</span></span><br><span class="line"><span class="comment">&lt;xuexiao&gt;&lt;/xuexiao&gt;</span></span><br><span class="line"><span class="comment">&lt;/div&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ç‚¹</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vueæ¨èç»„ä»¶å‘½å</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å•ä¸ªå•è¯: 1.school (çº¯å°å†™) 2.School(é¦–å­—æ¯å¤§å†™)</span></span><br><span class="line"><span class="comment">å¤šä¸ªå•è¯: 1.my-school (ç”¨-è¿æ¥) 2.MySchool(æ¯ä¸ªå•è¯é¦–å­—æ¯å‡å¤§å†™ éœ€è¦Vueè„šæ‰‹æ¶æ”¯æŒ)</span></span><br><span class="line"><span class="comment">å¤‡æ³¨:</span></span><br><span class="line"><span class="comment">(1).ç»„ä»¶åå°½å¯èƒ½å›é¿HTALä¸­å·²æœ‰çš„å…ƒç´ åç§°ï¼Œä¾‹å¦‚:h2ã€H2éƒ½ä¸è¡Œã€‚</span></span><br><span class="line"><span class="comment">(2).å¯ä»¥ä½¿ç”¨nameé…ç½®é¡¹æŒ‡å®šç»„ä»¶åœ¨å¼€å‘è€…å·¥å…·ä¸­å‘ˆç°çš„åå­—ã€‚</span></span><br><span class="line"><span class="comment">Vue.extend(&#123;</span></span><br><span class="line"><span class="comment">name:&quot;æ˜¾ç¤ºçš„åå­—&quot;,</span></span><br><span class="line"><span class="comment">&#125;)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2.å…³äºç»„ä»¶æ ‡ç­¾:</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€ç§å†™æ³•:&lt;school&gt;&lt;/school&gt;</span></span><br><span class="line"><span class="comment">ç¬¬äºŒç§å†™æ³•:&lt;school/&gt;</span></span><br><span class="line"><span class="comment">å¤‡æ³¨:ä¸ç”¨ä½¿ç”¨è„šæ‰‹æ¶æ—¶,&lt;schoo1/&gt;ä¼šå¯¼è‡´åç»­ç»„ä»¶ä¸èƒ½æ¸²æŸ“ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3.ä¸€ä¸ªç®€å†™æ–¹å¼:</span></span><br><span class="line"><span class="comment">const school = Vue.extend(optionsï¼‰å¯ç®€å†™ä¸º: const school = options</span></span><br><span class="line"><span class="comment">// å¦‚æœæ³¨å†Œæ—¶ä¼ å…¥çš„æ˜¯å¯¹è±¡ Vue è‡ªåŠ¨è°ƒç”¨Vue.extend</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="2-ç»„ä»¶çš„åµŒå¥—"><a href="#2-ç»„ä»¶çš„åµŒå¥—" class="headerlink" title="2.ç»„ä»¶çš„åµŒå¥—"></a>2.ç»„ä»¶çš„åµŒå¥—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯ä»¥åœ¨ç»„ä»¶ä¸­ä¹¦å†™ç»„ä»¶é…ç½®é¡¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extends</span>(&#123;</span><br><span class="line">    <span class="attr">template</span>:<span class="string">&quot;...&quot;</span>,</span><br><span class="line">    <span class="attr">compoent</span>:&#123;</span><br><span class="line">        scool,</span><br><span class="line">        <span class="string">&quot;...&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = <span class="title class_">Vue</span>.<span class="title function_">extends</span>(&#123;</span><br><span class="line">    <span class="attr">template</span>:<span class="string">&quot;...&quot;</span>,</span><br><span class="line">    <span class="attr">components</span>:&#123;</span><br><span class="line">        scool,</span><br><span class="line">        <span class="string">&quot;...&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="3-Vue-Compoentæ„é€ å‡½æ•°"><a href="#3-Vue-Compoentæ„é€ å‡½æ•°" class="headerlink" title="3. Vue Compoentæ„é€ å‡½æ•°"></a>3. Vue Compoentæ„é€ å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">vm å®ä¾‹ä¸­ åŒ…å« $children ä¸ºæ•°ç»„ æ•°ç»„ä¸­åŒ…å«ç€ <span class="title class_">VueComponent</span> å¯¹è±¡</span><br><span class="line"><span class="title class_">VueComponent</span> ä¸­ çš„æˆå‘˜å˜é‡ä»¥åŠæ–¹æ³•ä¸ vm ä¸€è‡´</span><br><span class="line"></span><br><span class="line">ç»„ä»¶: ä¸å¯ä½¿ç”¨ el  data åªèƒ½ä½¿ç”¨å‡½æ•°å¼</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å…³äºVueComponent:</span></span><br><span class="line"><span class="comment">1.schoolç»„ä»¶æœ¨è´¨æ˜¯ä¸€ä¸ªåä¸ºvueComponentçš„æ„é€ å‡½æ•°ï¼Œä¸”ä¸æ˜¯å’Œåºå‘˜å®šä¹‰çš„ï¼Œæ˜¯Vue.extendç”Ÿæˆçš„ã€‚</span></span><br><span class="line"><span class="comment">2.æˆ‘ä»¬åªéœ€è¦å†™&lt;school/&gt;æˆ–&lt;schoolx&lt;/school&gt;.Vueè§£ææ—¶ä¼šå¸®æˆ‘ä»¬åˆ›å»ºschoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡,Nvueå¸®æˆ‘ä»¬æ‰§è¡Œçš„:new VueComponent(options)-</span></span><br><span class="line"><span class="comment">3.ç‰¹åˆ«æ³¨æ„:æ¯æ¬¡è°ƒç”¨vue.extendï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„VueComponent! !!!</span></span><br><span class="line"><span class="comment">4.å…³äºthisæŒ‡å‘:</span></span><br><span class="line"><span class="comment">(1).ç»„ä»¶é…ç½®ä¸­:</span></span><br><span class="line"><span class="comment">dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•°å®ƒä»¬çš„thiså‡æ˜¯ã€VueComponentå®ä¾‹å¯¹è±¡ã€‘</span></span><br><span class="line"><span class="comment">(2).new Vueé…ç½®ä¸­: </span></span><br><span class="line"><span class="comment">dataé›¨æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•°å®ƒä»¬çš„thiså‡æ˜¯ã€Vueå®ä¾‹å¯¹è±¡ã€‘.</span></span><br><span class="line"><span class="comment">5.VueComponentçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vcï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸º:ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼‰.</span></span><br><span class="line"><span class="comment">Vueçš„å®ä¾‹å¯¹è±¡,ä»¥åç®€ç§°vm.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="4-é‡è¦çš„å†…ç½®å…³ç³»"><a href="#4-é‡è¦çš„å†…ç½®å…³ç³»" class="headerlink" title="4.é‡è¦çš„å†…ç½®å…³ç³»"></a>4.é‡è¦çš„å†…ç½®å…³ç³»</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.ä¸€ä¸ªé‡è¦çš„å†…ç½®å…³ç³»:VueComponent.prototype._proto_ == Vue.prototype</span></span><br><span class="line"><span class="comment">2.ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªå…³ç³»:è®©ç»„ä»¶å®ä¾‹å¯¹è±¡(vcï¼‰å¯ä»¥è®¿é—®åˆ°VueåŸå‹ä¸Šçš„å±æ€§ã€æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><strong>Vue ä¸ VueComponent çš„å…³ç³»</strong></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220405165609319.png" alt="image-20220405165609319"></p><h3 id="2-å•æ–‡ä»¶ç»„ä»¶"><a href="#2-å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="2.å•æ–‡ä»¶ç»„ä»¶"></a>2.å•æ–‡ä»¶ç»„ä»¶</h3><p>{webpack, è„šæ‰‹æ¶} ç¼–è¯‘ä½¿ç”¨ .vueåç¼€</p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220405182255969.png" alt="image-20220405182255969"></p><p><strong>Appç»“æ„</strong></p><p><strong>å®‰è£… VSCODE vue æ’ä»¶ å è¾“å…¥ &lt;v  tabé”®å°±å¯è‡ªåŠ¨è¡¥å…¨</strong></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220405182553879.png" alt="image-20220405182553879"></p><p><strong>main.js</strong></p><p><img src="https://snowblogimg-1309537252.cos.ap-nanjing.myqcloud.com/img/image-20220405182701818.png" alt="image-20220405182701818"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
